(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{50441:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var n=t(57437),i=t(22960),l=t(2265),u=t(59589);t(91683),t(71601);var o=t(79418),s=t(30089),c=t(11144),d=t(4766),a=t(5085),v=t(94547),f=t(83593),g=t(71432),h=t(15785);function b(e){let r=e.role===v._b.Controller,t=(0,l.useRef)(null),b=(0,l.useRef)(null),{revealIndex:S,setRevealIndex:p,targetIndex:x,setTargetIndex:E}=(0,d.u5)(),[m,R]=(0,l.useState)(!1),{session:y}=(0,l.useContext)(c.z),{deviceId:w}=(0,l.useContext)(a.rZ),{setSlideData:C}=(0,d.QZ)();(0,l.useEffect)(()=>{!t.current&&b.current&&(console.debug("⬆️ Presentation mount..."),t.current=new u.Z(b.current,{embedded:e.embedded,controls:r,keyboard:r,touch:r,overview:!1,help:r,hideInactiveCursor:!r,showNotes:!1,plugins:[]}),console.debug("initialising reveal..."),t.current.initialize({controlsTutorial:!1,slideNumber:r?"c/t":void 0,progress:!1,controlsBackArrows:"faded",controlsLayout:"edges",scrollActivationWidth:void 0}).then(()=>{console.debug("Reveal: initialised"),R(!0),t.current.slide(null!=S?S:0),_(null!=S?S:0),t.current.on("slidechanged",e=>{p(t.current.getState().indexh)})}).catch(e=>console.error(e)))},[]),(0,l.useEffect)(()=>{if(!(0,g.r)(b.current)||!(0,g.r)(t.current)||!m)return;let e=new ResizeObserver(()=>{var e;null===(e=t.current)||void 0===e||e.layout()});return e.observe(b.current),()=>{e.disconnect()}},[t,m]),(0,l.useEffect)(()=>{(0,g.r)(t.current)&&m&&t.current.getState().indexh!==y.liveExperienceState.slideX&&y.liveExperienceState.originator!==w&&(console.debug("incoming liveExperienceState slide index: ".concat(y.liveExperienceState.slideX),y.liveExperienceState),E(y.liveExperienceState.slideX))},[y.liveExperienceState.slideX,t,m]),(0,l.useEffect)(()=>{if((0,g.r)(t.current)&&m&&(0,g.r)(x)){if(t.current.getState().indexh!==x){var e;null===(e=t.current)||void 0===e||e.slide(x)}E(void 0)}},[x,t,m]),(0,l.useEffect)(()=>{console.debug("reveal slide index: ".concat(S)),_(null!=S?S:0)},[S]);let _=e=>{var r;if(!(0,g.r)(t.current)||!(0,g.r)(C))return;let n=t.current.getSlide(e),i=(0,g.r)(n),l=null!==(r=t.current.getSlideNotes(n))&&void 0!==r?r:"";C(i?k(e,n,l):h.I)},k=(e,r,t)=>{var n,i,l;let u=null!==(n=(0,s.kh)(r.getAttribute("qids")))&&void 0!==n?n:[],c=r.getAttribute("secs"),d=(0,g.r)(c)?parseFloat(c):void 0,a=r.getAttribute("activity"),v=(0,g.r)(a)?(0,s.pC)(a):h.S.default;return{index:e,notes:t,qids:u,secs:d,activity:v,recordingId:null!==(i=r.getAttribute("recording"))&&void 0!==i?i:void 0,transitionSound:null===(l=(0,o.$Q)(r.getAttribute("transition-sound")))||void 0===l||l}};(0,l.useEffect)(()=>()=>{t.current&&t.current.isReady()&&(console.debug("⬇️ Presentation unmount..."),t.current.destroy(),t.current=null)},[]);let[A,N]=(0,l.useState)();(0,l.useEffect)(()=>(f.Z.on(f.M.Request_SlideRefresh,N),()=>{f.Z.off(f.M.Request_SlideRefresh,N)}),[]),(0,l.useEffect)(()=>{if(m&&(0,g.r)(A)&&A.type===f.M.Request_SlideRefresh){var e,r;null===(e=t.current)||void 0===e||e.syncSlide(t.current.getCurrentSlide()),null===(r=t.current)||void 0===r||r.layout()}},[A,m]);let Z=(0,i.Z)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:b,className:"reveal",style:{width:"100%",height:"100%",borderRadius:"0.5rem",border:e.showBorder?"solid 2px":void 0,borderColor:e.showBorder?Z.palette.primary.main:void 0},children:(0,n.jsx)("div",{className:"slides",children:e.slides})})})}},91683:function(){},71601:function(){}}]);