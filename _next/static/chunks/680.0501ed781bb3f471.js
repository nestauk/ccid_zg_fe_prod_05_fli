(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{1680:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(95155),i=r(25789),l=r(12115),s=r(4612);r(94466),r(44378);var u=r(23971),o=r(79178),c=r(98314),d=r(80431),a=r(84073),f=r(18932),v=r(69999),g=r(54884),h=r(78055);function b(e){let t=e.role===f.sW.Controller,r=(0,l.useRef)(null),b=(0,l.useRef)(null),{revealIndex:p,setRevealIndex:E,targetIndex:S,setTargetIndex:m}=(0,d.cA)(),[x,y]=(0,l.useState)(!1),{session:A}=(0,l.useContext)(c.$),{deviceId:R}=(0,l.useContext)(a.yk),{setSlideData:w}=(0,d.O6)();(0,l.useEffect)(()=>{!r.current&&b.current&&(console.debug("⬆️ Presentation mount..."),r.current=new s.A(b.current,{embedded:e.embedded,controls:t,keyboard:t,touch:t,overview:!1,help:t,hideInactiveCursor:!t,showNotes:!1,plugins:[]}),console.debug("initialising reveal..."),r.current.initialize({controlsTutorial:!1,slideNumber:t?"c/t":void 0,progress:!1,controlsBackArrows:"faded",controlsLayout:"edges",scrollActivationWidth:void 0}).then(()=>{console.debug("Reveal: initialised"),y(!0),r.current.slide(null!=p?p:0),C(null!=p?p:0),r.current.on("slidechanged",e=>{E(t=>e.indexh)})}).catch(e=>console.error(e)))},[]),(0,l.useEffect)(()=>{if(!(0,g.s)(b.current)||!(0,g.s)(r.current)||!x)return;let e=new ResizeObserver(()=>{var e;null==(e=r.current)||e.layout()});return e.observe(b.current),()=>{e.disconnect()}},[r,x]),(0,l.useEffect)(()=>{(0,g.s)(r.current)&&x&&p!==A.liveExperienceState.slideX&&A.liveExperienceState.originator!==R&&(console.debug("incoming liveExperienceState slide index: ".concat(A.liveExperienceState.slideX),A.liveExperienceState),m(e=>A.liveExperienceState.slideX))},[A.liveExperienceState,r,x]),(0,l.useEffect)(()=>{if((0,g.s)(r.current)&&x){if((0,g.s)(S)&&p!==S){var e;null==(e=r.current)||e.slide(S)}m(e=>e===p?void 0:e)}},[S,r,x]),(0,l.useEffect)(()=>{C(null!=p?p:0)},[p]);let C=e=>{var t;if(!(0,g.s)(r.current)||!(0,g.s)(w))return;let n=r.current.getSlide(e),i=(0,g.s)(n),l=null!=(t=r.current.getSlideNotes(n))?t:"";w(i?_(e,n,l):h.M)},_=(e,t,r)=>{var n,i,l;let s=null!=(n=(0,o.F8)(t.getAttribute("qids")))?n:[],c=t.getAttribute("secs"),d=(0,g.s)(c)?parseFloat(c):void 0,a=t.getAttribute("activity"),f=(0,g.s)(a)?(0,o.Fq)(a):h.t.default,v=null!=(i=t.getAttribute("recording"))?i:void 0;return{index:e,notes:r,qids:s,secs:d,activity:f,recordingId:v,transitionSound:null==(l=(0,u.$_)(t.getAttribute("transition-sound")))||l}};(0,l.useEffect)(()=>()=>{r.current&&r.current.isReady()&&(console.debug("⬇️ Presentation unmount..."),r.current.destroy(),r.current=null)},[]);let[k,N]=(0,l.useState)();(0,l.useEffect)(()=>(v.A.on(v.m.Request_SlideRefresh,N),()=>{v.A.off(v.m.Request_SlideRefresh,N)}),[]),(0,l.useEffect)(()=>{if(x&&(0,g.s)(k)&&k.type===v.m.Request_SlideRefresh){var e,t;null==(e=r.current)||e.syncSlide(r.current.getCurrentSlide()),null==(t=r.current)||t.layout()}},[k,x]);let q=(0,i.A)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:b,className:"reveal",style:{width:"100%",height:"100%",borderRadius:"0.5rem",border:e.showBorder?"solid 2px":void 0,borderColor:e.showBorder?q.palette.primary.main:void 0},children:(0,n.jsx)("div",{className:"slides",children:e.slides})})})}},44378:()=>{},94466:()=>{}}]);