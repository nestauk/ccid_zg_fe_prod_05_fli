(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{48:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportDirection=void 0,function(e){e[e.UPSTREAM=0]="UPSTREAM",e[e.DOWNSTREAM=1]="DOWNSTREAM"}(i=t.ClientMetricReportDirection||(t.ClientMetricReportDirection={})),t.default=i},100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t){this.signalingURL=e,this.joinToken=t}url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}}t.default=i},389:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.decideModel=t.measureAndDecideExecutionApproach=void 0;let r=i(79018),s=i(1188),o=3,a=2.5,l=2.63,u=.6,d=.65,c=.5,h=.7,f={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};class p{constructor(e,t){this.fetchConfig=e,this.logger=t;let i=`${e.paths.workers}estimator-v1.js`;this.fetchBehavior={headers:e.headers,escapedQueryString:e.escapedQueryString},this.worker=(0,r.loadWorker)(i,"VoiceFocusEstimator",this.fetchBehavior,t)}roundtrip(e,t,i){return new Promise((n,r)=>{this.worker.then(r=>{let s;s=e=>{let{message:o,key:a}=e.data;o===t&&a===i&&(r.removeEventListener("message",s),n(e.data))},r.addEventListener("message",s),r.postMessage(e)}).catch(e=>{var t;null==(t=this.logger)||t.error("Failed to load worker.",e),r(e)})})}supportsSIMD(e){let t="simd",i=e||`${this.fetchConfig.paths.wasm}simd-v1.wasm`,n={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:i,key:t};return this.roundtrip(n,"simd-support",t).then(e=>e.supports)}measure(e,t){let i=`${this.fetchConfig.paths.wasm}bench-v1.wasm`,n=`${this.fetchConfig.paths.wasm}bench-v1_simd.wasm`,r=e?n:i,s=`bench:${e}`,o={message:"measure",fetchBehavior:this.fetchBehavior,budget:t,path:r,key:s};return this.roundtrip(o,"measurement",s).then(e=>{if(e.measurement)return e.measurement;throw Error("Failed to measure.")})}stop(){this.worker.then(e=>{var t;null==(t=this.logger)||t.debug("Stopping estimator worker."),e.terminate()}).catch(e=>{})}}let m=(e,t)=>1===e?u:"quality"===t?d*e:c*e,g=({supportsSIMD:e,supportsSAB:t,duration:i,executionPreference:n="auto",simdPreference:r,variantPreference:u="auto",namePreference:d="default",usagePreference:c,executionQuantaPreference:p=o},g=f,v)=>{let y="force"===r||"disable"!==r&&e,b=-1!==i,S=b?(y?a:l)/i:0,w=y?g.simd:g.wasm,C=b?m(p,c)*S:0,x=b?h*S:0,k=d,A=e=>({supported:!1,reason:e});if(b){if(S<w.noSupport)return A(`Performance score ${S} worse than threshold ${w.noSupport}.`)}else if("auto"===n||"auto"===u)return A(`Missing explicit execution (${n}) or variant (${u}) preference, but no scoring performed.`);null==v||v.debug(`Bench duration ${i} yields inline score ${C} and worker score ${x}.`);let E=(e,t,i)=>({supported:!0,useSIMD:y,processor:e,executionApproach:t,variant:i,executionQuanta:"inline"===t?p:void 0,name:k}),M=(e,t,i)=>"auto"!==t?!b||e>i[t]?t:"failed":e>i.c100?"c100":e>i.c50?"c50":e>i.c20?"c20":e>i.c10?"c10":"failed",T=e=>{switch(e||"auto"){case"auto":{let e=T("inline"),t=T("worker");if(null==v||v.debug(`Reducing auto preference: ${JSON.stringify(e)} vs ${JSON.stringify(t)}`),!1===e.supported||!1===t.supported)return t;if(e.variant===t.variant||"c50"===e.variant)return e;return t}case"worker":if((0,s.supportsSharedArrayBuffer)(globalThis,window,v))return T("worker-sab");return T("worker-postMessage");case"inline":{let e=M(C,u,w.inline);if("failed"===e)return A(`Performance score ${C} not sufficient for inline use with variant preference ${u}.`);return E("voicefocus-inline-processor","inline",e)}case"worker-sab":{if(!t){let e="Requested worker-sab but no SharedArrayBuffer support.";return null==v||v.warn(e),{supported:!1,reason:e}}let e=M(x,u,w.worker);if("failed"===e)return A(`Performance score ${x} not sufficient for worker use with variant preference ${u}.`);return E("voicefocus-worker-sab-processor","worker-sab",e)}case"worker-postMessage":{let e=M(x,u,w.worker);if("failed"===e)return A(`Performance score ${x} not sufficient for worker use.`);if("ns_es"===k){let e="Requested echo suppression but postMessage executor does not support it.";return null==v||v.warn(e),{supported:!1,reason:e}}return E("voicefocus-worker-postMessage-processor","worker-postMessage",e)}}};return T(n)},v=(e,t,i,r)=>n(void 0,void 0,void 0,function*(){let n={supportsSIMD:e,supportsSAB:(0,s.supportsSharedArrayBuffer)(globalThis,window,i),duration:-1};if(e)return null==i||i.info("Supports SIMD: true (force)"),n;let o=!r,a=r||new p(t,i);try{let t=!(0,s.isOldChrome)(window,i)&&(yield a.supportsSIMD());return null==i||i.info(`Supports SIMD: ${t} (force: ${e})`),n.supportsSIMD=t,n}finally{o&&a.stop()}}),y=(e,t,i,r)=>n(void 0,void 0,void 0,function*(){let n=new p(t,r);try{let s=yield v(e,t,r,n);if(s.supportsSIMD)try{return s.duration=yield n.measure(!0,i),null==r||r.info("SIMD timing:",s.duration),s}catch(e){null==r||r.warn("Failed SIMD estimation; falling back to non-SIMD."),s.supportsSIMD=!1}return s.duration=yield n.measure(!1,i),null==r||r.info("No-SIMD timing:",s.duration),s}catch(e){throw null==r||r.error("Could not feature check.",e),e}finally{n.stop()}});t.measureAndDecideExecutionApproach=(e,t,i,r=f)=>n(void 0,void 0,void 0,function*(){let n,s=e.executionPreference,{usagePreference:o,variantPreference:a,namePreference:l,simdPreference:u,estimatorBudget:d,executionQuantaPreference:c}=e;"interactivity"===o&&"inline"!==s&&(null==i||i.debug(`Overriding execution preference ${s} to reflect interactivity preference.`),s="inline");let h="force"===u,f="auto"!==a,p="auto"!==s;try{n=f&&p?yield v(h,t,i):yield y(h,t,d,i)}catch(e){throw null==i||i.error("Could not load estimator.",e),Error("Could not load Voice Focus estimator.")}return g(Object.assign(Object.assign({},n),{simdPreference:u,executionPreference:s,variantPreference:a,namePreference:l,usagePreference:o,executionQuantaPreference:c}),r,i)}),t.decideModel=({category:e,name:t,variant:i,simd:n,url:r})=>`${e}-${t}-${i}-v1${n?"_simd":""}`},402:(e,t,i)=>{"use strict";function n(e){return null===e?NaN:+e}function*r(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let i=-1;for(let n of e)null!=(n=t(n,++i,e))&&(n*=1)>=n&&(yield n)}}i.d(t,{A:()=>n,n:()=>r})},1150:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=i(95155),r=i(12115),s=i(24437);function o(e){return{default:e&&"default"in e?e.default:e}}i(36552);let a={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},l=function(e){let t={...a,...e},i=(0,r.lazy)(()=>t.loader().then(o)),l=t.loading;function u(e){let o=l?(0,n.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,u=a?r.Suspense:r.Fragment,d=a?{fallback:o}:{},c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(i,{...e})]}):(0,n.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(i,{...e})});return(0,n.jsx)(u,{...d,children:c})}return u.displayName="LoadableComponent",u}},1188:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.isOldChrome=t.supportsWASMStreaming=t.supportsSharedArrayBuffer=t.supportsWASM=t.supportsAudioWorklet=t.supportsWorker=t.supportsVoiceFocusWorker=t.supportsWASMPostMessage=t.isSafari=void 0;let r=i(79018),s=(e=globalThis)=>!!e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);t.isSafari=(e=globalThis)=>{let t=e.navigator.userAgent,i=t.match(/Safari\//),n=t.match(/Chrom(?:e|ium)\//);return!!(i&&!n)};let o=(e=globalThis)=>!(0,t.isSafari)(e)&&(!s(e)||95>(u(e)||0));t.supportsWASMPostMessage=o;let a=(e=globalThis,i,s)=>n(void 0,void 0,void 0,function*(){if(!(0,t.supportsWorker)(e,s))return!1;let n=`${i.paths.workers}worker-v1.js`;try{let e=yield(0,r.loadWorker)(n,"VoiceFocusTestWorker",i,s);try{e.terminate()}catch(e){null==s||s.debug("Failed to terminate worker.",e)}return!0}catch(e){return null==s||s.info("Failed to fetch and instantiate test worker",e),!1}});t.supportsVoiceFocusWorker=a,t.supportsWorker=(e=globalThis,t)=>{try{return!!e.Worker}catch(e){return null==t||t.info("Does not support Worker",e),!1}},t.supportsAudioWorklet=(e=globalThis,t)=>{try{return!!e.AudioWorklet&&!!e.AudioWorkletNode}catch(e){return null==t||t.info("Does not support Audio Worklet",e),!1}},t.supportsWASM=(e=globalThis,t)=>{try{return!!e.WebAssembly&&(!!e.WebAssembly.compile||!!e.WebAssembly.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM",e),!1}},t.supportsSharedArrayBuffer=(e=globalThis,t=globalThis,i)=>{try{return!!e.SharedArrayBuffer&&(!!t.chrome||!!e.crossOriginIsolated)}catch(e){return null==i||i.info("Does not support SharedArrayBuffer."),!1}},t.supportsWASMStreaming=(e=globalThis,t)=>{var i;try{return!!(null==(i=e.WebAssembly)?void 0:i.compileStreaming)}catch(e){return null==t||t.info("Does not support WASM streaming compilation",e),!1}};let l=90,u=(e=globalThis)=>{try{if(!e.chrome)return}catch(e){}let t=e.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(t)return parseInt(t[1],10)};t.isOldChrome=(e=globalThis,t)=>{let i=u(e);return!!i&&i<l&&(null==t||t.debug(`Chrome ${i} has incomplete SIMD support.`),!0)}},1417:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(96119),s=n(i(44748));class o{constructor(e){this._statusCode=e}statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case s.default.AudioAuthenticationRejected:case s.default.AudioCallAtCapacity:case s.default.AudioInternalServerError:case s.default.AudioServiceUnavailable:case s.default.AudioDisconnected:case s.default.VideoCallAtSourceCapacity:case s.default.SignalingBadRequest:case s.default.SignalingInternalServerError:case s.default.SignalingRequestFailed:case s.default.ICEGatheringTimeoutWorkaround:case s.default.ConnectionHealthReconnect:case s.default.RealtimeApiFailed:case s.default.TaskFailed:case s.default.NoAttendeePresent:case s.default.SignalingChannelClosedUnexpectedly:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case s.default.Left:case s.default.AudioJoinedFromAnotherDevice:case s.default.AudioAuthenticationRejected:case s.default.AudioCallAtCapacity:case s.default.MeetingEnded:case s.default.AudioDisconnected:case s.default.TURNCredentialsForbidden:case s.default.SignalingBadRequest:case s.default.SignalingRequestFailed:case s.default.VideoCallAtSourceCapacity:case s.default.RealtimeApiFailed:case s.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case s.default.AudioAuthenticationRejected:case s.default.AudioInternalServerError:case s.default.AudioServiceUnavailable:case s.default.ICEGatheringTimeoutWorkaround:case s.default.SignalingBadRequest:case s.default.SignalingInternalServerError:case s.default.SignalingRequestFailed:case s.default.RealtimeApiFailed:case s.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case s.default.OK:return"Everything is OK so far.";case s.default.Left:return"The attendee left the meeting.";case s.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case s.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case s.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case s.default.MeetingEnded:return"The meeting ended.";case s.default.AudioInternalServerError:case s.default.AudioServiceUnavailable:case s.default.AudioDisconnected:return"The audio connection failed.";case s.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case s.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case s.default.SignalingBadRequest:case s.default.SignalingInternalServerError:case s.default.SignalingRequestFailed:return"The signaling connection failed.";case s.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case s.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case s.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case s.default.TaskFailed:return"The connection failed. See the error message for more details.";case s.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case s.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case s.default.NoAttendeePresent:return"The attendee was not present.";case s.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case s.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case s.default.AudioVideoDisconnectedWhilePromoted:return"The client disconnected while promoted, which will automatically demote. The attendee must promote again to participate.";case s.default.AudioDisconnectAudio:return"The audio connection failed.";case s.default.SignalingChannelClosedUnexpectedly:return"The signaling channel was closed unexpectedly. This may be due to a network change or backend detected failure.";default:{let e=this._statusCode;throw Error(`Unhandled case: ${e}`)}}}static fromSignalFrame(e){return e.error&&e.error.status?this.fromSignalingStatus(e.error.status):e.type===r.SdkSignalFrame.Type.AUDIO_STATUS?e.audioStatus?this.fromAudioStatus(e.audioStatus.audioStatus):new o(s.default.SignalingRequestFailed):e.type===r.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new o(s.default.AudioVideoWasRemovedFromPrimaryMeeting):new o(s.default.OK)}static fromAudioStatus(e){switch(e){case 200:return new o(s.default.OK);case 301:return new o(s.default.AudioJoinedFromAnotherDevice);case 302:return new o(s.default.AudioDisconnectAudio);case 403:return new o(s.default.AudioAuthenticationRejected);case 409:return new o(s.default.AudioCallAtCapacity);case 410:return new o(s.default.MeetingEnded);case 411:return new o(s.default.AudioAttendeeRemoved);case 500:return new o(s.default.AudioInternalServerError);case 503:return new o(s.default.AudioServiceUnavailable);default:if(2===Math.floor(e/100))return new o(s.default.OK);return new o(s.default.AudioDisconnected)}}static fromSignalingStatus(e){switch(e){case 206:return new o(s.default.VideoCallSwitchToViewOnly);case 509:return new o(s.default.VideoCallAtSourceCapacity);case 403:return new o(s.default.AudioAuthenticationRejected);case 409:return new o(s.default.AudioCallAtCapacity);default:switch(Math.floor(e/100)){case 2:return new o(s.default.OK);case 4:return new o(s.default.SignalingBadRequest);case 5:return new o(s.default.SignalingInternalServerError);default:return new o(s.default.SignalingRequestFailed)}}}}t.default=o},1704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoTransformDevice=void 0,t.isVideoTransformDevice=function(e){return!!e&&"object"==typeof e&&"transformStream"in e&&"stop"in e&&"intrinsicDevice"in e}},1855:(e,t,i)=>{"use strict";i.d(t,{DC:()=>r,aL:()=>o});var n,r,s,o,a,l=i(27231),u=i(60671),d=i(98322);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function p(e){var t=e.dateTime,i=e.date,n=e.time,r=e.periods,s=e.days,o=e.shortDays,a=e.months,d=e.shortMonths,p=w(r),g=C(r),v=w(s),y=C(s),b=w(o),S=C(o),ee=w(a),eS=C(a),eR=w(d),eO=C(d),eD={a:eK,A:eX,b:eY,B:eJ,c:null,d:H,e:H,f:K,g:es,G:ea,H:$,I:W,j:q,L:G,m:X,M:Y,p:eQ,q:eZ,Q:eP,s:eI,S:J,u:Q,U:Z,V:et,w:ei,W:en,x:null,X:null,y:er,Y:eo,Z:el,"%":e_},eL={a:e0,A:e1,b:e2,B:e5,c:null,d:eu,e:eu,f:ep,g:eA,G:eM,H:ed,I:ec,j:eh,L:ef,m:em,M:eg,p:e3,q:e4,Q:eP,s:eI,S:ev,u:ey,U:eb,V:ew,w:eC,W:ex,x:null,X:null,y:ek,Y:eE,Z:eT,"%":e_},eN={a:ez,A:ej,b:eH,B:e$,c:eW,d:O,e:O,f:V,g:_,G:T,H:L,I:L,j:D,L:B,m:R,M:N,p:eU,q:I,Q:z,s:j,S:F,u:k,U:A,V:E,w:x,W:M,x:eq,X:eG,y:_,Y:T,Z:P,"%":U};function eF(e,t){return function(i){var n,r,s,o=[],a=-1,l=0,u=e.length;for(i instanceof Date||(i=new Date(+i));++a<u;)37===e.charCodeAt(a)&&(o.push(e.slice(l,a)),null!=(r=m[n=e.charAt(++a)])?n=e.charAt(++a):r="e"===n?" ":"0",(s=t[n])&&(n=s(i,r)),o.push(n),l=a+1);return o.push(e.slice(l,a)),o.join("")}}function eB(e,t){return function(i){var n,r,s=f(1900,void 0,1);if(eV(s,e,i+="",0)!=i.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!t||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(r=(n=h(f(s.y,0,1))).getUTCDay())>4||0===r?l.rt.ceil(n):(0,l.rt)(n),n=u.dA.offset(n,(s.V-1)*7),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(n=(r=(n=c(f(s.y,0,1))).getDay())>4||0===r?l.AB.ceil(n):(0,l.AB)(n),n=u.UA.offset(n,(s.V-1)*7),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:+("W"in s)),r="Z"in s?h(f(s.y,0,1)).getUTCDay():c(f(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,h(s)):c(s)}}function eV(e,t,i,n){for(var r,s,o=0,a=t.length,l=i.length;o<a;){if(n>=l)return -1;if(37===(r=t.charCodeAt(o++))){if(!(s=eN[(r=t.charAt(o++))in m?t.charAt(o++):r])||(n=s(e,i,n))<0)return -1}else if(r!=i.charCodeAt(n++))return -1}return n}function eU(e,t,i){var n=p.exec(t.slice(i));return n?(e.p=g.get(n[0].toLowerCase()),i+n[0].length):-1}function ez(e,t,i){var n=b.exec(t.slice(i));return n?(e.w=S.get(n[0].toLowerCase()),i+n[0].length):-1}function ej(e,t,i){var n=v.exec(t.slice(i));return n?(e.w=y.get(n[0].toLowerCase()),i+n[0].length):-1}function eH(e,t,i){var n=eR.exec(t.slice(i));return n?(e.m=eO.get(n[0].toLowerCase()),i+n[0].length):-1}function e$(e,t,i){var n=ee.exec(t.slice(i));return n?(e.m=eS.get(n[0].toLowerCase()),i+n[0].length):-1}function eW(e,i,n){return eV(e,t,i,n)}function eq(e,t,n){return eV(e,i,t,n)}function eG(e,t,i){return eV(e,n,t,i)}function eK(e){return o[e.getDay()]}function eX(e){return s[e.getDay()]}function eY(e){return d[e.getMonth()]}function eJ(e){return a[e.getMonth()]}function eQ(e){return r[+(e.getHours()>=12)]}function eZ(e){return 1+~~(e.getMonth()/3)}function e0(e){return o[e.getUTCDay()]}function e1(e){return s[e.getUTCDay()]}function e2(e){return d[e.getUTCMonth()]}function e5(e){return a[e.getUTCMonth()]}function e3(e){return r[+(e.getUTCHours()>=12)]}function e4(e){return 1+~~(e.getUTCMonth()/3)}return eD.x=eF(i,eD),eD.X=eF(n,eD),eD.c=eF(t,eD),eL.x=eF(i,eL),eL.X=eF(n,eL),eL.c=eF(t,eL),{format:function(e){var t=eF(e+="",eD);return t.toString=function(){return e},t},parse:function(e){var t=eB(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=eF(e+="",eL);return t.toString=function(){return e},t},utcParse:function(e){var t=eB(e+="",!0);return t.toString=function(){return e},t}}}var m={"-":"",_:" ",0:"0"},g=/^\s*\d+/,v=/^%/,y=/[\\^$*+?|[\]().{}]/g;function b(e,t,i){var n=e<0?"-":"",r=(n?-e:e)+"",s=r.length;return n+(s<i?Array(i-s+1).join(t)+r:r)}function S(e){return e.replace(y,"\\$&")}function w(e){return RegExp("^(?:"+e.map(S).join("|")+")","i")}function C(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function x(e,t,i){var n=g.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function k(e,t,i){var n=g.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function A(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function E(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function M(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function T(e,t,i){var n=g.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function _(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function P(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function I(e,t,i){var n=g.exec(t.slice(i,i+1));return n?(e.q=3*n[0]-3,i+n[0].length):-1}function R(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function O(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function D(e,t,i){var n=g.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function L(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function N(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function F(e,t,i){var n=g.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function B(e,t,i){var n=g.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function V(e,t,i){var n=g.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function U(e,t,i){var n=v.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function z(e,t,i){var n=g.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function j(e,t,i){var n=g.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function H(e,t){return b(e.getDate(),t,2)}function $(e,t){return b(e.getHours(),t,2)}function W(e,t){return b(e.getHours()%12||12,t,2)}function q(e,t){return b(1+u.UA.count((0,d.he)(e),e),t,3)}function G(e,t){return b(e.getMilliseconds(),t,3)}function K(e,t){return G(e,t)+"000"}function X(e,t){return b(e.getMonth()+1,t,2)}function Y(e,t){return b(e.getMinutes(),t,2)}function J(e,t){return b(e.getSeconds(),t,2)}function Q(e){var t=e.getDay();return 0===t?7:t}function Z(e,t){return b(l.YP.count((0,d.he)(e)-1,e),t,2)}function ee(e){var t=e.getDay();return t>=4||0===t?(0,l.Mo)(e):l.Mo.ceil(e)}function et(e,t){return e=ee(e),b(l.Mo.count((0,d.he)(e),e)+(4===(0,d.he)(e).getDay()),t,2)}function ei(e){return e.getDay()}function en(e,t){return b(l.AB.count((0,d.he)(e)-1,e),t,2)}function er(e,t){return b(e.getFullYear()%100,t,2)}function es(e,t){return b((e=ee(e)).getFullYear()%100,t,2)}function eo(e,t){return b(e.getFullYear()%1e4,t,4)}function ea(e,t){var i=e.getDay();return b((e=i>=4||0===i?(0,l.Mo)(e):l.Mo.ceil(e)).getFullYear()%1e4,t,4)}function el(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function eu(e,t){return b(e.getUTCDate(),t,2)}function ed(e,t){return b(e.getUTCHours(),t,2)}function ec(e,t){return b(e.getUTCHours()%12||12,t,2)}function eh(e,t){return b(1+u.dA.count((0,d.Mb)(e),e),t,3)}function ef(e,t){return b(e.getUTCMilliseconds(),t,3)}function ep(e,t){return ef(e,t)+"000"}function em(e,t){return b(e.getUTCMonth()+1,t,2)}function eg(e,t){return b(e.getUTCMinutes(),t,2)}function ev(e,t){return b(e.getUTCSeconds(),t,2)}function ey(e){var t=e.getUTCDay();return 0===t?7:t}function eb(e,t){return b(l.Hl.count((0,d.Mb)(e)-1,e),t,2)}function eS(e){var t=e.getUTCDay();return t>=4||0===t?(0,l.pT)(e):l.pT.ceil(e)}function ew(e,t){return e=eS(e),b(l.pT.count((0,d.Mb)(e),e)+(4===(0,d.Mb)(e).getUTCDay()),t,2)}function eC(e){return e.getUTCDay()}function ex(e,t){return b(l.rt.count((0,d.Mb)(e)-1,e),t,2)}function ek(e,t){return b(e.getUTCFullYear()%100,t,2)}function eA(e,t){return b((e=eS(e)).getUTCFullYear()%100,t,2)}function eE(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function eM(e,t){var i=e.getUTCDay();return b((e=i>=4||0===i?(0,l.pT)(e):l.pT.ceil(e)).getUTCFullYear()%1e4,t,4)}function eT(){return"+0000"}function e_(){return"%"}function eP(e){return+e}function eI(e){return Math.floor(e/1e3)}(function e(e){return r=(n=p(e)).format,s=n.parse,o=n.utcFormat,a=n.utcParse})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},1859:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam")},2218:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)([(0,r.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,r.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber")},2298:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Modality="#content"}(i||(i={})),t.default=i},2309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},2462:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});class n{constructor(e,t){if(this._retries=0,!Number.isInteger(e)||e<0)throw Error("Base must be a positive integer or zero");if(void 0!==t&&(!Number.isInteger(t)||t<0))throw Error("ExpMax must be a undefined, a positive integer or zero");this.base=e,this.expMax=t,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=void 0===this.expMax?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}},3207:(e,t,i)=>{"use strict";i.d(t,{oz:()=>rU});var n={};i.r(n),i.d(n,{boolean:()=>y,booleanish:()=>b,commaOrSpaceSeparated:()=>k,commaSeparated:()=>x,number:()=>w,overloadedBoolean:()=>S,spaceSeparated:()=>C});var r={};function s(e,t){let i=t||{};return(""===e[e.length-1]?[...e,""]:e).join((i.padRight?" ":"")+","+(!1===i.padLeft?"":" ")).trim()}i.r(r),i.d(r,{attentionMarkers:()=>iK,contentInitial:()=>ij,disable:()=>iX,document:()=>iz,flow:()=>i$,flowInitial:()=>iH,insideSpan:()=>iG,string:()=>iW,text:()=>iq});let o=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,a=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,l={};function u(e,t){return((t||l).jsx?a:o).test(e)}let d=/[ \t\n\f\r]/g;function c(e){return"object"==typeof e?"text"===e.type&&h(e.value):h(e)}function h(e){return""===e.replace(d,"")}class f{constructor(e,t,i){this.property=e,this.normal=t,i&&(this.space=i)}}function p(e,t){let i={},n={},r=-1;for(;++r<e.length;)Object.assign(i,e[r].property),Object.assign(n,e[r].normal);return new f(i,n,t)}function m(e){return e.toLowerCase()}f.prototype.property={},f.prototype.normal={},f.prototype.space=null;class g{constructor(e,t){this.property=e,this.attribute=t}}g.prototype.space=null,g.prototype.boolean=!1,g.prototype.booleanish=!1,g.prototype.overloadedBoolean=!1,g.prototype.number=!1,g.prototype.commaSeparated=!1,g.prototype.spaceSeparated=!1,g.prototype.commaOrSpaceSeparated=!1,g.prototype.mustUseProperty=!1,g.prototype.defined=!1;let v=0,y=A(),b=A(),S=A(),w=A(),C=A(),x=A(),k=A();function A(){return 2**++v}let E=Object.keys(n);class M extends g{constructor(e,t,i,r){let s=-1;if(super(e,t),T(this,"space",r),"number"==typeof i)for(;++s<E.length;){let e=E[s];T(this,E[s],(i&n[e])===n[e])}}}function T(e,t,i){i&&(e[t]=i)}M.prototype.defined=!0;let _={}.hasOwnProperty;function P(e){let t,i={},n={};for(t in e.properties)if(_.call(e.properties,t)){let r=e.properties[t],s=new M(t,e.transform(e.attributes||{},t),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(s.mustUseProperty=!0),i[t]=s,n[m(t)]=t,n[m(s.attribute)]=t}return new f(i,n,e.space)}let I=P({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),R=P({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function O(e,t){return t in e?e[t]:t}function D(e,t){return O(e,t.toLowerCase())}let L=P({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:D,properties:{xmlns:null,xmlnsXLink:null}}),N=P({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:b,ariaAutoComplete:null,ariaBusy:b,ariaChecked:b,ariaColCount:w,ariaColIndex:w,ariaColSpan:w,ariaControls:C,ariaCurrent:null,ariaDescribedBy:C,ariaDetails:null,ariaDisabled:b,ariaDropEffect:C,ariaErrorMessage:null,ariaExpanded:b,ariaFlowTo:C,ariaGrabbed:b,ariaHasPopup:null,ariaHidden:b,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:C,ariaLevel:w,ariaLive:null,ariaModal:b,ariaMultiLine:b,ariaMultiSelectable:b,ariaOrientation:null,ariaOwns:C,ariaPlaceholder:null,ariaPosInSet:w,ariaPressed:b,ariaReadOnly:b,ariaRelevant:null,ariaRequired:b,ariaRoleDescription:C,ariaRowCount:w,ariaRowIndex:w,ariaRowSpan:w,ariaSelected:b,ariaSetSize:w,ariaSort:null,ariaValueMax:w,ariaValueMin:w,ariaValueNow:w,ariaValueText:null,role:null}}),F=P({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:D,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:x,acceptCharset:C,accessKey:C,action:null,allow:null,allowFullScreen:y,allowPaymentRequest:y,allowUserMedia:y,alt:null,as:null,async:y,autoCapitalize:null,autoComplete:C,autoFocus:y,autoPlay:y,blocking:C,capture:null,charSet:null,checked:y,cite:null,className:C,cols:w,colSpan:null,content:null,contentEditable:b,controls:y,controlsList:C,coords:w|x,crossOrigin:null,data:null,dateTime:null,decoding:null,default:y,defer:y,dir:null,dirName:null,disabled:y,download:S,draggable:b,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:y,formTarget:null,headers:C,height:w,hidden:y,high:w,href:null,hrefLang:null,htmlFor:C,httpEquiv:C,id:null,imageSizes:null,imageSrcSet:null,inert:y,inputMode:null,integrity:null,is:null,isMap:y,itemId:null,itemProp:C,itemRef:C,itemScope:y,itemType:C,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:y,low:w,manifest:null,max:null,maxLength:w,media:null,method:null,min:null,minLength:w,multiple:y,muted:y,name:null,nonce:null,noModule:y,noValidate:y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:y,optimum:w,pattern:null,ping:C,placeholder:null,playsInline:y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:y,referrerPolicy:null,rel:C,required:y,reversed:y,rows:w,rowSpan:w,sandbox:C,scope:null,scoped:y,seamless:y,selected:y,shadowRootClonable:y,shadowRootDelegatesFocus:y,shadowRootMode:null,shape:null,size:w,sizes:null,slot:null,span:w,spellCheck:b,src:null,srcDoc:null,srcLang:null,srcSet:null,start:w,step:null,style:null,tabIndex:w,target:null,title:null,translate:null,type:null,typeMustMatch:y,useMap:null,value:b,width:w,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:C,axis:null,background:null,bgColor:null,border:w,borderColor:null,bottomMargin:w,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:y,declare:y,event:null,face:null,frame:null,frameBorder:null,hSpace:w,leftMargin:w,link:null,longDesc:null,lowSrc:null,marginHeight:w,marginWidth:w,noResize:y,noHref:y,noShade:y,noWrap:y,object:null,profile:null,prompt:null,rev:null,rightMargin:w,rules:null,scheme:null,scrolling:b,standby:null,summary:null,text:null,topMargin:w,valueType:null,version:null,vAlign:null,vLink:null,vSpace:w,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:y,disableRemotePlayback:y,prefix:null,property:null,results:w,security:null,unselectable:null}}),B=P({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:O,properties:{about:k,accentHeight:w,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:w,amplitude:w,arabicForm:null,ascent:w,attributeName:null,attributeType:null,azimuth:w,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:w,by:null,calcMode:null,capHeight:w,className:C,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:w,diffuseConstant:w,direction:null,display:null,dur:null,divisor:w,dominantBaseline:null,download:y,dx:null,dy:null,edgeMode:null,editable:null,elevation:w,enableBackground:null,end:null,event:null,exponent:w,externalResourcesRequired:null,fill:null,fillOpacity:w,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:x,g2:x,glyphName:x,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:w,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:w,horizOriginX:w,horizOriginY:w,id:null,ideographic:w,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:w,k:w,k1:w,k2:w,k3:w,k4:w,kernelMatrix:k,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:w,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:w,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:w,overlineThickness:w,paintOrder:null,panose1:null,path:null,pathLength:w,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:C,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:w,pointsAtY:w,pointsAtZ:w,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:k,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:k,rev:k,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:k,requiredFeatures:k,requiredFonts:k,requiredFormats:k,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:w,specularExponent:w,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:w,strikethroughThickness:w,string:null,stroke:null,strokeDashArray:k,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:w,strokeOpacity:w,strokeWidth:null,style:null,surfaceScale:w,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:k,tabIndex:w,tableValues:null,target:null,targetX:w,targetY:w,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:k,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:w,underlineThickness:w,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:w,values:null,vAlphabetic:w,vMathematical:w,vectorEffect:null,vHanging:w,vIdeographic:w,version:null,vertAdvY:w,vertOriginX:w,vertOriginY:w,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:w,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),V=p([R,I,L,N,F],"html"),U=p([R,I,L,N,B],"svg"),z=/^data[-\w.:]+$/i,j=/-[a-z]/g,H=/[A-Z]/g;function $(e,t){let i=m(t),n=t,r=g;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&"data"===i.slice(0,4)&&z.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(j,q);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!j.test(e)){let i=e.replace(H,W);"-"!==i.charAt(0)&&(i="-"+i),t="data"+i}}r=M}return new r(n,t)}function W(e){return"-"+e.toLowerCase()}function q(e){return e.charAt(1).toUpperCase()}let G={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};function K(e){return e.join(" ").trim()}var X=i(71729);let Y=X.default||X,J=Z("end"),Q=Z("start");function Z(e){return t;function t(t){let i=t&&t.position&&t.position[e]||{};if("number"==typeof i.line&&i.line>0&&"number"==typeof i.column&&i.column>0)return{line:i.line,column:i.column,offset:"number"==typeof i.offset&&i.offset>-1?i.offset:void 0}}}function ee(e){let t=Q(e),i=J(e);if(t&&i)return{start:t,end:i}}function et(e){return e&&"object"==typeof e?"position"in e||"type"in e?en(e.position):"start"in e||"end"in e?en(e):"line"in e||"column"in e?ei(e):"":""}function ei(e){return er(e&&e.line)+":"+er(e&&e.column)}function en(e){return ei(e&&e.start)+"-"+ei(e&&e.end)}function er(e){return e&&"number"==typeof e?e:1}class es extends Error{constructor(e,t,i){super(),"string"==typeof t&&(i=t,t=void 0);let n="",r={},s=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?n=e:!r.cause&&e&&(s=!0,n=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"==typeof i){let e=i.indexOf(":");-1===e?r.ruleId=i:(r.source=i.slice(0,e),r.ruleId=i.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){let e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}let o=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=n,this.line=o?o.line:void 0,this.name=et(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=s&&r.cause&&"string"==typeof r.cause.stack?r.cause.stack:"",this.actual,this.expected,this.note,this.url}}es.prototype.file="",es.prototype.name="",es.prototype.reason="",es.prototype.message="",es.prototype.stack="",es.prototype.column=void 0,es.prototype.line=void 0,es.prototype.ancestors=void 0,es.prototype.cause=void 0,es.prototype.fatal=void 0,es.prototype.place=void 0,es.prototype.ruleId=void 0,es.prototype.source=void 0;let eo={}.hasOwnProperty,ea=new Map,el=/[A-Z]/g,eu=/-([a-z])/g,ed=new Set(["table","tbody","thead","tfoot","tr"]),ec=new Set(["td","th"]),eh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ef(e,t){let i;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let n=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");i=ek(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");i=ex(n,t.jsx,t.jsxs)}let r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?U:V,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=ep(r,e,void 0);return s&&"string"!=typeof s?s:r.create(e,r.Fragment,{children:s||void 0},void 0)}function ep(e,t,i){return"element"===t.type?em(e,t,i):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?eg(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?ey(e,t,i):"mdxjsEsm"===t.type?ev(e,t):"root"===t.type?eb(e,t,i):"text"===t.type?eS(e,t):void 0}function em(e,t,i){let n=e.schema;"svg"===t.tagName.toLowerCase()&&"html"===n.space&&(e.schema=U),e.ancestors.push(t);let r=eP(e,t.tagName,!1),s=eA(e,t),o=eM(e,t);return ed.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!c(e)})),ew(e,s,r,t),eC(s,o),e.ancestors.pop(),e.schema=n,e.create(t,r,s,i)}function eg(e,t){if(t.data&&t.data.estree&&e.evaluater){let i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}eI(e,t.position)}function ev(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eI(e,t.position)}function ey(e,t,i){let n=e.schema;"svg"===t.name&&"html"===n.space&&(e.schema=U),e.ancestors.push(t);let r=null===t.name?e.Fragment:eP(e,t.name,!0),s=eE(e,t),o=eM(e,t);return ew(e,s,r,t),eC(s,o),e.ancestors.pop(),e.schema=n,e.create(t,r,s,i)}function eb(e,t,i){let n={};return eC(n,eM(e,t)),e.create(t,e.Fragment,n,i)}function eS(e,t){return t.value}function ew(e,t,i,n){"string"!=typeof i&&i!==e.Fragment&&e.passNode&&(t.node=n)}function eC(e,t){if(t.length>0){let i=t.length>1?t:t[0];i&&(e.children=i)}}function ex(e,t,i){return n;function n(e,n,r,s){let o=Array.isArray(r.children)?i:t;return s?o(n,r,s):o(n,r)}}function ek(e,t){return i;function i(i,n,r,s){let o=Array.isArray(r.children),a=Q(i);return t(n,r,s,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function eA(e,t){let i,n,r={};for(n in t.properties)if("children"!==n&&eo.call(t.properties,n)){let s=eT(e,n,t.properties[n]);if(s){let[n,o]=s;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof o&&ec.has(t.tagName)?i=o:r[n]=o}}return i&&((r.style||(r.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i),r}function eE(e,t){let i={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];t.type;let r=t.expression;r.type;let s=r.properties[0];s.type,Object.assign(i,e.evaluater.evaluateExpression(s.argument))}else eI(e,t.position);else{let r,s=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];t.type,r=e.evaluater.evaluateExpression(t.expression)}else eI(e,t.position);else r=null===n.value||n.value;i[s]=r}return i}function eM(e,t){let i=[],n=-1,r=e.passKeys?new Map:ea;for(;++n<t.children.length;){let s,o=t.children[n];if(e.passKeys){let e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){let t=r.get(e)||0;s=e+"-"+t,r.set(e,t+1)}}let a=ep(e,o,s);void 0!==a&&i.push(a)}return i}function eT(e,t,i){let n=$(e.schema,t);if(!(null==i||"number"==typeof i&&Number.isNaN(i))){if(Array.isArray(i)&&(i=n.commaSeparated?s(i):K(i)),"style"===n.property){let t="object"==typeof i?i:e_(e,String(i));return"css"===e.stylePropertyNameCase&&(t=eR(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?G[n.property]||n.property:n.attribute,i]}}function e_(e,t){let i={};try{Y(t,n)}catch(t){if(!e.ignoreInvalidStyle){let i=t,n=new es("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=eh+"#cannot-parse-style-attribute",n}}return i;function n(e,t){let n=e;"--"!==n.slice(0,2)&&("-ms-"===n.slice(0,4)&&(n="ms-"+n.slice(4)),n=n.replace(eu,eD)),i[n]=t}}function eP(e,t,i){let n;if(i)if(t.includes(".")){let e,i=t.split("."),r=-1;for(;++r<i.length;){let t=u(i[r])?{type:"Identifier",name:i[r]}:{type:"Literal",value:i[r]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(r&&"Literal"===t.type),optional:!1}:t}n=e}else n=u(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return eo.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);eI(e)}function eI(e,t){let i=new es("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=eh+"#cannot-handle-mdx-estrees-without-createevaluater",i}function eR(e){let t,i={};for(t in e)eo.call(e,t)&&(i[eO(t)]=e[t]);return i}function eO(e){let t=e.replace(el,eL);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function eD(e,t){return t.toUpperCase()}function eL(e){return"-"+e.toLowerCase()}let eN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var eF=i(95155);i(12115);let eB={};function eV(e,t){let i=t||eB;return eU(e,"boolean"!=typeof i.includeImageAlt||i.includeImageAlt,"boolean"!=typeof i.includeHtml||i.includeHtml)}function eU(e,t,i){if(ej(e)){if("value"in e)return"html"!==e.type||i?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ez(e.children,t,i)}return Array.isArray(e)?ez(e,t,i):""}function ez(e,t,i){let n=[],r=-1;for(;++r<e.length;)n[r]=eU(e[r],t,i);return n.join("")}function ej(e){return!!(e&&"object"==typeof e)}function eH(e,t,i,n){let r,s=e.length,o=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,i=i>0?i:0,n.length<1e4)(r=Array.from(n)).unshift(t,i),e.splice(...r);else for(i&&e.splice(t,i);o<n.length;)(r=n.slice(o,o+1e4)).unshift(t,0),e.splice(...r),o+=1e4,t+=1e4}function e$(e,t){return e.length>0?(eH(e,e.length,0,t),e):t}class eW{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let i=null==t?1/0:t;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){let n=t||0;this.setCursor(Math.trunc(e));let r=this.right.splice(this.right.length-n,1/0);return i&&eq(this.left,i),r.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(e){this.setCursor(1/0),this.left.push(e)}pushMany(e){this.setCursor(1/0),eq(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),eq(this.right,e.reverse())}setCursor(e){if(e!==this.left.length&&(!(e>this.left.length)||0!==this.right.length)&&(!(e<0)||0!==this.left.length))if(e<this.left.length){let t=this.left.splice(e,1/0);eq(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,1/0);eq(this.left,t.reverse())}}}function eq(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function eG(e){let t,i,n,r,s,o,a,l={},u=-1,d=new eW(e);for(;++u<d.length;){for(;u in l;)u=l[u];if(t=d.get(u),u&&"chunkFlow"===t[1].type&&"listItemPrefix"===d.get(u-1)[1].type&&((n=0)<(o=t[1]._tokenizer.events).length&&"lineEndingBlank"===o[n][1].type&&(n+=2),n<o.length&&"content"===o[n][1].type))for(;++n<o.length&&"content"!==o[n][1].type;)"chunkText"===o[n][1].type&&(o[n][1]._isInFirstContentOfListItem=!0,n++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,eK(d,u)),u=l[u],a=!0);else if(t[1]._container){for(n=u,i=void 0;n--;)if("lineEnding"===(r=d.get(n))[1].type||"lineEndingBlank"===r[1].type)"enter"===r[0]&&(i&&(d.get(i)[1].type="lineEndingBlank"),r[1].type="lineEnding",i=n);else break;i&&(t[1].end={...d.get(i)[1].start},(s=d.slice(i,u)).unshift(t),d.splice(i,u-i+1,s))}}return eH(e,0,1/0,d.slice(0)),!a}function eK(e,t){let i,n,r=e.get(t)[1],s=e.get(t)[2],o=t-1,a=[],l=r._tokenizer||s.parser[r.contentType](r.start),u=l.events,d=[],c={},h=-1,f=r,p=0,m=0,g=[0];for(;f;){for(;e.get(++o)[1]!==f;);a.push(o),!f._tokenizer&&(i=s.sliceStream(f),f.next||i.push(null),n&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(i),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),n=f,f=f.next}for(f=r;++h<u.length;)"exit"===u[h][0]&&"enter"===u[h-1][0]&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(m=h+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){let t=u.slice(g[h],g[h+1]),i=a.pop();d.push([i,i+t.length-1]),e.splice(i,2,t)}for(d.reverse(),h=-1;++h<d.length;)c[p+d[h][0]]=p+d[h][1],p+=d[h][1]-d[h][0]-1;return c}function eX(e){for(;!eG(e););return e}let eY={}.hasOwnProperty;function eJ(e){let t={},i=-1;for(;++i<e.length;)eQ(t,e[i]);return t}function eQ(e,t){let i;for(i in t){let n,r=(eY.call(e,i)?e[i]:void 0)||(e[i]={}),s=t[i];if(s)for(n in s){eY.call(r,n)||(r[n]=[]);let e=s[n];eZ(r[n],Array.isArray(e)?e:e?[e]:[])}}}function eZ(e,t){let i=-1,n=[];for(;++i<t.length;)("after"===t[i].add?e:n).push(t[i]);eH(e,0,0,n)}let e0=ti(/[A-Za-z]/),e1=ti(/[\dA-Za-z]/),e2=ti(/[#-'*+\--9=?A-Z^-~]/);function e5(e){return null!==e&&(e<32||127===e)}let e3=ti(/\d/),e4=ti(/[\dA-Fa-f]/),e6=ti(/[!-/:-@[-`{-~]/);function e8(e){return null!==e&&e<-2}function e9(e){return null!==e&&(e<0||32===e)}function e7(e){return -2===e||-1===e||32===e}let te=ti(/\p{P}|\p{S}/u),tt=ti(/\s/);function ti(e){return t;function t(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function tn(e,t,i,n){let r=n?n-1:1/0,s=0;return o;function o(n){return e7(n)?(e.enter(i),a(n)):t(n)}function a(n){return e7(n)&&s++<r?(e.consume(n),a):(e.exit(i),t(n))}}let tr={tokenize:ts};function ts(e){let t,i=e.attempt(this.parser.constructs.contentInitial,n,r);return i;function n(t){return null===t?void e.consume(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),tn(e,i,"linePrefix"))}function r(t){return e.enter("paragraph"),s(t)}function s(i){let n=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=n),t=n,o(i)}function o(t){if(null===t){e.exit("chunkText"),e.exit("paragraph"),e.consume(t);return}return e8(t)?(e.consume(t),e.exit("chunkText"),s):(e.consume(t),o)}}let to={tokenize:tl},ta={tokenize:tu};function tl(e){let t,i,n,r=this,s=[],o=0;return a;function a(t){if(o<s.length){let i=s[o];return r.containerState=i[1],e.attempt(i[0].continuation,l,u)(t)}return u(t)}function l(e){if(o++,r.containerState._closeFlow){let i;r.containerState._closeFlow=void 0,t&&y();let n=r.events.length,s=n;for(;s--;)if("exit"===r.events[s][0]&&"chunkFlow"===r.events[s][1].type){i=r.events[s][1].end;break}v(o);let a=n;for(;a<r.events.length;)r.events[a][1].end={...i},a++;return eH(r.events,s+1,0,r.events.slice(n)),r.events.length=a,u(e)}return a(e)}function u(i){if(o===s.length){if(!t)return h(i);if(t.currentConstruct&&t.currentConstruct.concrete)return p(i);r.interrupt=!!(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return r.containerState={},e.check(ta,d,c)(i)}function d(e){return t&&y(),v(o),h(e)}function c(e){return r.parser.lazy[r.now().line]=o!==s.length,n=r.now().offset,p(e)}function h(t){return r.containerState={},e.attempt(ta,f,p)(t)}function f(e){return o++,s.push([r.currentConstruct,r.containerState]),h(e)}function p(n){if(null===n){t&&y(),v(0),e.consume(n);return}return t=t||r.parser.flow(r.now()),e.enter("chunkFlow",{_tokenizer:t,contentType:"flow",previous:i}),m(n)}function m(t){if(null===t){g(e.exit("chunkFlow"),!0),v(0),e.consume(t);return}return e8(t)?(e.consume(t),g(e.exit("chunkFlow")),o=0,r.interrupt=void 0,a):(e.consume(t),m)}function g(e,s){let a=r.sliceStream(e);if(s&&a.push(null),e.previous=i,i&&(i.next=e),i=e,t.defineSkip(e.start),t.write(a),r.parser.lazy[e.start.line]){let e,i,s=t.events.length;for(;s--;)if(t.events[s][1].start.offset<n&&(!t.events[s][1].end||t.events[s][1].end.offset>n))return;let a=r.events.length,l=a;for(;l--;)if("exit"===r.events[l][0]&&"chunkFlow"===r.events[l][1].type){if(e){i=r.events[l][1].end;break}e=!0}for(v(o),s=a;s<r.events.length;)r.events[s][1].end={...i},s++;eH(r.events,l+1,0,r.events.slice(a)),r.events.length=s}}function v(t){let i=s.length;for(;i-- >t;){let t=s[i];r.containerState=t[1],t[0].exit.call(r,e)}s.length=t}function y(){t.write([null]),i=void 0,t=void 0,r.containerState._closeFlow=void 0}}function tu(e,t,i){return tn(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}let td={partial:!0,tokenize:tc};function tc(e,t,i){return n;function n(t){return e7(t)?tn(e,r,"linePrefix")(t):r(t)}function r(e){return null===e||e8(e)?t(e):i(e)}}let th={resolve:tp,tokenize:tm},tf={partial:!0,tokenize:tg};function tp(e){return eG(e),e}function tm(e,t){let i;return n;function n(t){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),r(t)}function r(t){return null===t?s(t):e8(t)?e.check(tf,o,s)(t):(e.consume(t),r)}function s(i){return e.exit("chunkContent"),e.exit("content"),t(i)}function o(t){return e.consume(t),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,r}}function tg(e,t,i){let n=this;return r;function r(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),tn(e,s,"linePrefix")}function s(r){if(null===r||e8(r))return i(r);let s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(r):e.interrupt(n.parser.constructs.flow,i,t)(r)}}let tv={tokenize:ty};function ty(e){let t=this,i=e.attempt(td,n,e.attempt(this.parser.constructs.flowInitial,r,tn(e,e.attempt(this.parser.constructs.flow,r,e.attempt(th,r)),"linePrefix")));return i;function n(n){return null===n?void e.consume(n):(e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i)}function r(n){return null===n?void e.consume(n):(e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),t.currentConstruct=void 0,i)}}let tb={resolveAll:tx()},tS=tC("string"),tw=tC("text");function tC(e){return{resolveAll:tx("text"===e?tk:void 0),tokenize:t};function t(t){let i=this,n=this.parser.constructs[e],r=t.attempt(n,s,o);return s;function s(e){return l(e)?r(e):o(e)}function o(e){return null===e?void t.consume(e):(t.enter("data"),t.consume(e),a)}function a(e){return l(e)?(t.exit("data"),r(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;let t=n[e],r=-1;if(t)for(;++r<t.length;){let e=t[r];if(!e.previous||e.previous.call(i,i.previous))return!0}return!1}}}function tx(e){return t;function t(t,i){let n,r=-1;for(;++r<=t.length;)void 0===n?t[r]&&"data"===t[r][1].type&&(n=r,r++):t[r]&&"data"===t[r][1].type||(r!==n+2&&(t[n][1].end=t[r-1][1].end,t.splice(n+2,r-n-2),r=n+2),n=void 0);return e?e(t,i):t}}function tk(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||"lineEnding"===e[i][1].type)&&"data"===e[i-1][1].type){let n,r=e[i-1][1],s=t.sliceStream(r),o=s.length,a=-1,l=0;for(;o--;){let e=s[o];if("string"==typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)n=!0,l++;else if(-1===e);else{o++;break}}if(l){let s={type:i===e.length||n||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(i,0,["enter",s,t],["exit",s,t]),i+=2)}i++}return e}let tA={name:"thematicBreak",tokenize:tE};function tE(e,t,i){let n,r=0;return s;function s(t){return e.enter("thematicBreak"),o(t)}function o(e){return n=e,a(e)}function a(s){return s===n?(e.enter("thematicBreakSequence"),l(s)):r>=3&&(null===s||e8(s))?(e.exit("thematicBreak"),t(s)):i(s)}function l(t){return t===n?(e.consume(t),r++,l):(e.exit("thematicBreakSequence"),e7(t)?tn(e,a,"whitespace")(t):a(t))}}let tM={continuation:{tokenize:tI},exit:tO,name:"list",tokenize:tP},tT={partial:!0,tokenize:tD},t_={partial:!0,tokenize:tR};function tP(e,t,i){let n=this,r=n.events[n.events.length-1],s=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(t){let r=n.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!n.containerState.marker||t===n.containerState.marker:e3(t)){if(n.containerState.type||(n.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(tA,i,u)(t):u(t);if(!n.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(t)}return i(t)}function l(t){return e3(t)&&++o<10?(e.consume(t),l):(!n.interrupt||o<2)&&(n.containerState.marker?t===n.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),u(t)):i(t)}function u(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||t,e.check(td,n.interrupt?i:d,e.attempt(tT,h,c))}function d(e){return n.containerState.initialBlankLine=!0,s++,h(e)}function c(t){return e7(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),h):i(t)}function h(i){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(i)}}function tI(e,t,i){let n=this;return n.containerState._closeFlow=void 0,e.check(td,r,s);function r(i){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,tn(e,t,"listItemIndent",n.containerState.size+1)(i)}function s(i){return n.containerState.furtherBlankLines||!e7(i)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(i)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(t_,t,o)(i))}function o(r){return n.containerState._closeFlow=!0,n.interrupt=void 0,tn(e,e.attempt(tM,t,i),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}function tR(e,t,i){let n=this;return tn(e,r,"listItemIndent",n.containerState.size+1);function r(e){let r=n.events[n.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===n.containerState.size?t(e):i(e)}}function tO(e){e.exit(this.containerState.type)}function tD(e,t,i){let n=this;return tn(e,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(e){let r=n.events[n.events.length-1];return!e7(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):i(e)}}let tL={continuation:{tokenize:tF},exit:tB,name:"blockQuote",tokenize:tN};function tN(e,t,i){let n=this;return r;function r(t){if(62===t){let i=n.containerState;return i.open||(e.enter("blockQuote",{_container:!0}),i.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return i(t)}function s(i){return e7(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function tF(e,t,i){let n=this;return r;function r(t){return e7(t)?tn(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):s(t)}function s(n){return e.attempt(tL,t,i)(n)}}function tB(e){e.exit("blockQuote")}function tV(e,t,i,n,r,s,o,a,l){let u=l||1/0,d=0;return c;function c(t){return 60===t?(e.enter(n),e.enter(r),e.enter(s),e.consume(t),e.exit(s),h):null===t||32===t||41===t||e5(t)?i(t):(e.enter(n),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(t))}function h(i){return 62===i?(e.enter(s),e.consume(i),e.exit(s),e.exit(r),e.exit(n),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),f(i))}function f(t){return 62===t?(e.exit("chunkString"),e.exit(a),h(t)):null===t||60===t||e8(t)?i(t):(e.consume(t),92===t?p:f)}function p(t){return 60===t||62===t||92===t?(e.consume(t),f):f(t)}function m(r){return!d&&(null===r||41===r||e9(r))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(n),t(r)):d<u&&40===r?(e.consume(r),d++,m):41===r?(e.consume(r),d--,m):null===r||32===r||40===r||e5(r)?i(r):(e.consume(r),92===r?g:m)}function g(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function tU(e,t,i,n,r,s){let o,a=this,l=0;return u;function u(t){return e.enter(n),e.enter(r),e.consume(t),e.exit(r),e.enter(s),d}function d(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?i(u):93===u?(e.exit(s),e.enter(r),e.consume(u),e.exit(r),e.exit(n),t):e8(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),c(u))}function c(t){return null===t||91===t||93===t||e8(t)||l++>999?(e.exit("chunkString"),d(t)):(e.consume(t),o||(o=!e7(t)),92===t?h:c)}function h(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function tz(e,t,i,n,r,s){let o;return a;function a(t){return 34===t||39===t||40===t?(e.enter(n),e.enter(r),e.consume(t),e.exit(r),o=40===t?41:t,l):i(t)}function l(i){return i===o?(e.enter(r),e.consume(i),e.exit(r),e.exit(n),t):(e.enter(s),u(i))}function u(t){return t===o?(e.exit(s),l(o)):null===t?i(t):e8(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),tn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return t===o||null===t||e8(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?c:d)}function c(t){return t===o||92===t?(e.consume(t),d):d(t)}}function tj(e,t){let i;return n;function n(r){return e8(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),i=!0,n):e7(r)?tn(e,n,i?"linePrefix":"lineSuffix")(r):t(r)}}function tH(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let t$={name:"definition",tokenize:tq},tW={partial:!0,tokenize:tG};function tq(e,t,i){let n,r=this;return s;function s(t){return e.enter("definition"),o(t)}function o(t){return tU.call(r,e,a,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}function a(t){return(n=tH(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t)?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),l):i(t)}function l(t){return e9(t)?tj(e,u)(t):u(t)}function u(t){return tV(e,d,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function d(t){return e.attempt(tW,c,c)(t)}function c(t){return e7(t)?tn(e,h,"whitespace")(t):h(t)}function h(s){return null===s||e8(s)?(e.exit("definition"),r.parser.defined.push(n),t(s)):i(s)}}function tG(e,t,i){return n;function n(t){return e9(t)?tj(e,r)(t):i(t)}function r(t){return tz(e,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return e7(t)?tn(e,o,"whitespace")(t):o(t)}function o(e){return null===e||e8(e)?t(e):i(e)}}let tK={name:"codeIndented",tokenize:tY},tX={partial:!0,tokenize:tJ};function tY(e,t,i){let n=this;return r;function r(t){return e.enter("codeIndented"),tn(e,s,"linePrefix",5)(t)}function s(e){let t=n.events[n.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):i(e)}function o(t){return null===t?l(t):e8(t)?e.attempt(tX,o,l)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||e8(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function l(i){return e.exit("codeIndented"),t(i)}}function tJ(e,t,i){let n=this;return r;function r(t){return n.parser.lazy[n.now().line]?i(t):e8(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):tn(e,s,"linePrefix",5)(t)}function s(e){let s=n.events[n.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):e8(e)?r(e):i(e)}}let tQ={name:"headingAtx",resolve:tZ,tokenize:t0};function tZ(e,t){let i,n,r=e.length-2,s=3;return"whitespace"===e[3][1].type&&(s+=2),r-2>s&&"whitespace"===e[r][1].type&&(r-=2),"atxHeadingSequence"===e[r][1].type&&(s===r-1||r-4>s&&"whitespace"===e[r-2][1].type)&&(r-=s+1===r?2:4),r>s&&(i={type:"atxHeadingText",start:e[s][1].start,end:e[r][1].end},n={type:"chunkText",start:e[s][1].start,end:e[r][1].end,contentType:"text"},eH(e,s,r-s+1,[["enter",i,t],["enter",n,t],["exit",n,t],["exit",i,t]])),e}function t0(e,t,i){let n=0;return r;function r(t){return e.enter("atxHeading"),s(t)}function s(t){return e.enter("atxHeadingSequence"),o(t)}function o(t){return 35===t&&n++<6?(e.consume(t),o):null===t||e9(t)?(e.exit("atxHeadingSequence"),a(t)):i(t)}function a(i){return 35===i?(e.enter("atxHeadingSequence"),l(i)):null===i||e8(i)?(e.exit("atxHeading"),t(i)):e7(i)?tn(e,a,"whitespace")(i):(e.enter("atxHeadingText"),u(i))}function l(t){return 35===t?(e.consume(t),l):(e.exit("atxHeadingSequence"),a(t))}function u(t){return null===t||35===t||e9(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),u)}}let t1={name:"setextUnderline",resolveTo:t2,tokenize:t5};function t2(e,t){let i,n,r,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){i=s;break}"paragraph"===e[s][1].type&&(n=s)}else"content"===e[s][1].type&&e.splice(s,1),r||"definition"!==e[s][1].type||(r=s);let o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[n][1].type="setextHeadingText",r?(e.splice(n,0,["enter",o,t]),e.splice(r+1,0,["exit",e[i][1],t]),e[i][1].end={...e[r][1].end}):e[i][1]=o,e.push(["exit",o,t]),e}function t5(e,t,i){let n,r=this;return s;function s(t){let s,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){s="paragraph"===r.events[a][1].type;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),n=t,o(t)):i(t)}function o(t){return e.enter("setextHeadingLineSequence"),a(t)}function a(t){return t===n?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),e7(t)?tn(e,l,"lineSuffix")(t):l(t))}function l(n){return null===n||e8(n)?(e.exit("setextHeadingLine"),t(n)):i(n)}}let t3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],t4=["pre","script","style","textarea"],t6={concrete:!0,name:"htmlFlow",resolveTo:t7,tokenize:ie},t8={partial:!0,tokenize:ii},t9={partial:!0,tokenize:it};function t7(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ie(e,t,i){let n,r,s,o,a,l=this;return u;function u(e){return d(e)}function d(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}function c(o){return 33===o?(e.consume(o),h):47===o?(e.consume(o),r=!0,m):63===o?(e.consume(o),n=3,l.interrupt?t:N):e0(o)?(e.consume(o),s=String.fromCharCode(o),g):i(o)}function h(r){return 45===r?(e.consume(r),n=2,f):91===r?(e.consume(r),n=5,o=0,p):e0(r)?(e.consume(r),n=4,l.interrupt?t:N):i(r)}function f(n){return 45===n?(e.consume(n),l.interrupt?t:N):i(n)}function p(n){let r="CDATA[";return n===r.charCodeAt(o++)?(e.consume(n),o===r.length)?l.interrupt?t:T:p:i(n)}function m(t){return e0(t)?(e.consume(t),s=String.fromCharCode(t),g):i(t)}function g(o){if(null===o||47===o||62===o||e9(o)){let a=47===o,u=s.toLowerCase();return!a&&!r&&t4.includes(u)?(n=1,l.interrupt?t(o):T(o)):t3.includes(s.toLowerCase())?(n=6,a)?(e.consume(o),v):l.interrupt?t(o):T(o):(n=7,l.interrupt&&!l.parser.lazy[l.now().line]?i(o):r?y(o):b(o))}return 45===o||e1(o)?(e.consume(o),s+=String.fromCharCode(o),g):i(o)}function v(n){return 62===n?(e.consume(n),l.interrupt?t:T):i(n)}function y(t){return e7(t)?(e.consume(t),y):E(t)}function b(t){return 47===t?(e.consume(t),E):58===t||95===t||e0(t)?(e.consume(t),S):e7(t)?(e.consume(t),b):E(t)}function S(t){return 45===t||46===t||58===t||95===t||e1(t)?(e.consume(t),S):w(t)}function w(t){return 61===t?(e.consume(t),C):e7(t)?(e.consume(t),w):b(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?i(t):34===t||39===t?(e.consume(t),a=t,x):e7(t)?(e.consume(t),C):k(t)}function x(t){return t===a?(e.consume(t),a=null,A):null===t||e8(t)?i(t):(e.consume(t),x)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||e9(t)?w(t):(e.consume(t),k)}function A(e){return 47===e||62===e||e7(e)?b(e):i(e)}function E(t){return 62===t?(e.consume(t),M):i(t)}function M(t){return null===t||e8(t)?T(t):e7(t)?(e.consume(t),M):i(t)}function T(t){return 45===t&&2===n?(e.consume(t),R):60===t&&1===n?(e.consume(t),O):62===t&&4===n?(e.consume(t),F):63===t&&3===n?(e.consume(t),N):93===t&&5===n?(e.consume(t),L):e8(t)&&(6===n||7===n)?(e.exit("htmlFlowData"),e.check(t8,B,_)(t)):null===t||e8(t)?(e.exit("htmlFlowData"),_(t)):(e.consume(t),T)}function _(t){return e.check(t9,P,B)(t)}function P(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||e8(t)?_(t):(e.enter("htmlFlowData"),T(t))}function R(t){return 45===t?(e.consume(t),N):T(t)}function O(t){return 47===t?(e.consume(t),s="",D):T(t)}function D(t){if(62===t){let i=s.toLowerCase();return t4.includes(i)?(e.consume(t),F):T(t)}return e0(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),D):T(t)}function L(t){return 93===t?(e.consume(t),N):T(t)}function N(t){return 62===t?(e.consume(t),F):45===t&&2===n?(e.consume(t),N):T(t)}function F(t){return null===t||e8(t)?(e.exit("htmlFlowData"),B(t)):(e.consume(t),F)}function B(i){return e.exit("htmlFlow"),t(i)}}function it(e,t,i){let n=this;return r;function r(t){return e8(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):i(t)}function s(e){return n.parser.lazy[n.now().line]?i(e):t(e)}}function ii(e,t,i){return n;function n(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),e.attempt(td,t,i)}}let ir={partial:!0,tokenize:ia},is={concrete:!0,name:"codeFenced",tokenize:io};function io(e,t,i){let n,r=this,s={partial:!0,tokenize:w},o=0,a=0;return l;function l(e){return u(e)}function u(t){let i=r.events[r.events.length-1];return o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,n=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(t)}function d(t){return t===n?(a++,e.consume(t),d):a<3?i(t):(e.exit("codeFencedFenceSequence"),e7(t)?tn(e,c,"whitespace")(t):c(t))}function c(i){return null===i||e8(i)?(e.exit("codeFencedFence"),r.interrupt?t(i):e.check(ir,m,S)(i)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(i))}function h(t){return null===t||e8(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):e7(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),tn(e,f,"whitespace")(t)):96===t&&t===n?i(t):(e.consume(t),h)}function f(t){return null===t||e8(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||e8(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===n?i(t):(e.consume(t),p)}function m(t){return e.attempt(s,S,g)(t)}function g(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),v}function v(t){return o>0&&e7(t)?tn(e,y,"linePrefix",o+1)(t):y(t)}function y(t){return null===t||e8(t)?e.check(ir,m,S)(t):(e.enter("codeFlowValue"),b(t))}function b(t){return null===t||e8(t)?(e.exit("codeFlowValue"),y(t)):(e.consume(t),b)}function S(i){return e.exit("codeFenced"),t(i)}function w(e,t,i){let s=0;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),e7(t)?tn(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===n?(e.enter("codeFencedFenceSequence"),d(t)):i(t)}function d(t){return t===n?(s++,e.consume(t),d):s>=a?(e.exit("codeFencedFenceSequence"),e7(t)?tn(e,c,"whitespace")(t):c(t)):i(t)}function c(n){return null===n||e8(n)?(e.exit("codeFencedFence"),t(n)):i(n)}}}function ia(e,t,i){let n=this;return r;function r(t){return null===t?i(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s)}function s(e){return n.parser.lazy[n.now().line]?i(e):t(e)}}let il=document.createElement("i");function iu(e){let t="&"+e+";";il.innerHTML=t;let i=il.textContent;return(59!==i.charCodeAt(i.length-1)||"semi"===e)&&i!==t&&i}let id={name:"characterReference",tokenize:ic};function ic(e,t,i){let n,r,s=this,o=0;return a;function a(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),l}function l(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),n=31,r=e1,d(t))}function u(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),n=6,r=e4,d):(e.enter("characterReferenceValue"),n=7,r=e3,d(t))}function d(a){if(59===a&&o){let n=e.exit("characterReferenceValue");return r!==e1||iu(s.sliceSerialize(n))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):i(a)}return r(a)&&o++<n?(e.consume(a),d):i(a)}}let ih={name:"characterEscape",tokenize:ip};function ip(e,t,i){return n;function n(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r}function r(n){return e6(n)?(e.enter("characterEscapeValue"),e.consume(n),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(n)}}let im={name:"lineEnding",tokenize:ig};function ig(e,t){return i;function i(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),tn(e,t,"linePrefix")}}function iv(e,t,i){let n=[],r=-1;for(;++r<e.length;){let s=e[r].resolveAll;s&&!n.includes(s)&&(t=s(t,i),n.push(s))}return t}let iy={name:"labelEnd",resolveAll:iC,resolveTo:ix,tokenize:ik},ib={tokenize:iA},iS={tokenize:iE},iw={tokenize:iM};function iC(e){let t=-1,i=[];for(;++t<e.length;){let n=e[t][1];if(i.push(e[t]),"labelImage"===n.type||"labelLink"===n.type||"labelEnd"===n.type){let e="labelImage"===n.type?4:2;n.type="data",t+=e}}return e.length!==i.length&&eH(e,0,e.length,i),e}function ix(e,t){let i,n,r,s,o=e.length,a=0;for(;o--;)if(i=e[o][1],n){if("link"===i.type||"labelLink"===i.type&&i._inactive)break;"enter"===e[o][0]&&"labelLink"===i.type&&(i._inactive=!0)}else if(r){if("enter"===e[o][0]&&("labelImage"===i.type||"labelLink"===i.type)&&!i._balanced&&(n=o,"labelLink"!==i.type)){a=2;break}}else"labelEnd"===i.type&&(r=o);let l={type:"labelLink"===e[n][1].type?"link":"image",start:{...e[n][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[n][1].start},end:{...e[r][1].end}},d={type:"labelText",start:{...e[n+a+2][1].end},end:{...e[r-2][1].start}};return s=e$(s=[["enter",l,t],["enter",u,t]],e.slice(n+1,n+a+3)),s=e$(s,[["enter",d,t]]),s=e$(s,iv(t.parser.constructs.insideSpan.null,e.slice(n+a+4,r-3),t)),s=e$(s,[["exit",d,t],e[r-2],e[r-1],["exit",u,t]]),s=e$(s,e.slice(r+1)),s=e$(s,[["exit",l,t]]),eH(e,n,e.length,s),e}function ik(e,t,i){let n,r,s=this,o=s.events.length;for(;o--;)if(("labelImage"===s.events[o][1].type||"labelLink"===s.events[o][1].type)&&!s.events[o][1]._balanced){n=s.events[o][1];break}return a;function a(t){return n?n._inactive?c(t):(r=s.parser.defined.includes(tH(s.sliceSerialize({start:n.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l):i(t)}function l(t){return 40===t?e.attempt(ib,d,r?d:c)(t):91===t?e.attempt(iS,d,r?u:c)(t):r?d(t):c(t)}function u(t){return e.attempt(iw,d,c)(t)}function d(e){return t(e)}function c(e){return n._balanced=!0,i(e)}}function iA(e,t,i){return n;function n(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r}function r(t){return e9(t)?tj(e,s)(t):s(t)}function s(t){return 41===t?d(t):tV(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return e9(t)?tj(e,l)(t):d(t)}function a(e){return i(e)}function l(t){return 34===t||39===t||40===t?tz(e,u,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):d(t)}function u(t){return e9(t)?tj(e,d)(t):d(t)}function d(n){return 41===n?(e.enter("resourceMarker"),e.consume(n),e.exit("resourceMarker"),e.exit("resource"),t):i(n)}}function iE(e,t,i){let n=this;return r;function r(t){return tU.call(n,e,s,o,"reference","referenceMarker","referenceString")(t)}function s(e){return n.parser.defined.includes(tH(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(e):i(e)}function o(e){return i(e)}}function iM(e,t,i){return n;function n(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r}function r(n){return 93===n?(e.enter("referenceMarker"),e.consume(n),e.exit("referenceMarker"),e.exit("reference"),t):i(n)}}let iT={name:"labelStartImage",resolveAll:iy.resolveAll,tokenize:i_};function i_(e,t,i){let n=this;return r;function r(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s}function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):i(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?i(e):t(e)}}function iP(e){return null===e||e9(e)||tt(e)?1:te(e)?2:void 0}let iI={name:"attention",resolveAll:iR,tokenize:iO};function iR(e,t){let i,n,r,s,o,a,l,u,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close){for(i=d;i--;)if("exit"===e[i][0]&&"attentionSequence"===e[i][1].type&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[i][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;a=e[i][1].end.offset-e[i][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;let c={...e[i][1].end},h={...e[d][1].start};iD(c,-a),iD(h,a),s={type:a>1?"strongSequence":"emphasisSequence",start:c,end:{...e[i][1].end}},o={type:a>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:h},r={type:a>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[d][1].start}},n={type:a>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[i][1].end={...s.start},e[d][1].start={...o.end},l=[],e[i][1].end.offset-e[i][1].start.offset&&(l=e$(l,[["enter",e[i][1],t],["exit",e[i][1],t]])),l=e$(l,[["enter",n,t],["enter",s,t],["exit",s,t],["enter",r,t]]),l=e$(l,iv(t.parser.constructs.insideSpan.null,e.slice(i+1,d),t)),l=e$(l,[["exit",r,t],["enter",o,t],["exit",o,t],["exit",n,t]]),e[d][1].end.offset-e[d][1].start.offset?(u=2,l=e$(l,[["enter",e[d][1],t],["exit",e[d][1],t]])):u=0,eH(e,i-1,d-i+3,l),d=i+l.length-u-2;break}}for(d=-1;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e}function iO(e,t){let i,n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=iP(r);return o;function o(t){return i=t,e.enter("attentionSequence"),a(t)}function a(o){if(o===i)return e.consume(o),a;let l=e.exit("attentionSequence"),u=iP(o),d=!u||2===u&&s||n.includes(o),c=!s||2===s&&u||n.includes(r);return l._open=!!(42===i?d:d&&(s||!c)),l._close=!!(42===i?c:c&&(u||!d)),t(o)}}function iD(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let iL={name:"autolink",tokenize:iN};function iN(e,t,i){let n=0;return r;function r(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(t){return e0(t)?(e.consume(t),o):64===t?i(t):u(t)}function o(e){return 43===e||45===e||46===e||e1(e)?(n=1,a(e)):u(e)}function a(t){return 58===t?(e.consume(t),n=0,l):(43===t||45===t||46===t||e1(t))&&n++<32?(e.consume(t),a):(n=0,u(t))}function l(n){return 62===n?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):null===n||32===n||60===n||e5(n)?i(n):(e.consume(n),l)}function u(t){return 64===t?(e.consume(t),d):e2(t)?(e.consume(t),u):i(t)}function d(e){return e1(e)?c(e):i(e)}function c(i){return 46===i?(e.consume(i),n=0,d):62===i?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):h(i)}function h(t){if((45===t||e1(t))&&n++<63){let i=45===t?h:c;return e.consume(t),i}return i(t)}}let iF={name:"htmlText",tokenize:iB};function iB(e,t,i){let n,r,s,o=this;return a;function a(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l}function l(t){return 33===t?(e.consume(t),u):47===t?(e.consume(t),w):63===t?(e.consume(t),b):e0(t)?(e.consume(t),k):i(t)}function u(t){return 45===t?(e.consume(t),d):91===t?(e.consume(t),r=0,p):e0(t)?(e.consume(t),y):i(t)}function d(t){return 45===t?(e.consume(t),f):i(t)}function c(t){return null===t?i(t):45===t?(e.consume(t),h):e8(t)?(s=c,O(t)):(e.consume(t),c)}function h(t){return 45===t?(e.consume(t),f):c(t)}function f(e){return 62===e?R(e):45===e?h(e):c(e)}function p(t){let n="CDATA[";return t===n.charCodeAt(r++)?(e.consume(t),r===n.length?m:p):i(t)}function m(t){return null===t?i(t):93===t?(e.consume(t),g):e8(t)?(s=m,O(t)):(e.consume(t),m)}function g(t){return 93===t?(e.consume(t),v):m(t)}function v(t){return 62===t?R(t):93===t?(e.consume(t),v):m(t)}function y(t){return null===t||62===t?R(t):e8(t)?(s=y,O(t)):(e.consume(t),y)}function b(t){return null===t?i(t):63===t?(e.consume(t),S):e8(t)?(s=b,O(t)):(e.consume(t),b)}function S(e){return 62===e?R(e):b(e)}function w(t){return e0(t)?(e.consume(t),C):i(t)}function C(t){return 45===t||e1(t)?(e.consume(t),C):x(t)}function x(t){return e8(t)?(s=x,O(t)):e7(t)?(e.consume(t),x):R(t)}function k(t){return 45===t||e1(t)?(e.consume(t),k):47===t||62===t||e9(t)?A(t):i(t)}function A(t){return 47===t?(e.consume(t),R):58===t||95===t||e0(t)?(e.consume(t),E):e8(t)?(s=A,O(t)):e7(t)?(e.consume(t),A):R(t)}function E(t){return 45===t||46===t||58===t||95===t||e1(t)?(e.consume(t),E):M(t)}function M(t){return 61===t?(e.consume(t),T):e8(t)?(s=M,O(t)):e7(t)?(e.consume(t),M):A(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?i(t):34===t||39===t?(e.consume(t),n=t,_):e8(t)?(s=T,O(t)):e7(t)?(e.consume(t),T):(e.consume(t),P)}function _(t){return t===n?(e.consume(t),n=void 0,I):null===t?i(t):e8(t)?(s=_,O(t)):(e.consume(t),_)}function P(t){return null===t||34===t||39===t||60===t||61===t||96===t?i(t):47===t||62===t||e9(t)?A(t):(e.consume(t),P)}function I(e){return 47===e||62===e||e9(e)?A(e):i(e)}function R(n){return 62===n?(e.consume(n),e.exit("htmlTextData"),e.exit("htmlText"),t):i(n)}function O(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return e7(t)?tn(e,L,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),s(t)}}let iV={name:"labelStartLink",resolveAll:iy.resolveAll,tokenize:iU};function iU(e,t,i){let n=this;return r;function r(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s}function s(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?i(e):t(e)}}let iz={42:tM,43:tM,45:tM,48:tM,49:tM,50:tM,51:tM,52:tM,53:tM,54:tM,55:tM,56:tM,57:tM,62:tL},ij={91:t$},iH={[-2]:tK,[-1]:tK,32:tK},i$={35:tQ,42:tA,45:[t1,tA],60:t6,61:t1,95:tA,96:is,126:is},iW={38:id,92:ih},iq={[-5]:im,[-4]:im,[-3]:im,33:iT,38:id,42:iI,60:[iL,iF],91:iV,92:[{name:"hardBreakEscape",tokenize:function(e,t,i){return n;function n(t){return e.enter("hardBreakEscape"),e.consume(t),r}function r(n){return e8(n)?(e.exit("hardBreakEscape"),t(n)):i(n)}}},ih],93:iy,95:iI,96:{name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,i,n=e.length-4,r=3;if(("lineEnding"===e[3][1].type||"space"===e[r][1].type)&&("lineEnding"===e[n][1].type||"space"===e[n][1].type)){for(t=r;++t<n;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(t=r-1,n++;++t<=n;)void 0===i?t!==n&&"lineEnding"!==e[t][1].type&&(i=t):(t===n||"lineEnding"===e[t][1].type)&&(e[i][1].type="codeTextData",t!==i+2&&(e[i][1].end=e[t-1][1].end,e.splice(i+2,t-i-2),n-=t-i-2,t=i+2),i=void 0);return e},tokenize:function(e,t,i){let n,r,s=0;return o;function o(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)}function a(t){return 96===t?(e.consume(t),s++,a):(e.exit("codeTextSequence"),l(t))}function l(t){return null===t?i(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):96===t?(r=e.enter("codeTextSequence"),n=0,d(t)):e8(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(t))}function u(t){return null===t||32===t||96===t||e8(t)?(e.exit("codeTextData"),l(t)):(e.consume(t),u)}function d(i){return 96===i?(e.consume(i),n++,d):n===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(i)):(r.type="codeTextData",u(i))}}}},iG={null:[iI,tb]},iK={null:[42,95]},iX={null:[]};function iY(e,t,i){let n={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0},r={},s=[],o=[],a=[],l={attempt:x(w),check:x(C),consume:y,enter:b,exit:S,interrupt:x(C,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:c},d=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function c(e){return(o=e$(o,e),g(),null!==o[o.length-1])?[]:(k(t,0),u.events=iv(s,u.events,u),u.events)}function h(e,t){return iQ(f(e),t)}function f(e){return iJ(o,e)}function p(){let{_bufferIndex:e,_index:t,line:i,column:r,offset:s}=n;return{_bufferIndex:e,_index:t,line:i,column:r,offset:s}}function m(e){r[e.line]=e.column,E()}function g(){let e;for(;n._index<o.length;){let t=o[n._index];if("string"==typeof t)for(e=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===e&&n._bufferIndex<t.length;)v(t.charCodeAt(n._bufferIndex));else v(t)}}function v(e){d=d(e)}function y(e){e8(e)?(n.line++,n.column=1,n.offset+=-3===e?2:1,E()):-1!==e&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=e}function b(e,t){let i=t||{};return i.type=e,i.start=p(),u.events.push(["enter",i,u]),a.push(i),i}function S(e){let t=a.pop();return t.end=p(),u.events.push(["exit",t,u]),t}function w(e,t){k(e,t.from)}function C(e,t){t.restore()}function x(e,t){return i;function i(i,n,r){let s,o,a,d;return Array.isArray(i)?h(i):"tokenize"in i?h([i]):c(i);function c(e){return t;function t(t){let i=null!==t&&e[t],n=null!==t&&e.null;return h([...Array.isArray(i)?i:i?[i]:[],...Array.isArray(n)?n:n?[n]:[]])(t)}}function h(e){return(s=e,o=0,0===e.length)?r:f(e[o])}function f(e){return i;function i(i){return(d=A(),a=e,e.partial||(u.currentConstruct=e),e.name&&u.parser.constructs.disable.null.includes(e.name))?m(i):e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,p,m)(i)}}function p(t){return e(a,d),n}function m(e){return(d.restore(),++o<s.length)?f(s[o]):r}}}function k(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&eH(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function A(){let e=p(),t=u.previous,i=u.currentConstruct,r=u.events.length,s=Array.from(a);return{from:r,restore:o};function o(){n=e,u.previous=t,u.currentConstruct=i,u.events.length=r,a=s,E()}}function E(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function iJ(e,t){let i,n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){let e=i[0];"string"==typeof e?i[0]=e.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function iQ(e,t){let i,n=-1,r=[];for(;++n<e.length;){let s,o=e[n];if("string"==typeof o)s=o;else switch(o){case -5:s="\r";break;case -4:s="\n";break;case -3:s="\r\n";break;case -2:s=t?" ":"	";break;case -1:if(!t&&i)continue;s=" ";break;default:s=String.fromCharCode(o)}i=-2===o,r.push(s)}return r.join("")}function iZ(e){let t={constructs:eJ([r,...(e||{}).extensions||[]]),content:i(tr),defined:[],document:i(to),flow:i(tv),lazy:{},string:i(tS),text:i(tw)};return t;function i(e){return i;function i(i){return iY(t,e,i)}}}let i0=/[\0\t\n\r]/g;function i1(){let e,t=1,i="",n=!0;return r;function r(r,s,o){let a,l,u,d,c,h=[];for(r=i+("string"==typeof r?r.toString():new TextDecoder(s||void 0).decode(r)),u=0,i="",n&&(65279===r.charCodeAt(0)&&u++,n=void 0);u<r.length;){if(i0.lastIndex=u,d=(a=i0.exec(r))&&void 0!==a.index?a.index:r.length,c=r.charCodeAt(d),!a){i=r.slice(u);break}if(10===c&&u===d&&e)h.push(-3),e=void 0;else switch(e&&(h.push(-5),e=void 0),u<d&&(h.push(r.slice(u,d)),t+=d-u),c){case 0:h.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),h.push(-2);t++<l;)h.push(-1);break;case 10:h.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return o&&(e&&h.push(-5),i&&h.push(i),h.push(null)),h}}function i2(e,t){let i=Number.parseInt(e,t);return i<9||11===i||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(65535&i)==65535||(65535&i)==65534||i>1114111?"":String.fromCodePoint(i)}let i5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i3(e){return e.replace(i5,i4)}function i4(e,t,i){if(t)return t;if(35===i.charCodeAt(0)){let e=i.charCodeAt(1),t=120===e||88===e;return i2(i.slice(t?2:1),t?16:10)}return iu(i)||e}let i6={}.hasOwnProperty;function i8(e,t,i){return"string"!=typeof t&&(i=t,t=void 0),i9(i)(eX(iZ(i).document().write(i1()(e,t,!0))))}function i9(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ei),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(J),blockQuote:s(q),characterEscape:A,characterReference:A,codeFenced:s(G),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(G,o),codeText:s(K,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(X),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Y),hardBreakEscape:s(Q),hardBreakTrailing:s(Q),htmlFlow:s(Z,o),htmlFlowData:A,htmlText:s(Z,o),htmlTextData:A,image:s(ee),label:o,link:s(ei),listItem:s(er),listItemValue:h,listOrdered:s(en,c),listUnordered:s(en),paragraph:s(es),reference:V,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(J),strong:s(eo),thematicBreak:s(el)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:W,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:z,characterReferenceMarkerNumeric:z,characterReferenceValue:j,characterReference:H,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:l(v),codeText:l(I),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(_),htmlFlowData:E,htmlText:l(P),htmlTextData:E,image:l(O),label:L,labelText:D,lineEnding:M,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:N,resourceTitleString:F,resource:B,setextHeading:l(k),setextHeadingLineSequence:x,setextHeadingText:C,strong:l(),thematicBreak:l()}};ne(t,(e||{}).mdastExtensions||[]);let i={};return n;function n(e){let n={type:"root",children:[]},s={stack:[n],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:d,data:i},l=[],c=-1;for(;++c<e.length;)("listOrdered"===e[c][1].type||"listUnordered"===e[c][1].type)&&("enter"===e[c][0]?l.push(c):c=r(e,l.pop(),c));for(c=-1;++c<e.length;){let i=t[e[c][0]];i6.call(i,e[c][1].type)&&i[e[c][1].type].call(Object.assign({sliceSerialize:e[c][2].sliceSerialize},s),e[c][1])}if(s.tokenStack.length>0){let e=s.tokenStack[s.tokenStack.length-1];(e[1]||ni).call(s,void 0,e[0])}for(n.position={start:i7(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:i7(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<t.transforms.length;)n=t.transforms[c](n)||n;return n}function r(e,t,i){let n,r,s,o,a=t-1,l=-1,u=!1;for(;++a<=i;){let t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,o=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!n||o||l||s||(s=a),o=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:o=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(n){let o=a;for(r=void 0;o--;){let t=e[o];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",r=o}else if("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type);else break}s&&(!r||s<r)&&(n._spread=!0),n.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||a,0,["exit",n,t[2]]),a++,i++}if("listItemPrefix"===t[1].type){let r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};n=r,e.splice(a,0,["enter",r,t[2]]),a++,i++,s=void 0,o=!0}}}return e[t][1]._spread=u,i}function s(e,t){return i;function i(i){a.call(this,e(i),i),t&&t.call(this,i)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(e,t,i){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,i||void 0]),e.position={start:i7(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){let i=this.stack.pop(),n=this.tokenStack.pop();if(n)n[0].type!==e.type&&(t?t.call(this,e,n[0]):(n[1]||ni).call(this,e,n[0]));else throw Error("Cannot close `"+e.type+"` ("+et({start:e.start,end:e.end})+"): its not open");i.position.end=i7(e.end)}function d(){return eV(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function h(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)}function f(){let e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){let e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){let t=this.resume(),i=this.stack[this.stack.length-1];i.label=t,i.identifier=tH(this.sliceSerialize(e)).toLowerCase()}function b(){let e=this.resume();this.stack[this.stack.length-1].title=e}function S(){let e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){let t=this.stack[this.stack.length-1];t.depth||(t.depth=this.sliceSerialize(e).length)}function C(){this.data.setextHeadingSlurpLineEnding=!0}function x(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function A(e){let t=this.stack[this.stack.length-1].children,i=t[t.length-1];i&&"text"===i.type||((i=ea()).position={start:i7(e.start),end:void 0},t.push(i)),this.stack.push(i)}function E(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=i7(e.end)}function M(e){let i=this.stack[this.stack.length-1];if(this.data.atHardBreak){i.children[i.children.length-1].position.end=i7(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(i.type)&&(A.call(this,e),E.call(this,e))}function T(){this.data.atHardBreak=!0}function _(){let e=this.resume();this.stack[this.stack.length-1].value=e}function P(){let e=this.resume();this.stack[this.stack.length-1].value=e}function I(){let e=this.resume();this.stack[this.stack.length-1].value=e}function R(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function O(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(e){let t=this.sliceSerialize(e),i=this.stack[this.stack.length-2];i.label=i3(t),i.identifier=tH(t).toLowerCase()}function L(){let e=this.stack[this.stack.length-1],t=this.resume(),i=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===i.type?i.children=e.children:i.alt=t}function N(){let e=this.resume();this.stack[this.stack.length-1].url=e}function F(){let e=this.resume();this.stack[this.stack.length-1].title=e}function B(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function U(e){let t=this.resume(),i=this.stack[this.stack.length-1];i.label=t,i.identifier=tH(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function z(e){this.data.characterReferenceType=e.type}function j(e){let t,i=this.sliceSerialize(e),n=this.data.characterReferenceType;n?(t=i2(i,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):t=iu(i);let r=this.stack[this.stack.length-1];r.value+=t}function H(e){this.stack.pop().position.end=i7(e.end)}function $(e){E.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){E.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function q(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function ei(){return{type:"link",title:null,url:"",children:[]}}function en(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function er(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function es(){return{type:"paragraph",children:[]}}function eo(){return{type:"strong",children:[]}}function ea(){return{type:"text",value:""}}function el(){return{type:"thematicBreak"}}}function i7(e){return{line:e.line,column:e.column,offset:e.offset}}function ne(e,t){let i=-1;for(;++i<t.length;){let n=t[i];Array.isArray(n)?ne(e,n):nt(e,n)}}function nt(e,t){let i;for(i in t)if(i6.call(t,i))switch(i){case"canContainEols":{let n=t[i];n&&e[i].push(...n);break}case"transforms":{let n=t[i];n&&e[i].push(...n);break}case"enter":case"exit":{let n=t[i];n&&Object.assign(e[i],n)}}}function ni(e,t){if(e)throw Error("Cannot close `"+e.type+"` ("+et({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+et({start:t.start,end:t.end})+") is open");throw Error("Cannot close document, a token (`"+t.type+"`, "+et({start:t.start,end:t.end})+") is still open")}function nn(e){let t=this;function i(i){return i8(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}t.parser=i}let nr=-1,ns=0,no=1,na=2,nl=3,nu=4,nd=5,nc=6,nh=7,nf=8,np="object"==typeof self?self:globalThis,nm=(e,t)=>{let i=(t,i)=>(e.set(i,t),t),n=r=>{if(e.has(r))return e.get(r);let[s,o]=t[r];switch(s){case ns:case nr:return i(o,r);case no:{let e=i([],r);for(let t of o)e.push(n(t));return e}case na:{let e=i({},r);for(let[t,i]of o)e[n(t)]=n(i);return e}case nl:return i(new Date(o),r);case nu:{let{source:e,flags:t}=o;return i(new RegExp(e,t),r)}case nd:{let e=i(new Map,r);for(let[t,i]of o)e.set(n(t),n(i));return e}case nc:{let e=i(new Set,r);for(let t of o)e.add(n(t));return e}case nh:{let{name:e,message:t}=o;return i(new np[e](t),r)}case nf:return i(BigInt(o),r);case"BigInt":return i(Object(BigInt(o)),r);case"ArrayBuffer":return i(new Uint8Array(o).buffer,o);case"DataView":{let{buffer:e}=new Uint8Array(o);return i(new DataView(e),o)}}return i(new np[s](o),r)};return n},ng=e=>nm(new Map,e)(0),nv="",{toString:ny}={},{keys:nb}=Object,nS=e=>{let t=typeof e;if("object"!==t||!e)return[ns,t];let i=ny.call(e).slice(8,-1);switch(i){case"Array":return[no,nv];case"Object":return[na,nv];case"Date":return[nl,nv];case"RegExp":return[nu,nv];case"Map":return[nd,nv];case"Set":return[nc,nv];case"DataView":return[no,i]}return i.includes("Array")?[no,i]:i.includes("Error")?[nh,i]:[na,i]},nw=([e,t])=>e===ns&&("function"===t||"symbol"===t),nC=(e,t,i,n)=>{let r=(e,t)=>{let r=n.push(e)-1;return i.set(t,r),r},s=n=>{if(i.has(n))return i.get(n);let[o,a]=nS(n);switch(o){case ns:{let t=n;switch(a){case"bigint":o=nf,t=n.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+a);t=null;break;case"undefined":return r([nr],n)}return r([o,t],n)}case no:{if(a){let e=n;return"DataView"===a?e=new Uint8Array(n.buffer):"ArrayBuffer"===a&&(e=new Uint8Array(n)),r([a,[...e]],n)}let e=[],t=r([o,e],n);for(let t of n)e.push(s(t));return t}case na:{if(a)switch(a){case"BigInt":return r([a,n.toString()],n);case"Boolean":case"Number":case"String":return r([a,n.valueOf()],n)}if(t&&"toJSON"in n)return s(n.toJSON());let i=[],l=r([o,i],n);for(let t of nb(n))(e||!nw(nS(n[t])))&&i.push([s(t),s(n[t])]);return l}case nl:return r([o,n.toISOString()],n);case nu:{let{source:e,flags:t}=n;return r([o,{source:e,flags:t}],n)}case nd:{let t=[],i=r([o,t],n);for(let[i,r]of n)(e||!(nw(nS(i))||nw(nS(r))))&&t.push([s(i),s(r)]);return i}case nc:{let t=[],i=r([o,t],n);for(let i of n)(e||!nw(nS(i)))&&t.push(s(i));return i}}let{message:l}=n;return r([o,{name:a,message:l}],n)};return s},nx=(e,{json:t,lossy:i}={})=>{let n=[];return nC(!(t||i),!!t,new Map,n)(e),n},nk="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?ng(nx(e,t)):structuredClone(e):(e,t)=>ng(nx(e,t));function nA(e){let t=[],i=-1,n=0,r=0;for(;++i<e.length;){let s=e.charCodeAt(i),o="";if(37===s&&e1(e.charCodeAt(i+1))&&e1(e.charCodeAt(i+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){let t=e.charCodeAt(i+1);s<56320&&t>56319&&t<57344?(o=String.fromCharCode(s,t),r=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(n,i),encodeURIComponent(o)),n=i+r+1,o=""),r&&(i+=r,r=0)}return t.join("")+e.slice(n)}function nE(e,t){let i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function nM(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function nT(e){let t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||nE,n=e.options.footnoteBackLabel||nM,r=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[],l=-1;for(;++l<e.footnoteOrder.length;){let r=e.footnoteById.get(e.footnoteOrder[l]);if(!r)continue;let s=e.all(r),o=String(r.identifier).toUpperCase(),u=nA(o.toLowerCase()),d=0,c=[],h=e.footnoteCounts.get(o);for(;void 0!==h&&++d<=h;){c.length>0&&c.push({type:"text",value:" "});let e="string"==typeof i?i:i(l,d);"string"==typeof e&&(e={type:"text",value:e}),c.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof n?n:n(l,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}let f=s[s.length-1];if(f&&"element"===f.type&&"p"===f.tagName){let e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...c)}else s.push(...c);let p={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(s,!0)};e.patch(r,p),a.push(p)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...nk(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}let n_=function(e){if(null==e)return nD;if("function"==typeof e)return nO(e);if("object"==typeof e)return Array.isArray(e)?nP(e):nI(e);if("string"==typeof e)return nR(e);throw Error("Expected function, string, or object as test")};function nP(e){let t=[],i=-1;for(;++i<e.length;)t[i]=n_(e[i]);return nO(n);function n(...e){let i=-1;for(;++i<t.length;)if(t[i].apply(this,e))return!0;return!1}}function nI(e){let t=e;return nO(i);function i(i){let n,r=i;for(n in e)if(r[n]!==t[n])return!1;return!0}}function nR(e){return nO(t);function t(t){return t&&t.type===e}}function nO(e){return t;function t(t,i,n){return!!(nL(t)&&e.call(this,t,"number"==typeof i?i:void 0,n||void 0))}}function nD(){return!0}function nL(e){return null!==e&&"object"==typeof e&&"type"in e}function nN(e){return e}let nF=[],nB=!0,nV=!1,nU="skip";function nz(e,t,i,n){let r;"function"==typeof t&&"function"!=typeof i?(n=i,i=t):r=t;let s=n_(r),o=n?-1:1;function a(e,r,l){let u=e&&"object"==typeof e?e:{};if("string"==typeof u.type){let t="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0;Object.defineProperty(d,"name",{value:"node ("+nN(e.type+(t?"<"+t+">":""))+")"})}return d;function d(){let u,d,c,h=nF;if((!t||s(e,r,l[l.length-1]||void 0))&&(h=nj(i(e,l)))[0]===nV)return h;if("children"in e&&e.children){let t=e;if(t.children&&h[0]!==nU)for(d=(n?t.children.length:-1)+o,c=l.concat(t);d>-1&&d<t.children.length;){if((u=a(t.children[d],d,c)())[0]===nV)return u;d="number"==typeof u[1]?u[1]:d+o}}return h}}a(e,void 0,[])()}function nj(e){return Array.isArray(e)?e:"number"==typeof e?[nB,e]:null==e?nF:[e]}function nH(e,t,i,n){let r,s,o;function a(e,t){let i=t[t.length-1],n=i?i.children.indexOf(e):void 0;return o(e,n,i)}"function"==typeof t&&"function"!=typeof i?(s=void 0,o=t,r=i):(s=t,o=i,r=n),nz(e,s,a,r)}function n$(e,t){let i=t.referenceType,n="]";if("collapsed"===i?n+="[]":"full"===i&&(n+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+n}];let r=e.all(t),s=r[0];s&&"text"===s.type?s.value="["+s.value:r.unshift({type:"text",value:"["});let o=r[r.length-1];return o&&"text"===o.type?o.value+=n:r.push({type:"text",value:n}),r}function nW(e){let t=!1;if("list"===e.type){t=e.spread||!1;let i=e.children,n=-1;for(;!t&&++n<i.length;)t=nq(i[n])}return t}function nq(e){let t=e.spread;return null==t?e.children.length>1:t}let nG=9,nK=32;function nX(e){let t=String(e),i=/\r?\n|\r/g,n=i.exec(t),r=0,s=[];for(;n;)s.push(nY(t.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=i.exec(t);return s.push(nY(t.slice(r),r>0,!1)),s.join("")}function nY(e,t,i){let n=0,r=e.length;if(t){let t=e.codePointAt(n);for(;t===nG||t===nK;)n++,t=e.codePointAt(n)}if(i){let t=e.codePointAt(r-1);for(;t===nG||t===nK;)r--,t=e.codePointAt(r-1)}return r>n?e.slice(n,r):""}let nJ={blockquote:function(e,t){let i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)},break:function(e,t){let i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:"\n"}]},code:function(e,t){let i=t.value?t.value+"\n":"",n={};t.lang&&(n.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:n,children:[{type:"text",value:i}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r={type:"element",tagName:"pre",properties:{},children:[r=e.applyData(t,r)]},e.patch(t,r),r},delete:function(e,t){let i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},emphasis:function(e,t){let i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},footnoteReference:function(e,t){let i,n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=nA(r.toLowerCase()),o=e.footnoteOrder.indexOf(r),a=e.footnoteCounts.get(r);void 0===a?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);let l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);let u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){let i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},html:function(e,t){if(e.options.allowDangerousHtml){let i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}},imageReference:function(e,t){let i=String(t.identifier).toUpperCase(),n=e.definitionById.get(i);if(!n)return n$(e,t);let r={src:nA(n.url||""),alt:t.alt};null!==n.title&&void 0!==n.title&&(r.title=n.title);let s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){let i={src:nA(t.url)};null!==t.alt&&void 0!==t.alt&&(i.alt=t.alt),null!==t.title&&void 0!==t.title&&(i.title=t.title);let n={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,n),e.applyData(t,n)},inlineCode:function(e,t){let i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);let n={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,n),e.applyData(t,n)},linkReference:function(e,t){let i=String(t.identifier).toUpperCase(),n=e.definitionById.get(i);if(!n)return n$(e,t);let r={href:nA(n.url||"")};null!==n.title&&void 0!==n.title&&(r.title=n.title);let s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){let i={href:nA(t.url)};null!==t.title&&void 0!==t.title&&(i.title=t.title);let n={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},listItem:function(e,t,i){let n=e.all(t),r=i?nW(i):nq(t),s={},o=[];if("boolean"==typeof t.checked){let e,i=n[0];i&&"element"===i.type&&"p"===i.tagName?e=i:(e={type:"element",tagName:"p",properties:{},children:[]},n.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<n.length;){let e=n[a];(r||0!==a||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?o.push(e):o.push(...e.children)}let l=n[n.length-1];l&&(r||"element"!==l.type||"p"!==l.tagName)&&o.push({type:"text",value:"\n"});let u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){let i={},n=e.all(t),r=-1;for("number"==typeof t.start&&1!==t.start&&(i.start=t.start);++r<n.length;){let e=n[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}let s={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){let i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},root:function(e,t){let i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)},strong:function(e,t){let i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},table:function(e,t){let i=e.all(t),n=i.shift(),r=[];if(n){let i={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],i),r.push(i)}if(i.length>0){let n={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},s=Q(t.children[1]),o=J(t.children[t.children.length-1]);s&&o&&(n.position={start:s,end:o}),r.push(n)}let s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){let i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},tableRow:function(e,t,i){let n=i?i.children:void 0,r=0===(n?n.indexOf(t):1)?"th":"td",s=i&&"table"===i.type?i.align:void 0,o=s?s.length:t.children.length,a=-1,l=[];for(;++a<o;){let i=t.children[a],n={},o=s?s[a]:void 0;o&&(n.align=o);let u={type:"element",tagName:r,properties:n,children:[]};i&&(u.children=e.all(i),e.patch(i,u),u=e.applyData(i,u)),l.push(u)}let u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){let i={type:"text",value:nX(String(t.value))};return e.patch(t,i),e.applyData(t,i)},thematicBreak:function(e,t){let i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)},toml:nQ,yaml:nQ,definition:nQ,footnoteDefinition:nQ};function nQ(){}let nZ={}.hasOwnProperty,n0={};function n1(e,t){let i=t||n0,n=new Map,r=new Map,s={all:a,applyData:n5,definitionById:n,footnoteById:r,footnoteCounts:new Map,footnoteOrder:[],handlers:{...nJ,...i.handlers},one:o,options:i,patch:n2,wrap:n4};return nH(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){let t="definition"===e.type?n:r,i=String(e.identifier).toUpperCase();t.has(i)||t.set(i,e)}}),s;function o(e,t){let i=e.type,n=s.handlers[i];if(nZ.call(s.handlers,i)&&n)return n(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(i)){if("children"in e){let{children:t,...i}=e,n=nk(i);return n.children=s.all(e),n}return nk(e)}return(s.options.unknownHandler||n3)(s,e,t)}function a(e){let t=[];if("children"in e){let i=e.children,n=-1;for(;++n<i.length;){let r=s.one(i[n],e);if(r){if(n&&"break"===i[n-1].type&&(Array.isArray(r)||"text"!==r.type||(r.value=n6(r.value)),!Array.isArray(r)&&"element"===r.type)){let e=r.children[0];e&&"text"===e.type&&(e.value=n6(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t}}function n2(e,t){e.position&&(t.position=ee(e))}function n5(e,t){let i=t;if(e&&e.data){let t=e.data.hName,n=e.data.hChildren,r=e.data.hProperties;"string"==typeof t&&("element"===i.type?i.tagName=t:i={type:"element",tagName:t,properties:{},children:"children"in i?i.children:[i]}),"element"===i.type&&r&&Object.assign(i.properties,nk(r)),"children"in i&&i.children&&null!=n&&(i.children=n)}return i}function n3(e,t){let i=t.data||{},n="value"in t&&!(nZ.call(i,"hProperties")||nZ.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n4(e,t){let i=[],n=-1;for(t&&i.push({type:"text",value:"\n"});++n<e.length;)n&&i.push({type:"text",value:"\n"}),i.push(e[n]);return t&&e.length>0&&i.push({type:"text",value:"\n"}),i}function n6(e){let t=0,i=e.charCodeAt(t);for(;9===i||32===i;)t++,i=e.charCodeAt(t);return e.slice(t)}function n8(e,t){let i=n1(e,t),n=i.one(e,void 0),r=nT(i),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return r&&s.children.push({type:"text",value:"\n"},r),s}function n9(e,t){return e&&"run"in e?async function(i,n){let r=n8(i,{file:n,...t});await e.run(r,n)}:function(i,n){return n8(i,{file:n,...e||t})}}function n7(e){if(e)throw e}var re=i(70011);function rt(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ri(){let e=[],t={run:i,use:n};return t;function i(...t){let n=-1,r=t.pop();if("function"!=typeof r)throw TypeError("Expected function as last argument, not "+r);function s(i,...o){let a=e[++n],l=-1;if(i)return void r(i);for(;++l<t.length;)(null===o[l]||void 0===o[l])&&(o[l]=t[l]);t=o,a?rn(a,s)(...o):r(null,...o)}s(null,...t)}function n(i){if("function"!=typeof i)throw TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function rn(e,t){let i;return n;function n(...t){let o,a=e.length>t.length;a&&t.push(r);try{o=e.apply(this,t)}catch(t){let e=t;if(a&&i)throw e;return r(e)}a||(o&&o.then&&"function"==typeof o.then?o.then(s,r):o instanceof Error?r(o):s(o))}function r(e,...n){i||(i=!0,t(e,...n))}function s(e){r(null,e)}}let rr={basename:rs,dirname:ro,extname:ra,join:rl,sep:"/"};function rs(e,t){let i;if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');rc(e);let n=0,r=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function ro(e){let t;if(rc(e),0===e.length)return".";let i=-1,n=e.length;for(;--n;)if(47===e.codePointAt(n)){if(t){i=n;break}}else t||(t=!0);return i<0?47===e.codePointAt(0)?"/":".":1===i&&47===e.codePointAt(0)?"//":e.slice(0,i)}function ra(e){let t;rc(e);let i=e.length,n=-1,r=0,s=-1,o=0;for(;i--;){let a=e.codePointAt(i);if(47===a){if(t){r=i+1;break}continue}n<0&&(t=!0,n=i+1),46===a?s<0?s=i:1!==o&&(o=1):s>-1&&(o=-1)}return s<0||n<0||0===o||1===o&&s===n-1&&s===r+1?"":e.slice(s,n)}function rl(...e){let t,i=-1;for(;++i<e.length;)rc(e[i]),e[i]&&(t=void 0===t?e[i]:t+"/"+e[i]);return void 0===t?".":ru(t)}function ru(e){rc(e);let t=47===e.codePointAt(0),i=rd(e,!t);return 0!==i.length||t||(i="."),i.length>0&&47===e.codePointAt(e.length-1)&&(i+="/"),t?"/"+i:i}function rd(e,t){let i,n,r="",s=0,o=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)i=e.codePointAt(l);else if(47===i)break;else i=47;if(47===i){if(o===l-1||1===a);else if(o!==l-1&&2===a){if(r.length<2||2!==s||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2)){if(r.length>2){if((n=r.lastIndexOf("/"))!==r.length-1){n<0?(r="",s=0):s=(r=r.slice(0,n)).length-1-r.lastIndexOf("/"),o=l,a=0;continue}}else if(r.length>0){r="",s=0,o=l,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+e.slice(o+1,l):r=e.slice(o+1,l),s=l-o-1;o=l,a=0}else 46===i&&a>-1?a++:a=-1}return r}function rc(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}let rh={cwd:rf};function rf(){return"/"}function rp(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function rm(e){if("string"==typeof e)e=new URL(e);else if(!rp(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){let e=TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return rg(e)}function rg(e){if(""!==e.hostname){let e=TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}let t=e.pathname,i=-1;for(;++i<t.length;)if(37===t.codePointAt(i)&&50===t.codePointAt(i+1)){let e=t.codePointAt(i+2);if(70===e||102===e){let e=TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}let rv=["history","path","basename","stem","extname","dirname"];class ry{constructor(e){let t,i;t=e?rp(e)?{path:e}:"string"==typeof e||rC(e)?{value:e}:e:{},this.cwd="cwd"in t?"":rh.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<rv.length;){let e=rv[n];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(i in t)rv.includes(i)||(this[i]=t[i])}get basename(){return"string"==typeof this.path?rr.basename(this.path):void 0}set basename(e){rS(e,"basename"),rb(e,"basename"),this.path=rr.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?rr.dirname(this.path):void 0}set dirname(e){rw(this.basename,"dirname"),this.path=rr.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?rr.extname(this.path):void 0}set extname(e){if(rb(e,"extname"),rw(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw Error("`extname` must start with `.`");if(e.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=rr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){rp(e)&&(e=rm(e)),rS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?rr.basename(this.path,this.extname):void 0}set stem(e){rS(e,"stem"),rb(e,"stem"),this.path=rr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){let n=this.message(e,t,i);throw n.fatal=!0,n}info(e,t,i){let n=this.message(e,t,i);return n.fatal=void 0,n}message(e,t,i){let n=new es(e,t,i);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function rb(e,t){if(e&&e.includes(rr.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+rr.sep+"`")}function rS(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function rw(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}function rC(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}let rx=function(e){let t=this,i=t.constructor.prototype,n=i[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,i),r},rk={}.hasOwnProperty;class rA extends rx{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ri()}copy(){let e=new rA,t=-1;for(;++t<this.attachers.length;){let i=this.attachers[t];e.use(...i)}return e.data(re(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2==arguments.length?(r_("data",this.frozen),this.namespace[e]=t,this):rk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(r_("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[t,...i]=this.attachers[this.freezeIndex];if(!1===i[0])continue;!0===i[0]&&(i[0]=void 0);let n=t.call(e,...i);"function"==typeof n&&this.transformers.use(n)}return this.frozen=!0,this.freezeIndex=1/0,this}parse(e){this.freeze();let t=rR(e),i=this.parser||this.Parser;return rM("parse",i),i(String(t),t)}process(e,t){let i=this;return this.freeze(),rM("process",this.parser||this.Parser),rT("process",this.compiler||this.Compiler),t?n(void 0,t):new Promise(n);function n(n,r){let s=rR(e),o=i.parse(s);function a(e,i){e||!i?r(e):n?n(i):t(void 0,i)}i.run(o,s,function(e,t,n){if(e||!t||!n)return a(e);let r=t,s=i.stringify(r,n);rD(s)?n.value=s:n.result=s,a(e,n)})}}processSync(e){let t,i=!1;return this.freeze(),rM("processSync",this.parser||this.Parser),rT("processSync",this.compiler||this.Compiler),this.process(e,n),rI("processSync","process",i),t;function n(e,n){i=!0,n7(e),t=n}}run(e,t,i){rP(e),this.freeze();let n=this.transformers;return i||"function"!=typeof t||(i=t,t=void 0),i?r(void 0,i):new Promise(r);function r(r,s){let o=rR(t);function a(t,n,o){let a=n||e;t?s(t):r?r(a):i(void 0,a,o)}n.run(e,o,a)}}runSync(e,t){let i,n=!1;return this.run(e,t,r),rI("runSync","run",n),i;function r(e,t){n7(e),i=t,n=!0}}stringify(e,t){this.freeze();let i=rR(t),n=this.compiler||this.Compiler;return rT("stringify",n),rP(e),n(e,i)}use(e,...t){let i=this.attachers,n=this.namespace;if(r_("use",this.frozen),null==e);else if("function"==typeof e)a(e,t);else if("object"==typeof e)Array.isArray(e)?o(e):s(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function r(e){if("function"==typeof e)a(e,[]);else if("object"==typeof e)if(Array.isArray(e)){let[t,...i]=e;a(t,i)}else s(e);else throw TypeError("Expected usable value, not `"+e+"`")}function s(e){if(!("plugins"in e)&&!("settings"in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(n.settings=re(!0,n.settings,e.settings))}function o(e){let t=-1;if(null==e);else if(Array.isArray(e))for(;++t<e.length;)r(e[t]);else throw TypeError("Expected a list of plugins, not `"+e+"`")}function a(e,t){let n=-1,r=-1;for(;++n<i.length;)if(i[n][0]===e){r=n;break}if(-1===r)i.push([e,...t]);else if(t.length>0){let[n,...s]=t,o=i[r][1];rt(o)&&rt(n)&&(n=re(!0,o,n)),i[r]=[e,n,...s]}}}}let rE=new rA().freeze();function rM(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `parser`")}function rT(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `compiler`")}function r_(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rP(e){if(!rt(e)||"string"!=typeof e.type)throw TypeError("Expected node, got `"+e+"`")}function rI(e,t,i){if(!i)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function rR(e){return rO(e)?e:new ry(e)}function rO(e){return!!(e&&"object"==typeof e&&"message"in e&&"messages"in e)}function rD(e){return"string"==typeof e||rL(e)}function rL(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}let rN=[],rF={allowDangerousHtml:!0},rB=/^(https?|ircs?|mailto|xmpp)$/i,rV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rU(e){let t=rz(e),i=rj(e);return rH(t.runSync(t.parse(i),i),e)}function rz(e){let t=e.rehypePlugins||rN,i=e.remarkPlugins||rN,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rF}:rF;return rE().use(nn).use(i).use(n9,n).use(t)}function rj(e){let t=e.children||"",i=new ry;return"string"==typeof t&&(i.value=t),i}function rH(e,t){let i=t.allowedElements,n=t.allowElement,r=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||r$;for(let e of rV)Object.hasOwn(t,e.from)&&(e.from,e.to&&e.to,e.id);return nH(e,u),ef(e,{Fragment:eF.Fragment,components:r,ignoreInvalidStyle:!0,jsx:eF.jsx,jsxs:eF.jsxs,passKeys:!0,passNode:!0});function u(e,t,r){if("raw"===e.type&&r&&"number"==typeof t)return o?r.children.splice(t,1):r.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in eN)if(Object.hasOwn(eN,t)&&Object.hasOwn(e.properties,t)){let i=e.properties[t],n=eN[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=l(String(i||""),t,e))}}if("element"===e.type){let o=i?!i.includes(e.tagName):!!s&&s.includes(e.tagName);if(!o&&n&&"number"==typeof t&&(o=!n(e,t,r)),o&&r&&"number"==typeof t)return a&&e.children?r.children.splice(t,1,...e.children):r.children.splice(t,1),t}}}function r$(e){let t=e.indexOf(":"),i=e.indexOf("?"),n=e.indexOf("#"),r=e.indexOf("/");return -1===t||-1!==r&&t>r||-1!==i&&t>i||-1!==n&&t>n||rB.test(e.slice(0,t))?e:""}},3573:(e,t,i)=>{"use strict";i.d(t,{NC:()=>l,kv:()=>d});var n=i(55360),r=i(15137);function s(e){let t=[];for(let i of Object.keys(e).sort()){let n=e[i];if(i=(0,r.o)(i),Array.isArray(n))for(let e=0,s=n.length;e<s;e++)t.push(`${i}=${(0,r.o)(n[e])}`);else{let e=i;(n||"string"==typeof n)&&(e+=`=${(0,r.o)(n)}`),t.push(e)}}return t.join("&")}function o(e=0){return new Promise((t,i)=>{e&&setTimeout(()=>{let t=Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",i(t)},e)})}let a={supported:!!("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]"))};class l{static create(e){return"function"==typeof e?.handle?e:new l(e)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);let i=this.config.requestTimeout,r=!0===this.config.keepAlive;if(t?.aborted){let e=Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let l=e.path,u=s(e.query||{});u&&(l+=`?${u}`),e.fragment&&(l+=`#${e.fragment}`);let d="";if(null!=e.username||null!=e.password){let t=e.username??"",i=e.password??"";d=`${t}:${i}@`}let{port:c,method:h}=e,f=`${e.protocol}//${d}${e.hostname}${c?`:${c}`:""}${l}`,p={body:"GET"===h||"HEAD"===h?void 0:e.body,headers:new Headers(e.headers),method:h};"undefined"!=typeof AbortController&&(p.signal=t),a.supported&&(p.keepalive=r);let m=[fetch(new Request(f,p)).then(e=>{let t=e.headers,i={};for(let e of t.entries())i[e[0]]=e[1];return void 0==e.body?e.blob().then(t=>({response:new n.cS({headers:i,reason:e.statusText,statusCode:e.status,body:t})})):{response:new n.cS({headers:i,reason:e.statusText,statusCode:e.status,body:e.body})}}),o(i)];return t&&m.push(new Promise((e,i)=>{t.onabort=()=>{let e=Error("Request aborted");e.name="AbortError",i(e)}})),Promise.race(m)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[e]=t,i))}httpHandlerConfigs(){return this.config??{}}}var u=i(26911);let d=e=>"function"==typeof Blob&&e instanceof Blob?c(e):h(e);async function c(e){let t=await f(e);return new Uint8Array((0,u.E)(t))}async function h(e){let t=new Uint8Array(0),i=e.getReader(),n=!1;for(;!n;){let{done:e,value:r}=await i.read();if(r){let e=t;(t=new Uint8Array(e.length+r.length)).set(e),t.set(r,e.length)}n=e}return t}function f(e){return new Promise((t,i)=>{let n=new FileReader;n.onloadend=()=>{if(2!==n.readyState)return i(Error("Reader aborted too early"));let e=n.result??"",r=e.indexOf(","),s=r>-1?r+1:e.length;t(e.substring(s))},n.onabort=()=>i(Error("Read aborted")),n.onerror=()=>i(n.error),n.readAsDataURL(e)})}},3615:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(19408));class s{constructor(e){this.applicationMetadata=e,this.serverSideNetworkAdaption=r.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}}t.default=s},4163:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptEventConverter=void 0;let r=i(96119),s=n(i(92689)),o=n(i(57971)),a=n(i(74923)),l=n(i(45994)),u={[r.SdkTranscriptionStatus.Type.STARTED]:a.default.STARTED,[r.SdkTranscriptionStatus.Type.INTERRUPTED]:a.default.INTERRUPTED,[r.SdkTranscriptionStatus.Type.RESUMED]:a.default.RESUMED,[r.SdkTranscriptionStatus.Type.STOPPED]:a.default.STOPPED,[r.SdkTranscriptionStatus.Type.FAILED]:a.default.FAILED};class d{static from(e){let t;try{t=r.SdkTranscriptFrame.decode(e.data)}catch(e){throw Error("Cannot decode transcript data message: "+e)}let i=[];for(let e of t.events)if(e.status){let t=u[e.status.type];if(!t)continue;let n=new o.default;n.type=t,n.eventTimeMs=e.status.eventTime,n.transcriptionRegion=e.status.transcriptionRegion,n.transcriptionConfiguration=e.status.transcriptionConfiguration,e.status.message&&(n.message=e.status.message),i.push(n)}else if(e.transcript){let t=new s.default;for(let i of(t.results=[],e.transcript.results)){let e={channelId:i.channelId,isPartial:i.isPartial,resultId:i.resultId,startTimeMs:i.startTime,endTimeMs:i.endTime,alternatives:[]};if(i.languageCode&&(e.languageCode=i.languageCode),i.languageIdentification&&i.languageIdentification.length>0)for(let t of(e.languageIdentification=[],i.languageIdentification)){let i={languageCode:t.languageCode,score:t.score};e.languageIdentification.push(i)}for(let t of i.alternatives){let i={items:[],transcript:t.transcript};for(let e of t.items){let t={content:e.content,attendee:{attendeeId:e.speakerAttendeeId,externalUserId:e.speakerExternalUserId},startTimeMs:e.startTime,endTimeMs:e.endTime,type:null};switch(e.vocabularyFilterMatch&&(t.vocabularyFilterMatch=e.vocabularyFilterMatch),e.hasOwnProperty("stable")&&(t.stable=e.stable),e.hasOwnProperty("confidence")&&(t.confidence=e.confidence),e.type){case r.SdkTranscriptItem.Type.PRONUNCIATION:t.type=l.default.PRONUNCIATION;break;case r.SdkTranscriptItem.Type.PUNCTUATION:t.type=l.default.PUNCTUATION}i.items.push(t)}for(let e of t.entities){i.entities||(i.entities=[]);let t={category:e.category,confidence:e.confidence,content:e.content,startTimeMs:e.startTime,endTimeMs:e.endTime};e.type&&(t.type=e.type),i.entities.push(t)}e.alternatives.push(i)}t.results.push(e)}i.push(t)}return i}}t.TranscriptEventConverter=d},4272:(e,t,i)=>{"use strict";let n=0,r=1,s=2,o=3,a=4,l=5,u=6;function d(e){return h.hasOwnProperty(e)?h[e]:null}function c(e,t,i,n,r,l,u){this.acceptsBooleans=t===s||t===o||t===a,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}let h={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{h[e]=new c(e,n,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{h[e]=new c(e,r,!1,t,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{h[e]=new c(e,s,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{h[e]=new c(e,s,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{h[e]=new c(e,o,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{h[e]=new c(e,o,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{h[e]=new c(e,a,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{h[e]=new c(e,u,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{h[e]=new c(e,l,!1,e.toLowerCase(),null,!1,!1)});let f=/[\-\:]([a-z])/g,p=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{let t=e.replace(f,p);h[t]=new c(t,r,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{let t=e.replace(f,p);h[t]=new c(t,r,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{let t=e.replace(f,p);h[t]=new c(t,r,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{h[e]=new c(e,r,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new c("xlinkHref",r,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{h[e]=new c(e,r,!1,e.toLowerCase(),null,!0,!0)});let{CAMELCASE:m,SAME:g,possibleStandardNames:v}=i(70687),y=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",b=RegExp.prototype.test.bind(RegExp("^(data|aria)-["+y+"]*$")),S=Object.keys(v).reduce((e,t)=>{let i=v[t];return i===g?e[t]=t:i===m?e[t.toLowerCase()]=t:e[t]=i,e},{});t.BOOLEAN=o,t.BOOLEANISH_STRING=s,t.NUMERIC=l,t.OVERLOADED_BOOLEAN=a,t.POSITIVE_NUMERIC=u,t.RESERVED=n,t.STRING=r,t.getPropertyInfo=d,t.isCustomAttribute=b,t.possibleStandardNames=S},4509:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(24059),o=r(i(11017));class a{constructor(e,t){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;let{eventsClientConfiguration:i,ingestionURL:n,eventBufferConfiguration:r}=e,{eventsToIgnore:s}=i;this.eventBuffer=new o.default(r,i,n,this.importantEvents,t),this.logger=t,this.eventsToIgnore=s,this.start()}start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(e){this.logger.error(`Event Reporting - Error starting the event buffer ${e}`)}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(e){this.logger.error(`Event Reporting - Error stopping the event buffer ${e}`)}}reportEvent(e,t,i){return n(this,void 0,void 0,function*(){if(this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ${e}, ${t}, ${JSON.stringify(i)}`),this.eventsToIgnore.includes(t))return void this.logger.debug(`Event Reporting - DefaultMeetingEventReporter - ${t} event will be ignored as it is in events to ignore`);try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:e,name:t,attributes:i})}catch(e){this.logger.error(`Event Reporting - Error adding event to buffer ${e}`)}})}destroy(){return n(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),s.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}}t.default=a},4571:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(61994));class s{constructor(e=null,t=!0){this.audioBitrateBps=e,this.enableAudioRedundancy=new r.default().supportsAudioRedundancy()&&t}static fullbandSpeechMono(e=!0){return new s(4e4,e)}static fullbandMusicMono(e=!0){return new s(64e3,e)}static fullbandMusicStereo(e=!0){return new s(128e3,e)}isStereo(){return 128e3===this.audioBitrateBps}hasRedundancyEnabled(){return this.enableAudioRedundancy}}t.default=s},4694:(e,t,i)=>{"use strict";i.d(t,{Kj:()=>u,uB:()=>b,N4:()=>n,$H:()=>S,TJ:()=>O,Ss:()=>et,Px:()=>y,J1:()=>w,Mw:()=>D,ak:()=>C,Y0:()=>k,r$:()=>x,Xk:()=>A,lK:()=>E,xA:()=>$,lT:()=>B,Tj:()=>G,l3:()=>R,uv:()=>W,un:()=>ee,s:()=>K,jr:()=>N});class n{trace(){}debug(){}info(){}warn(){}error(){}}let r=(e,t)=>{let i=[];if(e&&i.push(e),t)for(let e of t)i.push(e);return i},s=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,o=()=>{let e=[],t=[],i=!1,n=new Set,u=e=>e.sort((e,t)=>a[t.step]-a[e.step]||l[t.priority||"normal"]-l[e.priority||"normal"]),d=i=>{let s=!1,o=e=>{let t=r(e.name,e.aliases);if(t.includes(i)){for(let e of(s=!0,t))n.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),s},c=i=>{let s=!1,o=e=>{if(e.middleware===i){for(let t of(s=!0,r(e.name,e.aliases)))n.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),s},h=i=>(e.forEach(e=>{i.add(e.middleware,{...e})}),t.forEach(e=>{i.addRelativeTo(e.middleware,{...e})}),i.identifyOnResolve?.(m.identifyOnResolve()),i),f=e=>{let t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...f(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...f(e))}),t},p=(i=!1)=>{let n=[],o=[],a={};return e.forEach(e=>{let t={...e,before:[],after:[]};for(let e of r(t.name,t.aliases))a[e]=t;n.push(t)}),t.forEach(e=>{let t={...e,before:[],after:[]};for(let e of r(t.name,t.aliases))a[e]=t;o.push(t)}),o.forEach(e=>{if(e.toMiddleware){let t=a[e.toMiddleware];if(void 0===t){if(i)return;throw Error(`${e.toMiddleware} is not found when adding ${s(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),u(n).map(f).reduce((e,t)=>(e.push(...t),e),[])},m={add:(t,i={})=>{let{name:o,override:a,aliases:l}=i,u={step:"initialize",priority:"normal",middleware:t,...i},d=r(o,l);if(d.length>0){if(d.some(e=>n.has(e))){if(!a)throw Error(`Duplicate middleware name '${s(o,l)}'`);for(let t of d){let i=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===i)continue;let n=e[i];if(n.step!==u.step||u.priority!==n.priority)throw Error(`"${s(n.name,n.aliases)}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by "${s(o,l)}" middleware with ${u.priority} priority in ${u.step} step.`);e.splice(i,1)}}for(let e of d)n.add(e)}e.push(u)},addRelativeTo:(e,i)=>{let{name:o,override:a,aliases:l}=i,u={middleware:e,...i},d=r(o,l);if(d.length>0){if(d.some(e=>n.has(e))){if(!a)throw Error(`Duplicate middleware name '${s(o,l)}'`);for(let e of d){let i=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===i)continue;let n=t[i];if(n.toMiddleware!==u.toMiddleware||n.relation!==u.relation)throw Error(`"${s(n.name,n.aliases)}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by "${s(o,l)}" middleware ${u.relation} "${u.toMiddleware}" middleware.`);t.splice(i,1)}}for(let e of d)n.add(e)}t.push(u)},clone:()=>h(o()),use:e=>{e.applyToStack(m)},remove:e=>"string"==typeof e?d(e):c(e),removeByTag:i=>{let s=!1,o=e=>{let{tags:t,name:o,aliases:a}=e;if(t&&t.includes(i)){for(let e of r(o,a))n.delete(e);return s=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),s},concat:e=>{let t=h(o());return t.use(e),t.identifyOnResolve(i||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:h,identify:()=>p(!0).map(e=>{let t=e.step??e.relation+" "+e.toMiddleware;return s(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(i=e),i),resolve:(e,t)=>{for(let i of p().map(e=>e.middleware).reverse())e=i(e,t);return i&&console.log(m.identify()),e}};return m},a={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},l={high:3,normal:2,low:1};class u{constructor(e){this.middlewareStack=o(),this.config=e}send(e,t,i){let n="function"!=typeof t?t:void 0,r="function"==typeof t?t:i,s=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!r)return s(e).then(e=>e.output);s(e).then(e=>r(null,e.output),e=>r(e)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}var d=i(26911),c=i(90458),h=i(31783);function f(e,t="utf-8"){return"base64"===t?(0,d.n)(e):(0,c.P)(e)}function p(e,t){return"base64"===t?m.mutate((0,d.E)(e)):m.mutate((0,h.a)(e))}class m extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return p(e,t);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,m.prototype),e}transformToString(e="utf-8"){return f(this,e)}}i(3573);let g={},v={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),g[e]=t,v[t]=e}let y=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return m.mutate(e);if(!e)return m.mutate(new Uint8Array);let i=t.streamCollector(e);return m.mutate(await i)};class b{constructor(){this.middlewareStack=o()}}let S="***SensitiveInformation***",w=(e,t)=>{for(let i of Object.keys(e)){let n=e[i],r=async function(e,t,i){let r=new n(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof i)return this.send(r,t);if("object"!=typeof t)throw Error(`Expected http options but got ${typeof t}`);this.send(r,t||{},i)}},s=(i[0].toLowerCase()+i.slice(1)).replace(/Command$/,"");t.prototype[s]=r}},C=e=>{if(null!=e){if("number"==typeof e){if((0===e||1===e)&&I.warn(P(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){let t=e.toLowerCase();if(("false"===t||"true"===t)&&I.warn(P(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},x=e=>{if(null!=e){if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&I.warn(P(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},k=(e,t)=>{if(null==e){if(t)throw TypeError(`Expected a non-null value for ${t}`);throw TypeError("Expected a non-null value")}return e},A=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw TypeError(`Expected object, got ${t}: ${e}`)},E=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return I.warn(P(`Expected string, got ${typeof e}: ${e}`)),String(e);throw TypeError(`Expected string, got ${typeof e}: ${e}`)}},M=e=>"string"==typeof e?x(_(e)):x(e),T=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,_=e=>{let t=e.match(T);if(null===t||t[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},P=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),I={warn:console.warn},R=e=>{let t;if(null!=e){if("number"==typeof e)t=e;else if("string"==typeof e)t=M(e);else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}};class O extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,O.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}let D=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,i])=>{(void 0==e[t]||""===e[t])&&(e[t]=i)});let i=e.message||e.Message||"UnknownError";return e.message=i,delete e.Message,e},L=({output:e,parsedBody:t,exceptionCtor:i,errorCode:n})=>{let r=F(e),s=r.httpStatusCode?r.httpStatusCode+"":void 0;throw D(new i({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:r}),t)},N=e=>({output:t,parsedBody:i,errorCode:n})=>{L({output:t,parsedBody:i,exceptionCtor:e,errorCode:n})},F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),B=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var V=i(98295);let U=e=>{let t=[];for(let i in V.dB){let n=V.dB[i];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},z=e=>{let t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},j=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},H=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},$=e=>({...U(e),...j(e)}),W=e=>({...z(e),...H(e)}),q=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),i=new t;return Object.setPrototypeOf(i,e.prototype),i};function G(e,t,i){let n,r;if(void 0===t&&void 0===i)n={},r=e;else{if(n=e,"function"==typeof t)return X(n,t,r=i);r=t}for(let e of Object.keys(r)){if(!Array.isArray(r[e])){n[e]=r[e];continue}Y(n,null,r,e)}return n}q.prototype=Object.create(String.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(q,String);let K=(e,t)=>{let i={};for(let n in t)Y(i,e,t,n);return i},X=(e,t,i)=>G(e,Object.entries(i).reduce((e,[i,n])=>(Array.isArray(n)?e[i]=n:"function"==typeof n?e[i]=[t,n()]:e[i]=[t,n],e),{})),Y=(e,t,i,n)=>{if(null!==t){let r=i[n];"function"==typeof r&&(r=[,r]);let[s=J,o=Q,a=n]=r;("function"==typeof s&&s(t[a])||"function"!=typeof s&&s)&&(e[n]=o(t[a]));return}let[r,s]=i[n];if("function"==typeof s){let t,i=void 0===r&&null!=(t=s()),o="function"==typeof r&&!!r(void 0)||"function"!=typeof r&&!!r;i?e[n]=t:o&&(e[n]=s())}else{let t=void 0===r&&null!=s,i="function"==typeof r&&!!r(s)||"function"!=typeof r&&!!r;(t||i)&&(e[n]=s)}},J=e=>null!=e,Q=e=>e;function Z(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}let ee=(e,t,i,n,r,s)=>{if(null!=t&&void 0!==t[i]){let t=n();if(t.length<=0)throw Error("Empty value provided for input HTTP label: "+i+".");e=e.replace(r,s?t.split("/").map(e=>Z(e)).join("/"):Z(t))}else throw Error("No value provided for input HTTP label: "+i+".");return e},et=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(et);if("object"==typeof e){let t={};for(let i of Object.keys(e))null!=e[i]&&(t[i]=et(e[i]));return t}return e}},4810:(e,t,i)=>{"use strict";let{Deflate:n,deflate:r,deflateRaw:s,gzip:o}=i(61785),{Inflate:a,inflate:l,inflateRaw:u,ungzip:d}=i(22733),c=i(97453);e.exports.Deflate=n,e.exports.deflate=r,e.exports.deflateRaw=s,e.exports.gzip=o,e.exports.Inflate=a,e.exports.inflate=l,e.exports.inflateRaw=u,e.exports.ungzip=d,e.exports.constants=c},5082:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help")},5551:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(90564)),s=n(i(19288)),o=n(i(44495));class a{constructor(e){this.sdp=e}clone(){return new a(this.sdp)}static isRTPCandidate(e){let t=/candidate[:](\S+) (\d+)/g.exec(e);return null!==t&&"1"===t[2]}static linesToSDP(e){return new a(e.join(a.CRLF))}static candidateTypeFromString(e){switch(e){case r.default.Host:return r.default.Host;case r.default.ServerReflexive:return r.default.ServerReflexive;case r.default.PeerReflexive:return r.default.PeerReflexive;case r.default.Relay:return r.default.Relay}return null}static candidateType(e){let t=/a[=]candidate[:].* typ ([a-z]+) /g.exec(e);return null===t?null:a.candidateTypeFromString(t[1])}static mediaType(e){let t=/m=(audio|video)/g.exec(e);if(null!==t)return t[1]}static mid(e){if(e.includes("a=mid:"))return e.replace(/^(a=mid:)/,"")}static direction(e){let t=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(e);if(null!==t)return t[1]}static splitLines(e){return e.trim().split("\n").map(e=>e.trim())}static splitSections(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+a.CRLF)}static findActiveCameraSection(e){let t=0,i=!1;for(let n of e){if(/^m=video/.test(n)&&(n.indexOf("sendrecv")>-1||-1===n.indexOf("sendonly")&&-1===n.indexOf("recvonly")&&-1===n.indexOf("inactive"))){i=!0;break}t++}return!1===i&&(t=-1),t}static extractSSRCsFromFIDGroupLine(e){return/^a=ssrc-group:FID\s(.+)/.exec(e)[1]}static matchPrefix(e,t){return a.splitLines(e).filter(e=>0===e.indexOf(t))}lines(){return this.sdp.split(a.CRLF)}hasVideo(){return null!==/^m=video/gm.exec(this.sdp)}hasCandidates(){return null!==/a[=]candidate[:]/g.exec(this.sdp)}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(e){return a.linesToSDP(this.lines().filter(t=>a.candidateType(t)!==e))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(r.default.ServerReflexive)}withAudioMaxAverageBitrate(e){if(!e)return this.clone();e=Math.trunc(Math.min(Math.max(e,a.rfc7587LowestBitrate),a.rfc7587HighestBitrate));let t=this.lines(),i=a.findOpusFmtpAttributes(t),n=a.updateOpusFmtpAttributes(t,i,[`maxaveragebitrate=${e}`]);return a.linesToSDP(n)}withStereoAudio(){let e=this.lines(),t=a.findOpusFmtpAttributes(e),i=a.updateOpusFmtpAttributes(e,t,["stereo=1","sprop-stereo=1"]);return a.linesToSDP(i)}static findOpusFmtpAttributes(e){let t=/^a=rtpmap:\s*(\d+)\s+opus\/48000/,i=!1,n=[];for(let r of e)if(r.startsWith("m=audio")&&(n.push(null),i=!0),r.startsWith("m=video")&&(i=!1),i){let e=t.exec(r);null!==e&&(n[n.length-1]=`a=fmtp:${e[1]} `)}return n}static updateOpusFmtpAttributes(e,t,i){let n=[],r=0,s=null;for(let o of e)if(o.startsWith("m=audio")&&(s=t[r],r++),o.startsWith("m=video")&&(s=null),s&&o.startsWith(s)){let e=o.slice(s.length).split(";"),t=[];for(let n of e)0>i.findIndex(e=>e.startsWith(n.split("=")[0]))&&t.push(n);for(let e of i)t.push(e);n.push(s+t.join(";"))}else n.push(o);return n}withUnifiedPlanFormat(){let e=this.sdp;return e.includes("mozilla")?this.clone():new a(e=e.replace("o=-","o=mozilla-chrome"))}getUniqueRtpHeaderExtensionId(e){let t=[];for(let i of e)if(/^a=extmap:/.test(i.trim())){let e=+i.split("a=extmap:")[1].split(" ")[0];t.includes(e)||t.push(e)}t.sort((e,t)=>e-t);let i=0;for(let e of t){if(e-i>1)return i+1;i=e}return 14===i?-1:i+1}withVideoLayersAllocationRtpHeaderExtension(e){return this.withRtpHeaderExtension(e,a.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(e){return this.withRtpHeaderExtension(e,a.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){let e=a.splitLines(this.sdp).filter(e=>!e.includes(a.dependencyDescriptorRtpHeaderExtensionUrl));return new a(e.join(a.CRLF)+a.CRLF)}withRtpHeaderExtension(e,t){let i=e?e.getRtpHeaderExtensionId(t):-1,n=-1===i?this.getUniqueRtpHeaderExtensionId(a.splitLines(this.sdp)):i,r=a.splitSections(this.sdp),s=[];for(let e of r){if(/^m=video/.test(e)&&-1===a.getRtpHeaderExtensionIdInSection(e,t)){let i=a.splitLines(e),r=[];if(-1===n||this.hasRtpHeaderExtensionId(n)){s.push(e);continue}for(let e of i)if(r.push(e),/^a=sendrecv/.test(e.trim())){let e="a=extmap:"+n+" "+t;r.push(e)}e=r.join(a.CRLF)+a.CRLF}else if(-1!==i&&/^m=video/.test(e)&&a.getRtpHeaderExtensionIdInSection(e,t)!==i){let n=a.splitLines(e),r=[];for(let e of n){if(/^a=extmap:/.test(e.trim())&&e.split("a=extmap:")[1].split(" ")[1]===t){if(!this.hasRtpHeaderExtensionId(i)){let e="a=extmap:"+i+" "+t;r.push(e)}continue}r.push(e)}e=r.join(a.CRLF)+a.CRLF}s.push(e)}return new a(s.join(""))}ssrcForVideoSendingSection(){let e=this.sdp,t=a.splitSections(e);if(t.length<2)return"";let i=a.findActiveCameraSection(t);if(-1===i)return"";let n=a.matchPrefix(t[i],"a=ssrc-group:FID ");if(n.length<1)return"";let[r]=a.extractSSRCsFromFIDGroupLine(n[0]).split(" ").map(e=>parseInt(e,10));return r.toString()}videoSendSectionHasDifferentSSRC(e){let t=this.ssrcForVideoSendingSection(),i=e.ssrcForVideoSendingSection();return""!==t&&""!==i&&parseInt(t,10)!==parseInt(i,10)}removeH264SupportFromSendSection(){let e=this.sdp,t=a.splitSections(e),i=a.findActiveCameraSection(t);if(-1===i)return new a(this.sdp);let n=t[i],r=a.splitLines(n),s=[],o=new Map;r.forEach(e=>{if(/^a=rtpmap:/.test(e)){let t=/^a=rtpmap:([0-9]+)\s/.exec(e);t&&e.toLowerCase().includes("h264")&&s.push(parseInt(t[1],10))}if(/^a=fmtp:/.test(e)){let t=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(e);if(t&&3===t.length){let e=parseInt(t[1],10),i=parseInt(t[2],10);o.has(i)?o.get(i).push(e):o.set(i,[e])}}});let l=new Set;for(let e of s){l.add(e);let t=o.get(e);if(t)for(let e of t)l.add(e)}if(s.length>0){let e=r[0].split(" ");r[0]=e.filter(e=>!l.has(parseInt(e))).join(" ")}let u=r.filter(e=>{if(!e.includes("rtpmap")&&!e.includes("rtcp-fb")&&!e.includes("fmtp"))return!0;for(let t of l)if(e.includes(t.toString()))return!1;return!0});return t[i]=u.join(a.CRLF)+a.CRLF,new a(t.join(""))}mediaSections(){let e=a.splitSections(this.sdp);if(e.length<2)return[];let t=[];for(let i=1;i<e.length;i++){let n=new s.default;for(let t of a.splitLines(e[i])){let e=a.mediaType(t);if(void 0!==e){n.mediaType=e;continue}let i=a.direction(t);if(void 0!==i){n.direction=i;continue}let r=a.mid(t);if(void 0!==r){n.mid=r;continue}}t.push(n)}return t}static getRtpHeaderExtensionIdInSection(e,t){for(let i of a.splitLines(e))if(/^a=extmap:/.test(i.trim())){let e=i.split("a=extmap:")[1].split(" "),n=+e[0];if(e[1]===t)return n}return -1}getRtpHeaderExtensionId(e){for(let t of a.splitSections(this.sdp))if(/^m=video/.test(t)){let i=a.getRtpHeaderExtensionIdInSection(t,e);if(-1!==i)return i}return -1}hasRtpHeaderExtensionId(e){for(let t of a.splitLines(this.sdp))if(/^a=extmap:/.test(t.trim())&&+t.split("a=extmap:")[1].split(" ")[0]===e)return!0;return!1}withVideoSendCodecPreferences(e){let t=this.sdp,i=a.splitSections(t),n=a.findActiveCameraSection(i);return -1===n?new a(this.sdp):(i[n]=this.sectionWithCodecPreferences(i[n],e),new a(i.join("")))}sectionWithCodecPreferences(e,t){let i=new Map,n=a.splitLines(e);n.forEach(e=>{if(!e.startsWith("a=rtpmap:"))return;let r=/^a=rtpmap:(\d+)\s/.exec(e);if(!r)return;let s=r[1];for(let r of t){if(!e.includes(`${r.codecName}/${r.codecCapability.clockRate}`))continue;let t=!1;if(void 0!==r.codecCapability.sdpFmtpLine){let e=!1;for(let i of n){if(r.fmtpLineMatches(i,parseInt(s))){t=!0;break}e||(e=i.startsWith(`a=fmtp:${s} profile-id=`))}r.equals(o.default.vp9Profile0())&&!e&&(t=!0)}else t=!0;if(t){i.set(s,r);break}}});let r=new Set(i.keys()),s=n[0].split(" ").filter(e=>!r.has(e)),l=Array.from(i.entries()).sort(([e,i],[n,r])=>t.indexOf(i)-t.indexOf(r)).map(([e,t])=>e);return s.splice(3,0,...l),n[0]=s.join(" "),n.join(a.CRLF)+a.CRLF}highestPriorityVideoSendCodec(){let e=this.prioritizedSendVideoCodecCapabilities();return e.length>0?e[0]:void 0}prioritizedSendVideoCodecCapabilities(){let e=this.sdp,t=a.splitSections(e),i=a.findActiveCameraSection(t);if(-1===i)return[];let n=a.splitLines(t[i]),r=n[0].split(" ");return r.length<4?[]:r.slice(3).map(e=>this.videoCodecCapabilityForPayloadType(n,e)).filter(e=>void 0!==e&&["VP8","H264","VP9","AV1"].includes(e.codecName))}videoCodecCapabilityForPayloadType(e,t){let i,n,r;for(let s of e){let e=/^a=rtpmap:([0-9]+)\s/.exec(s);if(e&&e[1]===t){let e=s.split(" ")[1].split("/");e.length>=2&&(i=e[0],n=e[1])}s.startsWith(`a=fmtp:${t} `)&&(r=s.split(" ")[1])}if(void 0!==i)return new o.default(i,{clockRate:parseInt(n),mimeType:`video/${i}`,sdpFmtpLine:r})}getAudioPayloadTypes(){let e=new Map,t=this.sdp,i=a.splitSections(t);return e.set("opus",a.findAudioPayloadType("opus",i)),e.set("red",a.findAudioPayloadType("red",i)),e}static findAudioPayloadType(e,t){let i=RegExp(`a=rtpmap:\\s*(\\d+)\\s+${e}\\/48000`);for(let e of t)if(/^m=audio/.test(e)){let t=i.exec(e);if(null!==t)return Number(t[1])}return 0}withStartingVideoSendBitrate(e){let t=a.splitSections(this.sdp),i=a.findActiveCameraSection(t);if(-1===i)return this;let n=a.splitLines(t[i]),r=[];for(let t of n)if(/^a=fmtp:\d*/.test(t)){let i=t+`;x-google-start-bitrate=${e}`;r.push(i)}else r.push(t);return t[i]=r.join(a.CRLF)+a.CRLF,new a(t.join(""))}}t.default=a,a.CRLF="\r\n",a.rfc7587LowestBitrate=6e3,a.rfc7587HighestBitrate=51e4,a.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension",a.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"},5770:(e,t,i)=>{"use strict";i.r(t),i.d(t,{locateWindow:()=>r});let n={};function r(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}},5917:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],s=(0,n.A)("check",r)},6027:(e,t,i)=>{"use strict";i.d(t,{j:()=>n});class n{constructor(){this.elements=[]}add(e){this.elements.push(e)}clear(){this.elements.length=0}forEach(e){this.elements.forEach(e)}length(){return this.elements.length}isEmpty(){return 0===this.elements.length}peek(){return this.elements[0]}read(){return this.elements.shift()}}},6162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},6256:(e,t,i)=>{"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function r(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}i.d(t,{C:()=>n,K:()=>r})},6333:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(90643).__exportStar(i(33114),t)},7040:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(52654));class s{constructor(e,t){this.reconnectTimeoutMs=e,this.backoffPolicy=t,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs||this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(e){this._isFirstConnection=e,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(e,t){let i=this.shouldReconnect&&!this.hasPastReconnectDeadline();return i&&(this.backoffCancel=t,this.backoffTimer=new r.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,e()})),i}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new s(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(e){this.lastActiveTimestampMs=e}}t.default=s},7052:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEventCondition=void 0,function(e){e[e.ConnectingNew=0]="ConnectingNew",e[e.ReconnectingExisting=1]="ReconnectingExisting",e[e.StartedNew=2]="StartedNew",e[e.StartedExisting=3]="StartedExisting",e[e.StartedAfterReconnect=4]="StartedAfterReconnect",e[e.StoppedCleanly=5]="StoppedCleanly",e[e.StoppedWithFailure=6]="StoppedWithFailure"}(i=t.MeetingSessionLifecycleEventCondition||(t.MeetingSessionLifecycleEventCondition={})),t.default=i},7194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}onFallback(e,t){var i;for(let n of this.observers)null==(i=n.voiceFocusFellBackToInnerStream)||i.call(n,e,t)}onCPUWarning(){var e;for(let t of this.observers)null==(e=t.voiceFocusInsufficientResources)||e.call(t)}}t.default=i},8043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:"0b5a81b",raw:"v3.28.0",semverString:"3.28.0"}},8085:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M9 9V3H7v2.59L3.91 2.5 2.5 3.91 5.59 7H3v2zm12 0V7h-2.59l3.09-3.09-1.41-1.41L17 5.59V3h-2v6zM3 15v2h2.59L2.5 20.09l1.41 1.41L7 18.41V21h2v-6zm12 0v6h2v-2.59l3.09 3.09 1.41-1.41L18.41 17H21v-2z"}),"ZoomInMap")},8553:(e,t,i)=>{"use strict";i.d(t,{W_:()=>r});var n=i(12115);function r(){let[e,t]=n.useState({width:null,height:null}),i=n.useRef(null);return[n.useCallback(e=>{if(i.current&&(i.current.disconnect(),i.current=null),e?.nodeType===Node.ELEMENT_NODE){let n=new ResizeObserver(([e])=>{if(e&&e.borderBoxSize){let{inlineSize:i,blockSize:n}=e.borderBoxSize[0];t({width:i,height:n})}});n.observe(e),i.current=n}},[]),e]}},8567:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=i(17828)},8699:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(87644));class s extends r.default{constructor(e,t){super(e,t),this.name="PermissionDeniedError"}}t.default=s},8828:(e,t,i)=>{"use strict";e.exports=i(83654)},9052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null,this.groupId=null}clone(){let e=new i;return e.tileId=this.tileId,e.localTile=this.localTile,e.isContent=this.isContent,e.active=this.active,e.paused=this.paused,e.poorConnection=this.poorConnection,e.boundAttendeeId=this.boundAttendeeId,e.boundExternalUserId=this.boundExternalUserId,e.boundVideoStream=this.boundVideoStream,e.boundVideoElement=this.boundVideoElement,e.nameplate=this.nameplate,e.videoStreamContentWidth=this.videoStreamContentWidth,e.videoStreamContentHeight=this.videoStreamContentHeight,e.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,e.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,e.devicePixelRatio=this.devicePixelRatio,e.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,e.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,e.streamId=this.streamId,e.groupId=this.groupId,e}}t.default=i},9725:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(i(42414)),s=i(41873),o=/<(![a-zA-Z\s]+)>/;function a(e){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];var t=e.match(o),i=t?t[1]:void 0;return(0,s.formatDOM)((0,r.default)(e),null,i)}},9947:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(79018),o=i(1188),a=r(i(37977)),l=r(i(61994)),u=r(i(99789)),d=()=>a.default.builder().withSelfieSegmentationDefaults().build(),c="https://static.sdkassets.chime.aws",h={worker:`${c}/bgblur/workers/worker.js`,wasm:`${c}/bgblur/wasm/_cwt-wasm.wasm`,simd:`${c}/bgblur/wasm/_cwt-wasm-simd.wasm`};class f{static defaultAssetSpec(){let e=u.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}}static createUrlWithParams(e,t){let i=new URL(e);for(let e of Object.keys(t))void 0!==t[e]&&i.searchParams.set(e,t[e]);return i.toString()}static resolveSpec(e){let{paths:t=h,model:i=d(),assetGroup:n=this.defaultAssetSpec().assetGroup,revisionID:r=this.defaultAssetSpec().revisionID}=e||{},s={assetGroup:n,revisionID:r,sdk:encodeURIComponent(u.default.sdkVersion),ua:encodeURIComponent(u.default.sdkUserAgentLowResolution)};return t.worker=this.createUrlWithParams(t.worker,s),t.wasm=this.createUrlWithParams(t.wasm,s),t.simd=this.createUrlWithParams(t.simd,s),i.path=this.createUrlWithParams(i.path,s),{paths:t,model:i,assetGroup:n,revisionID:r}}static resolveOptions(e){e.reportingPeriodMillis||(e.reportingPeriodMillis=1e3);let t=30;return e.filterCPUUtilization?(e.filterCPUUtilization<0||e.filterCPUUtilization>100)&&(e.logger.warn(`filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ${t} percent`),e.filterCPUUtilization=t):e.filterCPUUtilization=t,e}static isSupported(e,t){let{logger:i}=t;return"undefined"==typeof globalThis?(i.info("Browser does not have globalThis."),Promise.resolve(!1)):new l.default().supportsBackgroundFilter()?o.supportsWASM(globalThis,i)?this.supportsBackgroundFilter(globalThis,e,i):(i.info("Browser does not support WASM."),Promise.resolve(!1)):(i.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(e=globalThis,t,i){return n(this,void 0,void 0,function*(){if(!o.supportsWorker(e,i))return i.info("Browser does not support web workers."),!1;let n=t.paths.worker;try{let e=yield s.loadWorker(n,"BackgroundFilterWorker",{},null);try{e.terminate()}catch(e){i.info(`Failed to terminate worker. ${e.message}`)}return!0}catch(e){return i.info(`Failed to fetch and instantiate test worker ${e.message}`),!1}})}}t.default=f},10052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.observerQueue=new Set,this.element=null,this.resizeObserver=new ResizeObserver(e=>{for(let t of e){let{width:e,height:i}=t.contentRect;this.notifyObservers(e,i)}})}notifyObservers(e,t){for(let i of this.observerQueue)i.videoElementResolutionChanged(e,t)}registerObserver(e){this.observerQueue.add(e)}removeObserver(e){this.observerQueue.delete(e)}bindVideoElement(e){this.element!==e&&(this.element&&this.resizeObserver.unobserve(this.element),this.element=e,this.element&&this.resizeObserver.observe(this.element))}}t.default=i},10106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i){this.videoWidth=e,this.videoHeight=t,this.videoFrameRate=i}equals(e){return this.videoWidth===e.videoWidth&&this.videoHeight===e.videoHeight&&this.videoFrameRate===e.videoFrameRate}}t.default=i,i.VideoDisabled=new i(0,0,0),i.VideoResolutionHD=new i(1280,720,30),i.VideoResolutionFHD=new i(1920,1080,30),i.VideoResolutionUHD=new i(3840,2160,30)},10171:(e,t,i)=>{"use strict";let n,r,s=i(45493),o=i(95975),a=i(28205),l=i(26420),u=0,d=1,c=2,{Z_FINISH:h,Z_BLOCK:f,Z_TREES:p,Z_OK:m,Z_STREAM_END:g,Z_NEED_DICT:v,Z_STREAM_ERROR:y,Z_DATA_ERROR:b,Z_MEM_ERROR:S,Z_BUF_ERROR:w,Z_DEFLATED:C}=i(97453),x=16180,k=16181,A=16182,E=16183,M=16184,T=16185,_=16186,P=16187,I=16188,R=16189,O=16190,D=16191,L=16192,N=16193,F=16194,B=16195,V=16196,U=16197,z=16198,j=16199,H=16200,$=16201,W=16202,q=16203,G=16204,K=16205,X=16206,Y=16207,J=16208,Q=16209,Z=16210,ee=16211,et=852,ei=592,en=15,er=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function es(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let eo=e=>{if(!e)return 1;let t=e.state;return+(!t||t.strm!==e||t.mode<x||t.mode>ee)},ea=e=>{if(eo(e))return y;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(et),t.distcode=t.distdyn=new Int32Array(ei),t.sane=1,t.back=-1,m},el=e=>{if(eo(e))return y;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ea(e)},eu=(e,t)=>{let i;if(eo(e))return y;let n=e.state;return(t<0?(i=0,t=-t):(i=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?y:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,el(e))},ed=(e,t)=>{if(!e)return y;let i=new es;e.state=i,i.strm=e,i.window=null,i.mode=x;let n=eu(e,t);return n!==m&&(e.state=null),n},ec=e=>ed(e,en),eh=!0,ef=e=>{if(eh){n=new Int32Array(512),r=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(d,e.lens,0,288,n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(c,e.lens,0,32,r,0,e.work,{bits:5}),eh=!1}e.lencode=n,e.lenbits=9,e.distcode=r,e.distbits=5},ep=(e,t,i,n)=>{let r,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(i-s.wsize,i),0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>n&&(r=n),s.window.set(t.subarray(i-n,i-n+r),s.wnext),(n-=r)?(s.window.set(t.subarray(i-n,i),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},em=(e,t)=>{let i,n,r,ee,et,ei,en,es,ea,el,eu,ed,ec,eh,em,eg,ev,ey,eb,eS,ew,eC,ex,ek,eA=0,eE=new Uint8Array(4),eM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(eo(e)||!e.output||!e.input&&0!==e.avail_in)return y;(i=e.state).mode===D&&(i.mode=L),et=e.next_out,r=e.output,en=e.avail_out,ee=e.next_in,n=e.input,ei=e.avail_in,es=i.hold,ea=i.bits,el=ei,eu=en,eC=m;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=L;break}for(;ea<16;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(2&i.wrap&&35615===es){0===i.wbits&&(i.wbits=15),i.check=0,eE[0]=255&es,eE[1]=es>>>8&255,i.check=o(i.check,eE,2,0),es=0,ea=0,i.mode=k;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&es)<<8)+(es>>8))%31){e.msg="incorrect header check",i.mode=Q;break}if((15&es)!==C){e.msg="unknown compression method",i.mode=Q;break}if(es>>>=4,ea-=4,ew=(15&es)+8,0===i.wbits&&(i.wbits=ew),ew>15||ew>i.wbits){e.msg="invalid window size",i.mode=Q;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&es?R:D,es=0,ea=0;break;case k:for(;ea<16;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(i.flags=es,(255&i.flags)!==C){e.msg="unknown compression method",i.mode=Q;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Q;break}i.head&&(i.head.text=es>>8&1),512&i.flags&&4&i.wrap&&(eE[0]=255&es,eE[1]=es>>>8&255,i.check=o(i.check,eE,2,0)),es=0,ea=0,i.mode=A;case A:for(;ea<32;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.head&&(i.head.time=es),512&i.flags&&4&i.wrap&&(eE[0]=255&es,eE[1]=es>>>8&255,eE[2]=es>>>16&255,eE[3]=es>>>24&255,i.check=o(i.check,eE,4,0)),es=0,ea=0,i.mode=E;case E:for(;ea<16;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.head&&(i.head.xflags=255&es,i.head.os=es>>8),512&i.flags&&4&i.wrap&&(eE[0]=255&es,eE[1]=es>>>8&255,i.check=o(i.check,eE,2,0)),es=0,ea=0,i.mode=M;case M:if(1024&i.flags){for(;ea<16;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.length=es,i.head&&(i.head.extra_len=es),512&i.flags&&4&i.wrap&&(eE[0]=255&es,eE[1]=es>>>8&255,i.check=o(i.check,eE,2,0)),es=0,ea=0}else i.head&&(i.head.extra=null);i.mode=T;case T:if(1024&i.flags&&((ed=i.length)>ei&&(ed=ei),ed&&(i.head&&(ew=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(ee,ee+ed),ew)),512&i.flags&&4&i.wrap&&(i.check=o(i.check,n,ed,ee)),ei-=ed,ee+=ed,i.length-=ed),i.length))break e;i.length=0,i.mode=_;case _:if(2048&i.flags){if(0===ei)break e;ed=0;do ew=n[ee+ed++],i.head&&ew&&i.length<65536&&(i.head.name+=String.fromCharCode(ew));while(ew&&ed<ei);if(512&i.flags&&4&i.wrap&&(i.check=o(i.check,n,ed,ee)),ei-=ed,ee+=ed,ew)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=P;case P:if(4096&i.flags){if(0===ei)break e;ed=0;do ew=n[ee+ed++],i.head&&ew&&i.length<65536&&(i.head.comment+=String.fromCharCode(ew));while(ew&&ed<ei);if(512&i.flags&&4&i.wrap&&(i.check=o(i.check,n,ed,ee)),ei-=ed,ee+=ed,ew)break e}else i.head&&(i.head.comment=null);i.mode=I;case I:if(512&i.flags){for(;ea<16;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(4&i.wrap&&es!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Q;break}es=0,ea=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=D;break;case R:for(;ea<32;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}e.adler=i.check=er(es),es=0,ea=0,i.mode=O;case O:if(0===i.havedict)return e.next_out=et,e.avail_out=en,e.next_in=ee,e.avail_in=ei,i.hold=es,i.bits=ea,v;e.adler=i.check=1,i.mode=D;case D:if(t===f||t===p)break e;case L:if(i.last){es>>>=7&ea,ea-=7&ea,i.mode=X;break}for(;ea<3;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}switch(i.last=1&es,ea-=1,3&(es>>>=1)){case 0:i.mode=N;break;case 1:if(ef(i),i.mode=j,t===p){es>>>=2,ea-=2;break e}break;case 2:i.mode=V;break;case 3:e.msg="invalid block type",i.mode=Q}es>>>=2,ea-=2;break;case N:for(es>>>=7&ea,ea-=7&ea;ea<32;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if((65535&es)!=(es>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Q;break}if(i.length=65535&es,es=0,ea=0,i.mode=F,t===p)break e;case F:i.mode=B;case B:if(ed=i.length){if(ed>ei&&(ed=ei),ed>en&&(ed=en),0===ed)break e;r.set(n.subarray(ee,ee+ed),et),ei-=ed,ee+=ed,en-=ed,et+=ed,i.length-=ed;break}i.mode=D;break;case V:for(;ea<14;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(i.nlen=(31&es)+257,ea-=5,i.ndist=(31&(es>>>=5))+1,ea-=5,i.ncode=(15&(es>>>=5))+4,es>>>=4,ea-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Q;break}i.have=0,i.mode=U;case U:for(;i.have<i.ncode;){for(;ea<3;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.lens[eM[i.have++]]=7&es,es>>>=3,ea-=3}for(;i.have<19;)i.lens[eM[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,ex={bits:i.lenbits},eC=l(u,i.lens,0,19,i.lencode,0,i.work,ex),i.lenbits=ex.bits,eC){e.msg="invalid code lengths set",i.mode=Q;break}i.have=0,i.mode=z;case z:for(;i.have<i.nlen+i.ndist;){for(;em=(eA=i.lencode[es&(1<<i.lenbits)-1])>>>24,eg=eA>>>16&255,ev=65535&eA,!(em<=ea);){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(ev<16)es>>>=em,ea-=em,i.lens[i.have++]=ev;else{if(16===ev){for(ek=em+2;ea<ek;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(es>>>=em,ea-=em,0===i.have){e.msg="invalid bit length repeat",i.mode=Q;break}ew=i.lens[i.have-1],ed=3+(3&es),es>>>=2,ea-=2}else if(17===ev){for(ek=em+3;ea<ek;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}es>>>=em,ea-=em,ew=0,ed=3+(7&es),es>>>=3,ea-=3}else{for(ek=em+7;ea<ek;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}es>>>=em,ea-=em,ew=0,ed=11+(127&es),es>>>=7,ea-=7}if(i.have+ed>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Q;break}for(;ed--;)i.lens[i.have++]=ew}}if(i.mode===Q)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Q;break}if(i.lenbits=9,ex={bits:i.lenbits},eC=l(d,i.lens,0,i.nlen,i.lencode,0,i.work,ex),i.lenbits=ex.bits,eC){e.msg="invalid literal/lengths set",i.mode=Q;break}if(i.distbits=6,i.distcode=i.distdyn,ex={bits:i.distbits},eC=l(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,ex),i.distbits=ex.bits,eC){e.msg="invalid distances set",i.mode=Q;break}if(i.mode=j,t===p)break e;case j:i.mode=H;case H:if(ei>=6&&en>=258){e.next_out=et,e.avail_out=en,e.next_in=ee,e.avail_in=ei,i.hold=es,i.bits=ea,a(e,eu),et=e.next_out,r=e.output,en=e.avail_out,ee=e.next_in,n=e.input,ei=e.avail_in,es=i.hold,ea=i.bits,i.mode===D&&(i.back=-1);break}for(i.back=0;em=(eA=i.lencode[es&(1<<i.lenbits)-1])>>>24,eg=eA>>>16&255,ev=65535&eA,!(em<=ea);){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(eg&&(240&eg)==0){for(ey=em,eb=eg,eS=ev;em=(eA=i.lencode[eS+((es&(1<<ey+eb)-1)>>ey)])>>>24,eg=eA>>>16&255,ev=65535&eA,!(ey+em<=ea);){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}es>>>=ey,ea-=ey,i.back+=ey}if(es>>>=em,ea-=em,i.back+=em,i.length=ev,0===eg){i.mode=K;break}if(32&eg){i.back=-1,i.mode=D;break}if(64&eg){e.msg="invalid literal/length code",i.mode=Q;break}i.extra=15&eg,i.mode=$;case $:if(i.extra){for(ek=i.extra;ea<ek;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.length+=es&(1<<i.extra)-1,es>>>=i.extra,ea-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=W;case W:for(;em=(eA=i.distcode[es&(1<<i.distbits)-1])>>>24,eg=eA>>>16&255,ev=65535&eA,!(em<=ea);){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if((240&eg)==0){for(ey=em,eb=eg,eS=ev;em=(eA=i.distcode[eS+((es&(1<<ey+eb)-1)>>ey)])>>>24,eg=eA>>>16&255,ev=65535&eA,!(ey+em<=ea);){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}es>>>=ey,ea-=ey,i.back+=ey}if(es>>>=em,ea-=em,i.back+=em,64&eg){e.msg="invalid distance code",i.mode=Q;break}i.offset=ev,i.extra=15&eg,i.mode=q;case q:if(i.extra){for(ek=i.extra;ea<ek;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}i.offset+=es&(1<<i.extra)-1,es>>>=i.extra,ea-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Q;break}i.mode=G;case G:if(0===en)break e;if(ed=eu-en,i.offset>ed){if((ed=i.offset-ed)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Q;break}ed>i.wnext?(ed-=i.wnext,ec=i.wsize-ed):ec=i.wnext-ed,ed>i.length&&(ed=i.length),eh=i.window}else eh=r,ec=et-i.offset,ed=i.length;ed>en&&(ed=en),en-=ed,i.length-=ed;do r[et++]=eh[ec++];while(--ed);0===i.length&&(i.mode=H);break;case K:if(0===en)break e;r[et++]=i.length,en--,i.mode=H;break;case X:if(i.wrap){for(;ea<32;){if(0===ei)break e;ei--,es|=n[ee++]<<ea,ea+=8}if(eu-=en,e.total_out+=eu,i.total+=eu,4&i.wrap&&eu&&(e.adler=i.check=i.flags?o(i.check,r,eu,et-eu):s(i.check,r,eu,et-eu)),eu=en,4&i.wrap&&(i.flags?es:er(es))!==i.check){e.msg="incorrect data check",i.mode=Q;break}es=0,ea=0}i.mode=Y;case Y:if(i.wrap&&i.flags){for(;ea<32;){if(0===ei)break e;ei--,es+=n[ee++]<<ea,ea+=8}if(4&i.wrap&&es!==(0|i.total)){e.msg="incorrect length check",i.mode=Q;break}es=0,ea=0}i.mode=J;case J:eC=g;break e;case Q:eC=b;break e;case Z:return S;default:return y}return(e.next_out=et,e.avail_out=en,e.next_in=ee,e.avail_in=ei,i.hold=es,i.bits=ea,(i.wsize||eu!==e.avail_out&&i.mode<Q&&(i.mode<X||t!==h))&&ep(e,e.output,e.next_out,eu-e.avail_out))?(i.mode=Z,S):(el-=e.avail_in,eu-=e.avail_out,e.total_in+=el,e.total_out+=eu,i.total+=eu,4&i.wrap&&eu&&(e.adler=i.check=i.flags?o(i.check,r,eu,e.next_out-eu):s(i.check,r,eu,e.next_out-eu)),e.data_type=i.bits+64*!!i.last+128*(i.mode===D)+256*(i.mode===j||i.mode===F),(0===el&&0===eu||t===h)&&eC===m&&(eC=w),eC)},eg=e=>{if(eo(e))return y;let t=e.state;return t.window&&(t.window=null),e.state=null,m},ev=(e,t)=>{if(eo(e))return y;let i=e.state;return(2&i.wrap)==0?y:(i.head=t,t.done=!1,m)},ey=(e,t)=>{let i,n,r=t.length;return eo(e)||0!==(i=e.state).wrap&&i.mode!==O?y:i.mode===O&&(n=s(n=1,t,r,0))!==i.check?b:ep(e,t,r,r)?(i.mode=Z,S):(i.havedict=1,m)};e.exports.inflateReset=el,e.exports.inflateReset2=eu,e.exports.inflateResetKeep=ea,e.exports.inflateInit=ec,e.exports.inflateInit2=ed,e.exports.inflate=em,e.exports.inflateEnd=eg,e.exports.inflateGetHeader=ev,e.exports.inflateSetDictionary=ey,e.exports.inflateInfo="pako inflate (from Nodeca project)"},11017:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=s(i(74850)),a=s(i(70544)),l=s(i(32716)),u=i(25927);class d{constructor(e,t,i,s,o){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=e=>({type:e.type,v:e.v,payloads:[...e.payloads]}),this.sendEvents=()=>n(this,void 0,void 0,function*(){if(this.lock)return;let e=this.getItems(this.flushSize);if(0===e.length)return;this.lock=!0;let t=this.makeRequestBody(e),i=!1,n=Date.now();"firefox"===this.metadata.browserName.toLowerCase()&&this.cancellableEvents.set(n,e);try{this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ${t}`);let e=yield this.send(t);if(this.cancellableEvents.delete(n),e.ok)try{let i=yield e.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ${t} message: ${JSON.stringify(i)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ${e} for events ${t}`)}else this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ${t} with response status ${e.status}`),i=!0}catch(e){i=!0,this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ${t} to the ingestion endpoint ${e}`)}finally{this.lock=!1}i&&(this.cancellableEvents.delete(n),this.failedIngestionEvents.push(...e))});let a=new l.default(o).getParserResult(),{browserMajorVersion:u}=a,d=r(a,["browserMajorVersion"]),c=t.toJSON(),{type:h,v:f}=c,p=r(c,["type","v"]);this.authenticationToken=t.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},d),p),Object.keys(this.metadata).forEach(e=>this.attributesToFilter.push(e)),this.type=h,this.v=f,this.ingestionURL=i,this.logger=o,this.importantEvents=new Set(s);let{maxBufferCapacityKb:m,totalBufferItems:g,flushSize:v,flushIntervalMs:y,retryCountLimit:b}=e;this.maxBufferCapacityBytes=1024*m,this.totalBufferItems=g,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/g),this.flushIntervalMs=y,this.flushSize=v,this.retryCountLimit=b,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=e=>this.beaconEventHandler(e),this.addEventListeners()}addEventListeners(){this.beaconEventListener&&"window"in i.g&&window.addEventListener&&"document"in i.g&&document.addEventListener&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(e){("visibilitychange"===e.type&&"hidden"===document.visibilityState||"pagehide"===e.type)&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){this.beaconEventListener&&"window"in i.g&&window.removeEventListener&&"document"in i.g&&document.removeEventListener&&(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var e;this.removeEventListeners(),this.addEventListeners(),null==(e=this.intervalScheduler)||e.stop(),this.intervalScheduler=new a.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var e;null==(e=this.intervalScheduler)||e.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(e){return n(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - received event ${JSON.stringify(e)}`);let{name:t,ts:i,attributes:n}=e,r=n&&this.filterAttributes(n,this.attributesToFilter),s=Object.assign({name:t,ts:i},r);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ${JSON.stringify(s)}`);let o=this.getSize(s);if(o>d.MAX_ITEM_SIZE_BYTES_ALLOWED)throw Error(`Event Reporting - Item to be added has size ${o} bytes. Item cannot exceed max item size allowed of ${d.MAX_ITEM_SIZE_BYTES_ALLOWED} bytes.`);if(this.importantEvents.has(t)){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ${JSON.stringify(s)}`),this.sendEventImmediately({name:t,ts:i,attributes:r});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),Error("Buffer full");if(this.currentIngestionEvent.payloads.push(s),this.ingestionEventSize+=o,this.bufferItemThresholdReached(o)){let e=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(e),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ${JSON.stringify(this.buffer)}`)}})}filterAttributes(e,t){let i=new Set(t);return Object.keys(e).filter(e=>i.has(e)).forEach(t=>delete e[t]),e}initializeAndGetCurrentIngestionEvent(){let e={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(e),e}bufferItemThresholdReached(e){return e+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===d.MAX_PAYLOAD_ITEMS}getSize(e){let t=0;if("object"==typeof e)for(let[i,n]of Object.entries(e))t+=this.getPrimitiveSize(i),t+=this.getSize(n);else t+=this.getPrimitiveSize(e);return t}getPrimitiveSize(e){let t=0;return"string"==typeof e?t+=2*e.length:"number"==typeof e&&(t+=8),t}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return 0===this.buffer.length||0===this.bufferSize}getItems(e,t=0){return this.isEmpty()?[]:(e=Math.min(this.buffer.length,e+1),this.buffer.splice(t,e))}makeBeaconRequestBody(e){return JSON.stringify({metadata:this.metadata,events:e,authorization:this.authenticationToken})}makeRequestBody(e){return JSON.stringify({metadata:this.metadata,events:e})}sendEventImmediately(e){return n(this,void 0,void 0,function*(){this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ${JSON.stringify(e)}`);let{name:t,ts:i,attributes:n}=e,r={type:this.type,v:this.v,payloads:[Object.assign({name:t,ts:i},n)]},s=!1,o=null,a=this.makeRequestBody([r]);try{if((o=yield this.send(a)).ok){try{let e=yield o.json();this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ${a}, message: ${JSON.stringify(e)}`)}catch(e){this.logger.warn(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ${e} for event ${a}`)}return}this.logger.error(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ${a} with response status ${o.status}`),s=!0}catch(e){this.logger.warn(`Event Reporting - There may be a failure in sending an important event ${a} to the ingestion endpoint ${e}.`),s=!0;try{if("firefox"===this.metadata.browserName.toLowerCase()){let e=this.makeBeaconRequestBody([r]);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ${e}`),s=!navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,e)}}catch(e){this.logger.warn(`Event Reporting - Error sending beacon for an important event ${a}`),s=!0}}s&&(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ${a}`),this.failedIngestionEvents.push(r))})}send(e){return n(this,void 0,void 0,function*(){let t=new o.default(d.RETRY_FIXED_BACKOFF_WAIT_MS,d.RETRY_SHORT_BACKOFF_MS,d.RETRY_LONG_BACKOFF_MS);try{let i=0;for(;i<this.retryCountLimit;){let n=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:`Bearer ${this.authenticationToken}`},body:e});if(n.ok||!d.SENDING_FAILURE_CODES.has(n.status))return n;if(this.logger.warn(`Will retry sending failure for ${e} due to status code ${n.status}.`),++i<this.retryCountLimit){let e=t.nextBackoffAmountMs();yield u.wait(e)}}if(i===this.retryCountLimit)throw Error(`Retry count limit reached for ${e}`)}catch(e){throw e}})}sendBeacon(){return n(this,void 0,void 0,function*(){let e=this.buffer;if(this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ${JSON.stringify(e)}`),this.buffer=[],this.currentIngestionEvent.payloads.length>0){let t=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);e.push(t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ${JSON.stringify(t)}`),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){let t=this.failedIngestionEvents.map(e=>this.deepCopyCurrentIngestionEvent(e));e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ${JSON.stringify(t)}`),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(t=>{e.push(...t),this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ${JSON.stringify(t)}`)}),this.cancellableEvents.clear()),0===e.length)return;let t=this.makeBeaconRequestBody(e);this.logger.debug(`Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ${t}`);try{navigator.sendBeacon(`${this.ingestionURL}?beacon=1`,t)||this.logger.warn(`Event Reporting - Browser failed to queue beacon data ${t}`)}catch(e){this.logger.warn(`Event Reporting - Sending beacon data ${t} failed with error ${e}`)}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return n(this,void 0,void 0,function*(){this.stop(),this.reset()})}}t.default=d,d.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]),d.RETRY_FIXED_BACKOFF_WAIT_MS=0,d.RETRY_SHORT_BACKOFF_MS=1e3,d.RETRY_LONG_BACKOFF_MS=15e3,d.MAX_PAYLOAD_ITEMS=2,d.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3},11107:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule")},11218:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.ids=new Set(e)}add(e){this.ids.add(e)}array(){return Array.from(this.ids.values()).sort((e,t)=>e-t)}contain(e){return this.ids.has(e)}forEach(e){this.ids.forEach(e)}empty(){return 0===this.ids.size}size(){return this.ids.size}equal(e){if(!e)return 0===this.ids.size;let t=this.array(),i=e.array();if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!1;return!0}clone(){return new i(this.array())}remove(e){this.ids.delete(e)}toJSON(){return this.array()}truncate(e){return new i(this.array().splice(0,e))}}t.default=i},11689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},12050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n,r,s=1,o=!1){this.cameraWidth=e,this.cameraHeight=t,this.cameraFrameRate=i,this.maxEncodeBitrateKbps=n,this.isSimulcast=r,this.scaleResolutionDownBy=s,this.isSVC=o}equal(e){let t=e.captureWidth()===this.cameraWidth&&e.captureHeight()===this.cameraHeight&&e.captureFrameRate()===this.cameraFrameRate&&e.encodeBitrates().length===this.encodeBitrates().length&&e.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&e.encodeWidths().length===this.encodeWidths().length&&e.encodeHeights().length===this.encodeHeights().length&&e.isSVCEncoding()===this.isSVC;if(t){for(let i=0;i<e.encodeWidths().length;i++)if(e.encodeWidths()[i]!==this.encodeWidths()[i]||e.encodeHeights()[i]!==this.encodeHeights()[i]||e.encodeBitrates()[i]!==this.encodeBitrates()[i]||e.encodeScaleResolutionDownBy()[i]!==this.encodeScaleResolutionDownBy()[i]){t=!1;break}}return t}clone(){return new i(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}}t.default=i},12076:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(23521)),o=i(96119),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return n(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}updateSubscribedGroupdIds(e){let t=new Set;for(let i of e){let e=this.context.videoStreamIndex.attendeeIdForGroupId(i);if(0===e.length){this.logger.warn(`Could not find attendee ID for newly subscribed group ID ${i}`);continue}let n=this.context.videoTileController.getVideoTileForAttendeeId(e);void 0===n&&(this.logger.info(`No existing video tile for attendee ID ${e} with new group ID ${i}. Creating new one.`),(n=this.context.videoTileController.addVideoTile()).bindVideoStream(e,!1,null,0,0,0,null)),t.add(n.id())}this.serverPausedVideoTileIds.forEach(e=>{t.has(e)||this.serverPausedVideoTileIds.delete(e)})}handleSignalingClientEvent(e){if(e.type!==s.default.ReceivedSignalFrame||e.message.type!==o.SdkSignalFrame.Type.PAUSE&&e.message.type!==o.SdkSignalFrame.Type.RESUME)return;let t=e.message.pause,i=e.message.type;if(this.logger.info(`Received new ${i===o.SdkSignalFrame.Type.PAUSE?"pause":"resume"} frame: ${JSON.stringify(t)}`),t&&void 0!==this.context.videoTileController.getVideoTileForAttendeeId&&void 0!==this.context.videoDownlinkBandwidthPolicy.forEachObserver&&void 0!==this.context.videoStreamIndex.attendeeIdForGroupId)for(let e of t.groupIds.map(e=>{let t=this.context.videoStreamIndex.attendeeIdForGroupId(e);return 0===t.length?void this.logger.warn(`Could not find attendee ID for paused group ID ${e}`):this.context.videoTileController.getVideoTileForAttendeeId(t)}))void 0!==e&&(i===o.SdkSignalFrame.Type.PAUSE?e.state().paused||(this.serverPausedVideoTileIds.add(e.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(t=>{t.tileWillBePausedByDownlinkPolicy(e.id())}),e.pause()):e.state().paused&&this.serverPausedVideoTileIds.has(e.id())&&(this.serverPausedVideoTileIds.delete(e.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(t=>{t.tileWillBeUnpausedByDownlinkPolicy(e.id())}),e.unpause()))}}t.default=l},12114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=.8;class n{constructor(e,t,i,n){this.delegate=e,this.reportingPeriodMillis=t,this.filterCPUUtilization=i,this.logger=n,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}reportEvent(e){let t=e-this.lastReportedEventTimestamp;if(t>=this.reportingPeriodMillis){let i=this.filterCount,n=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=e,0===this.framerate||0===i)return;let r=Math.round(n/i),s=Math.round(this.framerate*(t/1e3))-i,o=Math.round(100*n/t);r>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:s,avgFilterDurationMillis:r,framerate:this.framerate,periodMillis:t}),o>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:o,filterMillis:n,periodMillis:t})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*i)}frameReceived(e){e!==this.framerate&&(this.framerate=e,this.logger.info(`frame counter setting frame rate to ${this.framerate}`),this.setSegmentationDuration());let t=Date.now();this.reportEvent(t)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}}t.default=n},12440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e=.9,t=.01,i=.2,n=.2){this.speakerWeight=e,this.cutoffThreshold=t,this.silenceThreshold=i,this.takeoverRate=n,this.volumes={}}calculateScore(e,t,i){(i||null===t)&&(t=0),this.volumes.hasOwnProperty(e)||(this.volumes[e]=0),t=+(t>this.silenceThreshold);let n=this.volumes[e]*this.speakerWeight+t*(1-this.speakerWeight);for(let i in this.volumes[e]=n,this.volumes)i!==e&&(this.volumes[i]=Math.max(this.volumes[i]-this.takeoverRate*t,0));return n<this.cutoffThreshold?0:n}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}}t.default=i},12741:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMetricReportMediaType=void 0,function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO"}(i=t.ClientMetricReportMediaType||(t.ClientMetricReportMediaType={})),t.default=i},12782:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(44748)),o=r(i(5551)),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreateSDPTask"}cancel(){if(this.cancelPromise){let e=Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}sessionUsesAudio(){var e,t;return!!(null==(t=null==(e=this.context.meetingSessionConfiguration)?void 0:e.urls)?void 0:t.audioHostURL)}sessionUsesVideo(){let e,t=!0;e=this.context.transceiverController.useTransceivers()?this.context.transceiverController.hasVideoInput():this.context.videoTileController.hasStartedLocalVideoTile();let i=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),n=t&&(e||i);return this.context.logger.info(`uses video: ${n} (enabled: ${t}, sending: ${e}, receiving: ${i})`),n}run(){return n(this,void 0,void 0,function*(){let e={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info(`peer connection offerOptions: ${JSON.stringify(e)}`),yield new Promise((t,i)=>n(this,void 0,void 0,function*(){this.cancelPromise=e=>{i(e)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(e),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new o.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){let e=Error(`canceling ${this.name()} due to the meeting status code: ${s.default.IncompatibleSDP}`);this.context.previousSdpOffer=null,i(e);return}t()}catch(e){i(e)}finally{delete this.cancelPromise}}))})}}t.default=l},13063:(e,t,i)=>{"use strict";i.d(t,{R6:()=>s,Ui:()=>r});var n=i(70790);let r=(0,n.f)(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());r.range;let s=(0,n.f)(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s.range},13231:(e,t,i)=>{"use strict";function n(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}i.d(t,{A:()=>n})},13404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VIDEO_FX_SPEC=t.FXLIB_PATH=t.WORKER_PATH=t.CDN_BASE_PATH=t.RESOURCE_CONSTRAINTS=t.SEGMENTATION_MODEL=t.DEFAULT_STREAM_PARAMETERS=t.WORKER_MSG=void 0,t.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"},t.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4},t.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160},t.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100},t.CDN_BASE_PATH="https://static.sdkassets.chime.aws";let i="/ml_media_fx/otherassets";t.WORKER_PATH=`${i}/worker.js`,t.FXLIB_PATH=`${i}/fxlib.js`,t.DEFAULT_VIDEO_FX_SPEC={paths:{cdnBasePath:t.CDN_BASE_PATH,workerPath:t.WORKER_PATH,fxLibPath:t.FXLIB_PATH}}},13452:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},13548:function(e,t,i){var n;!function(r,s){"use strict";var o="",a="?",l="function",u="undefined",d="object",c="string",h="major",f="model",p="name",m="type",g="vendor",v="version",y="architecture",b="console",S="mobile",w="tablet",C="smarttv",x="wearable",k="embedded",A=500,E="Amazon",M="Apple",T="ASUS",_="BlackBerry",P="Browser",I="Chrome",R="Firefox",O="Google",D="Huawei",L="LG",N="Microsoft",F="Motorola",B="Opera",V="Samsung",U="Sharp",z="Sony",j="Xiaomi",H="Zebra",$="Facebook",W="Chromium OS",q="Mac OS",G=" Browser",K=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},X=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},Y=function(e,t){return typeof e===c&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},Q=function(e){return typeof e===c?e.replace(/[^\d\.]/g,o).split(".")[0]:void 0},Z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,o),typeof t===u?e:e.substring(0,A)},ee=function(e,t){for(var i,n,r,o,a,u,c=0;c<t.length&&!a;){var h=t[c],f=t[c+1];for(i=n=0;i<h.length&&!a&&h[i];)if(a=h[i++].exec(e))for(r=0;r<f.length;r++)u=a[++n],typeof(o=f[r])===d&&o.length>0?2===o.length?typeof o[1]==l?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==l||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):void 0:this[o[0]]=u?o[1].call(this,u,o[2]):s:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):s):this[o]=u||s;c+=2}},et=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(Y(t[i][n],e))return i===a?s:i}else if(Y(t[i],e))return i===a?s:i;return t.hasOwnProperty("*")?t["*"]:e},ei={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[p,B+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[p,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+P]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+P],v],[/\bfocus\/([\w\.]+)/i],[v,[p,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI"+G]],[/fxios\/([\w\.-]+)/i],[v,[p,R]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+G],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,V+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,I+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,et,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,J]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,o,J]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,V],[m,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,V],[m,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,M],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,M],[m,w]],[/(macintosh);/i],[f,[g,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,U],[m,S]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[g,"Honor"],[m,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,D],[m,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,D],[m,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[g,j],[m,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,j],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,S]],[/\b(opd2\d{3}a?) bui/i],[f,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,F],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,F],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,L],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,L],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,S]],[/(pixel c)\b/i],[f,[g,O],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,O],[m,S]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,z],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,z],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,E],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,E],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,_],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,T],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,T],[m,S]],[/(nexus 9)/i],[f,[g,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,w]],[/(itel) ((\w+))/i],[[g,J],f,[m,et,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,S]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[g,"Energizer"],[m,S]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[g,"Cat"],[m,S]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[g,"Smartfren"],[m,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,S]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,w]],[/(surface duo)/i],[f,[g,N],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,S]],[/(u304aa)/i],[f,[g,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,w]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,w]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,S]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[g,f,[m,S]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,N],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,H],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,H],[m,S]],[/smart-tv.+(samsung)/i],[g,[m,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,V],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,L],[m,C]],[/(apple) ?tv/i],[g,[f,M+" TV"],[m,C]],[/crkey/i],[[f,I+"cast"],[g,O],[m,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,E],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,U],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,z],[m,C]],[/(mitv-\w{5}) bui/i],[f,[g,j],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Z],[f,Z],[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,b]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[f,[g,z],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,N],[m,b]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[g,V],[m,x]],[/((pebble))app/i],[g,f,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,M],[m,x]],[/droid.+; (glass) \d/i],[f,[g,O],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,H],[m,x]],[/droid.+; (glass) \d/i],[f,[g,O],[m,x]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,f,[m,x]],[/; (quest( \d| pro)?)/i],[f,[g,$],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,k]],[/(aeobc)\b/i],[f,[g,E],[m,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,et,ei]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,et,ei],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,q],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,_]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},er=function(e,t){if(typeof e===d&&(t=e,e=s),!(this instanceof er))return new er(e,t).getResult();var i=typeof r!==u&&r.navigator?r.navigator:s,n=e||(i&&i.userAgent?i.userAgent:o),a=i&&i.userAgentData?i.userAgentData:s,b=t?K(en,t):en,C=i&&i.userAgent==n;return this.getBrowser=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.browser),e[h]=Q(e[v]),C&&i&&i.brave&&typeof i.brave.isBrave==l&&(e[p]="Brave"),e},this.getCPU=function(){var e={};return e[y]=s,ee.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[g]=s,e[f]=s,e[m]=s,ee.call(e,n,b.device),C&&!e[m]&&a&&a.mobile&&(e[m]=S),C&&"Macintosh"==e[f]&&i&&typeof i.standalone!==u&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[f]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.os),C&&!e[p]&&a&&a.platform&&"Unknown"!=a.platform&&(e[p]=a.platform.replace(/chrome os/i,W).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>A?Z(e,A):e,this},this.setUA(n),this};er.VERSION="1.0.40",er.BROWSER=X([p,v,h]),er.CPU=X([y]),er.DEVICE=X([f,g,m,b,S,C,w,x,k]),er.ENGINE=er.OS=X([p,v]),typeof t!==u?("object"!==u&&e.exports&&(t=e.exports=er),t.UAParser=er):"function"===l&&i.amdO?s===(n=(function(){return er}).call(t,i,t,e))||(e.exports=n):typeof r!==u&&(r.UAParser=er);var es=typeof r!==u&&(r.jQuery||r.Zepto);if(es&&!es.ua){var eo=new er;es.ua=eo.getResult(),es.ua.get=function(){return eo.getUA()},es.ua.set=function(e){eo.setUA(e);var t=eo.getResult();for(var i in t)es.ua[i]=t[i]}}}("object"==typeof window?window:this)},13696:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(1188),s=i(45274),o=0,a=1,l=0,u=1,d=2;class c extends s.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;let{modelURL:i,resamplerURL:n,worker:s,fetchBehavior:o,delegate:a}=t;this.delegate=a,this.worker=s,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);let{enabled:l,supportFarendStream:u}=t.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:16e3===e.sampleRate?160:480,enabled:l,model:i,supportFarendStream:u});let d=(0,r.supportsWASMPostMessage)(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:d,key:"resampler",fetchBehavior:o,path:n})}enable(){return n(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,a,u),Atomics.notify(this.state,o,1)):this.worker.postMessage({message:"enable"})})}disable(){return n(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,a,l),Atomics.notify(this.state,o,1)):this.worker.postMessage({message:"disable"})})}setMode(e){return n(this,void 0,void 0,function*(){this.port.postMessage({message:"set-mode",mode:e})})}stop(){return n(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,a,d),Atomics.notify(this.state,o,1);else try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()})}getModelMetrics(){}onWorkerMessage(e){var t;let i=e.data;switch(i.message){case"ready":if(!i.shared)throw Error("No shared state.");this.state=new Int32Array(i.shared.state),this.port.postMessage(i);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(i);break;case"cpu":null==(t=this.delegate)||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;let i=e.data;switch(i.message){case"cpu":null==(t=this.delegate)||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(i)}}}t.default=c},13897:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(23521));class s{constructor(e,t,i,n,r){this.client=e,this.type=t,this.message=i,this.closeCode=n,this.closeReason=r,this.timestampMs=Date.now()}isConnectionTerminated(){switch(this.type){case r.default.WebSocketFailed:case r.default.WebSocketError:case r.default.WebSocketClosing:case r.default.WebSocketClosed:return!0;default:return!1}}}t.default=s},13952:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900));class s extends r.default{constructor(e,t,i){super(t,i,"Reconnection Health"),this.logger=e,this.audioDelayPointsOverMaximum=0,s.CONNECTION_UNHEALTHY_THRESHOLD=t.connectionUnhealthyThreshold,s.CONNECTION_WAIT_TIME_MS=t.connectionWaitTimeMs,s.MISSED_PONGS_THRESHOLD=t.missedPongsUpperThreshold,s.MAXIMUM_AUDIO_DELAY_MS=t.maximumAudioDelayMs,s.MAXIMUM_AUDIO_DELAY_DATA_POINTS=t.maximumAudioDelayDataPoints}health(){if(this.currentData.isConnectionStartRecent(s.CONNECTION_WAIT_TIME_MS))return 1;let e=this.currentData.consecutiveStatsWithNoPackets>=s.CONNECTION_UNHEALTHY_THRESHOLD,t=this.currentData.consecutiveMissedPongs>=s.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>s.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;let i=this.audioDelayPointsOverMaximum>s.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return(i&&(this.audioDelayPointsOverMaximum=0),e||t||i)?(this.logger.warn(`reconnection recommended due to: no packets received: ${e}, missed pongs: ${t}, bad audio delay: ${i}`),0):1}}t.default=s},14388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}t.default=i},14457:e=>{"use strict";let t,i,n,r=4,s=0,o=1,a=2;function l(e){let t=e.length;for(;--t>=0;)e[t]=0}let u=0,d=1,c=2,h=3,f=258,p=29,m=256,g=286,v=30,y=19,b=573,S=15,w=16,C=7,x=256,k=16,A=17,E=18,M=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=512,R=Array((g+2)*2);l(R);let O=Array(2*v);l(O);let D=Array(I);l(D);let L=Array(f-h+1);l(L);let N=Array(p);l(N);let F=Array(v);function B(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function V(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}l(F);let U=e=>e<256?D[e]:D[256+(e>>>7)],z=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},j=(e,t,i)=>{e.bi_valid>w-i?(e.bi_buf|=t<<e.bi_valid&65535,z(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=i-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},H=(e,t,i)=>{j(e,i[2*t],i[2*t+1])},$=(e,t)=>{let i=0;do i|=1&e,e>>>=1,i<<=1;while(--t>0);return i>>>1},W=e=>{16===e.bi_valid?(z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},q=(e,t)=>{let i,n,r,s,o,a,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,c=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=S;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++)(s=l[2*l[2*(n=e.heap[i])+1]+1]+1)>p&&(s=p,m++),l[2*n+1]=s,!(n>u)&&(e.bl_count[s]++,o=0,n>=f&&(o=h[n-f]),a=l[2*n],e.opt_len+=a*(s+o),c&&(e.static_len+=a*(d[2*n+1]+o)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)!((r=e.heap[--i])>u)&&(l[2*r+1]!==s&&(e.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}},G=(e,t,i)=>{let n,r,s=Array(S+1),o=0;for(n=1;n<=S;n++)o=o+i[n-1]<<1,s[n]=o;for(r=0;r<=t;r++){let t=e[2*r+1];0!==t&&(e[2*r]=$(s[t]++,t))}},K=()=>{let e,r,s,o,a,l=Array(S+1);for(o=0,s=0;o<p-1;o++)for(e=0,N[o]=s;e<1<<M[o];e++)L[s++]=o;for(L[s-1]=o,a=0,o=0;o<16;o++)for(e=0,F[o]=a;e<1<<T[o];e++)D[a++]=o;for(a>>=7;o<v;o++)for(e=0,F[o]=a<<7;e<1<<T[o]-7;e++)D[256+a++]=o;for(r=0;r<=S;r++)l[r]=0;for(e=0;e<=143;)R[2*e+1]=8,e++,l[8]++;for(;e<=255;)R[2*e+1]=9,e++,l[9]++;for(;e<=279;)R[2*e+1]=7,e++,l[7]++;for(;e<=287;)R[2*e+1]=8,e++,l[8]++;for(G(R,g+1,l),e=0;e<v;e++)O[2*e+1]=5,O[2*e]=$(e,5);t=new B(R,M,m+1,g,S),i=new B(O,T,0,v,S),n=new B([],_,0,y,C)},X=e=>{let t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<v;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*x]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Y=e=>{e.bi_valid>8?z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},J=(e,t,i,n)=>{let r=2*t,s=2*i;return e[r]<e[s]||e[r]===e[s]&&n[t]<=n[i]},Q=(e,t,i)=>{let n=e.heap[i],r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&J(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!J(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},Z=(e,t,i)=>{let n,r,s,o,a=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+a++])+((255&e.pending_buf[e.sym_buf+a++])<<8),r=e.pending_buf[e.sym_buf+a++],0===n?H(e,r,t):(H(e,(s=L[r])+m+1,t),0!==(o=M[s])&&j(e,r-=N[s],o),H(e,s=U(--n),i),0!==(o=T[s])&&j(e,n-=F[s],o));while(a<e.sym_next);H(e,x,t)},ee=(e,t)=>{let i,n,r,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(i=0,e.heap_len=0,e.heap_max=b;i<l;i++)0!==s[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)s[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=o[2*r+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)Q(e,s,i);r=l;do i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Q(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,s[2*r]=s[2*i]+s[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,s[2*i+1]=s[2*n+1]=r,e.heap[1]=r++,Q(e,s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],q(e,t),G(s,u,e.bl_count)},et=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),t[(i+1)*2+1]=65535,n=0;n<=i;n++)r=o,o=t[(n+1)*2+1],++a<l&&r===o||(a<u?e.bl_tree[2*r]+=a:0!==r?(r!==s&&e.bl_tree[2*r]++,e.bl_tree[2*k]++):a<=10?e.bl_tree[2*A]++:e.bl_tree[2*E]++,a=0,s=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))},ei=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=i;n++)if(r=o,o=t[(n+1)*2+1],!(++a<l)||r!==o){if(a<u)do H(e,r,e.bl_tree);while(0!=--a);else 0!==r?(r!==s&&(H(e,r,e.bl_tree),a--),H(e,k,e.bl_tree),j(e,a-3,2)):a<=10?(H(e,A,e.bl_tree),j(e,a-3,3)):(H(e,E,e.bl_tree),j(e,a-11,7));a=0,s=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}},en=e=>{let t;for(et(e,e.dyn_ltree,e.l_desc.max_code),et(e,e.dyn_dtree,e.d_desc.max_code),ee(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*P[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},er=(e,t,i,n)=>{let r;for(j(e,t-257,5),j(e,i-1,5),j(e,n-4,4),r=0;r<n;r++)j(e,e.bl_tree[2*P[r]+1],3);ei(e,e.dyn_ltree,t-1),ei(e,e.dyn_dtree,i-1)},es=e=>{let t,i=0xf3ffc07f;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return o;return s},eo=!1,ea=e=>{eo||(K(),eo=!0),e.l_desc=new V(e.dyn_ltree,t),e.d_desc=new V(e.dyn_dtree,i),e.bl_desc=new V(e.bl_tree,n),e.bi_buf=0,e.bi_valid=0,X(e)},el=(e,t,i,n)=>{j(e,(u<<1)+ +!!n,3),Y(e),z(e,i),z(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i},eu=e=>{j(e,d<<1,3),H(e,x,R),W(e)},ed=(e,t,i,n)=>{let s,o,l=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=es(e)),ee(e,e.l_desc),ee(e,e.d_desc),l=en(e),s=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=s&&(s=o)):s=o=i+5,i+4<=s&&-1!==t?el(e,t,i,n):e.strategy===r||o===s?(j(e,(d<<1)+ +!!n,3),Z(e,R,O)):(j(e,(c<<1)+ +!!n,3),er(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Z(e,e.dyn_ltree,e.dyn_dtree)),X(e),n&&Y(e)},ec=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[(L[i]+m+1)*2]++,e.dyn_dtree[2*U(t)]++),e.sym_next===e.sym_end);e.exports._tr_init=ea,e.exports._tr_stored_block=el,e.exports._tr_flush_block=ed,e.exports._tr_tally=ec,e.exports._tr_align=eu},14725:(e,t,i)=>{"use strict";e.exports=l;var n,r=i(25414),s=r.LongBits,o=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function c(){var e=new s(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new s(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,i);if(t===i){var n=r.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,i)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=d(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return c.call(this)[t](!1)},uint64:function(){return c.call(this)[t](!0)},sint64:function(){return c.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},14766:e=>{"use strict";e.exports=Object.assign.bind(Object),e.exports.default=e.exports},14816:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFxCanvasOpsManager=void 0;let r=i(13404);class s{constructor(e,t){this.streamParameters=e,this.outputCanvas=t,this.configureCanvasPipeline()}getInferenceInputData(e){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(e,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(e){return n(this,void 0,void 0,function*(){if(this.streamParameters=e,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){let e=document.createElement("canvas");e.width=this.streamParameters.width,e.height=this.streamParameters.height,e.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=e}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=r.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=r.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(e){return n(this,void 0,void 0,function*(){let t=e.backgroundReplacement.backgroundImageURL,i=e.backgroundReplacement.defaultColor;if(t)try{let e=yield this.loadImage(t);this.backgroundReplacementImage=e,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(e){throw this.logger.error(e),Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(i)})}resizeAndSetReplacementImage(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.width=this.streamParameters.width,t.height=this.streamParameters.height,i.drawImage(e,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=t}resizeAndSetReplacementColor(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.width=this.streamParameters.width,t.height=this.streamParameters.height,i.fillStyle=e,i.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=t}loadImage(e){return n(this,void 0,void 0,function*(){let t=yield fetch(e).catch(e=>{throw this.logger.error(e.toString()),Error("Failed to fetch image.")}),i=yield t.blob(),n=new Image;return n.src=URL.createObjectURL(i),new Promise((e,t)=>{n.onload=()=>{e(n)},n.onerror=e=>{t(e)}})})}}t.VideoFxCanvasOpsManager=s},15079:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(90643).__exportStar(i(17121),t)},15137:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});let n=e=>encodeURIComponent(e).replace(/[!'()*]/g,r),r=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},15376:e=>{var t="/";!function(){var i={675:function(e,t){"use strict";t.byteLength=u,t.toByteArray=c,t.fromByteArray=p;for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)i[o]=s[o],n[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var n=i===t?0:4-i%4;return[i,n]}function u(e){var t=l(e),i=t[0],n=t[1];return(i+n)*3/4-n}function d(e,t,i){return(t+i)*3/4-i}function c(e){var t,i,s=l(e),o=s[0],a=s[1],u=new r(d(e,o,a)),c=0,h=a>0?o-4:o;for(i=0;i<h;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u}function h(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function f(e,t,i){for(var n=[],r=t;r<i;r+=3)n.push(h((e[r]<<16&0xff0000)+(e[r+1]<<8&65280)+(255&e[r+2])));return n.join("")}function p(e){for(var t,n=e.length,r=n%3,s=[],o=16383,a=0,l=n-r;a<l;a+=o)s.push(f(e,a,a+o>l?l:a+o));return 1===r?s.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&s.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")}n[45]=62,n[95]=63},72:function(e,t,i){"use strict";var n=i(675),r=i(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;var o=0x7fffffff;function a(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function l(e){if(e>o)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return f(e)}return d(e,t,i)}function d(e,t,i){if("string"==typeof e)return p(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return g(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,i);var r=v(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,i){return(c(e),e<=0)?l(e):void 0!==t?"string"==typeof i?l(e).fill(t,i):l(e).fill(t):l(e)}function f(e){return c(e),l(e<0?0:0|y(e))}function p(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);var i=0|S(e,t),n=l(i),r=n.write(e,t);return r!==i&&(n=n.slice(0,r)),n}function m(e){for(var t=e.length<0?0:0|y(e.length),i=l(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function g(e,t,i){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),u.prototype),n}function v(e){if(u.isBuffer(e)){var t=0|y(e.length),i=l(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?l(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}function y(e){if(e>=o)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function S(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return X(e).length;default:if(r)return n?-1:q(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,i);case"utf8":case"utf-8":return R(this,t,i);case"ascii":return L(this,t,i);case"latin1":case"binary":return N(this,t,i);case"base64":return I(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,i);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function x(e,t,i,n,r){if(0===e.length)return -1;if("string"==typeof i?(n=i,i=0):i>0x7fffffff?i=0x7fffffff:i<-0x80000000&&(i=-0x80000000),Q(i*=1)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length)if(r)return -1;else i=e.length-1;else if(i<0)if(!r)return -1;else i=0;if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:k(e,t,i,n,r);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(r)return Uint8Array.prototype.indexOf.call(e,t,i);else return Uint8Array.prototype.lastIndexOf.call(e,t,i);return k(e,[t],i,n,r)}throw TypeError("val must be string, number or Buffer")}function k(e,t,i,n,r){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,i/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var d=-1;for(s=i;s<a;s++)if(u(e,s)===u(t,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===l)return d*o}else -1!==d&&(s-=s-d),d=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var c=!0,h=0;h<l;h++)if(u(e,s+h)!==u(t,h)){c=!1;break}if(c)return s}return -1}function A(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(Q(a))break;e[i+o]=a}return o}function E(e,t,i,n){return Y(q(t,e.length-i),e,i,n)}function M(e,t,i,n){return Y(G(t),e,i,n)}function T(e,t,i,n){return M(e,t,i,n)}function _(e,t,i,n){return Y(X(t),e,i,n)}function P(e,t,i,n){return Y(K(t,e.length-i),e,i,n)}function I(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function R(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var s,o,a,l,u=e[r],d=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=i)switch(c){case 1:u<128&&(d=u);break;case 2:(192&(s=e[r+1]))==128&&(l=(31&u)<<6|63&s)>127&&(d=l);break;case 3:s=e[r+1],o=e[r+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:s=e[r+1],o=e[r+2],a=e[r+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),r+=c}return D(n)}t.kMaxLength=0x7fffffff,u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,i){return d(e,t,i)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,i){return h(e,t,i)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:+(n<i)},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(i=0,t=0;i<e.length;++i)t+=e[i].length;var i,n=u.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var s=e[i];if(J(s,Uint8Array)&&(s=u.from(s)),!u.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},u.byteLength=S,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?R(this,0,e):w.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,i,n,r){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var s=r-n,o=i-t,a=Math.min(s,o),l=this.slice(n,r),d=e.slice(t,i),c=0;c<a;++c)if(l[c]!==d[c]){s=l[c],o=d[c];break}return s<o?-1:+(o<s)},u.prototype.includes=function(e,t,i){return -1!==this.indexOf(e,t,i)},u.prototype.indexOf=function(e,t,i){return x(this,e,t,i,!0)},u.prototype.lastIndexOf=function(e,t,i){return x(this,e,t,i,!1)},u.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return A(this,e,t,i);case"utf8":case"utf-8":return E(this,e,t,i);case"ascii":return M(this,e,t,i);case"latin1":case"binary":return T(this,e,t,i);case"base64":return _(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,i);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function D(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=O));return i}function L(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function N(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function F(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=t;s<i;++s)r+=Z[e[s]];return r}function B(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function V(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function U(e,t,i,n,r,s){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw RangeError('"value" argument is out of bounds');if(i+n>e.length)throw RangeError("Index out of range")}function z(e,t,i,n,r,s){if(i+n>e.length||i<0)throw RangeError("Index out of range")}function j(e,t,i,n,s){return t*=1,i>>>=0,s||z(e,t,i,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,i,n,23,4),i+4}function H(e,t,i,n,s){return t*=1,i>>>=0,s||z(e,t,i,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,i,n,52,8),i+8}u.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||V(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n},u.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||V(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},u.prototype.readUInt8=function(e,t){return e>>>=0,t||V(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||V(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||V(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||V(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||V(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||V(e,t,this.length);for(var n=t,r=1,s=this[e+--n];n>0&&(r*=256);)s+=this[e+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return(e>>>=0,t||V(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||V(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?0xffff0000|i:i},u.prototype.readInt16BE=function(e,t){e>>>=0,t||V(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?0xffff0000|i:i},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||V(e,4,this.length),r.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||V(e,4,this.length),r.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||V(e,8,this.length),r.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||V(e,8,this.length),r.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,i,n){if(e*=1,t>>>=0,i>>>=0,!n){var r=Math.pow(2,8*i)-1;U(this,e,t,i,r,0)}var s=1,o=0;for(this[t]=255&e;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i},u.prototype.writeUIntBE=function(e,t,i,n){if(e*=1,t>>>=0,i>>>=0,!n){var r=Math.pow(2,8*i)-1;U(this,e,t,i,r,0)}var s=i-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i},u.prototype.writeUInt8=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,i,n){if(e*=1,t>>>=0,!n){var r=Math.pow(2,8*i-1);U(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+i},u.prototype.writeIntBE=function(e,t,i,n){if(e*=1,t>>>=0,!n){var r=Math.pow(2,8*i-1);U(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+i},u.prototype.writeInt8=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,i){return e*=1,t>>>=0,i||U(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,i){return j(this,e,t,!0,i)},u.prototype.writeFloatBE=function(e,t,i){return j(this,e,t,!1,i)},u.prototype.writeDoubleLE=function(e,t,i){return H(this,e,t,!0,i)},u.prototype.writeDoubleBE=function(e,t,i){return H(this,e,t,!1,i)},u.prototype.copy=function(e,t,i,n){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var s=r-1;s>=0;--s)e[s+t]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return r},u.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var r,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{var o=u.isBuffer(e)?e:u.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<i-t;++r)this[r+t]=o[r%a]}return this};var $=/[^+/0-9A-Za-z-_]/g;function W(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e,t){t=t||1/0;for(var i,n=e.length,r=null,s=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return s}function G(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function K(e,t){for(var i,n,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r.push(i%256),r.push(n);return r}function X(e){return n.toByteArray(W(e))}function Y(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length)&&!(r>=e.length);++r)t[r+i]=e[r];return r}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}var Z=function(){for(var e="0123456789abcdef",t=Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)t[n+r]=e[i]+e[r];return t}()},783:function(e,t){t.read=function(e,t,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,d=-7,c=i?r-1:0,h=i?-1:1,f=e[t+c];for(c+=h,s=f&(1<<-d)-1,f>>=-d,d+=a;d>0;s=256*s+e[t+c],c+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=256*o+e[t+c],c+=h,d-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,i,n,r,s){var o,a,l,u=8*s-r-1,d=(1<<u)-1,c=d>>1,h=5960464477539062e-23*(23===r),f=n?0:s-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=d?(a=0,o=d):o+c>=1?(a=(t*l-1)*Math.pow(2,r),o+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;e[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;e[i+f]=255&o,f+=p,o/=256,u-=8);e[i+f-p]|=128*m}}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}},o=!0;try{i[e](s,s.exports,r),o=!1}finally{o&&delete n[e]}return s.exports}r.ab=t+"/",e.exports=r(72)}()},15451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},15514:function(e,t,i){var n;!function(r,s){"use strict";var o="",a="?",l="function",u="undefined",d="object",c="string",h="major",f="model",p="name",m="type",g="vendor",v="version",y="architecture",b="console",S="mobile",w="tablet",C="smarttv",x="wearable",k="embedded",A=500,E="Amazon",M="Apple",T="ASUS",_="BlackBerry",P="Browser",I="Chrome",R="Firefox",O="Google",D="Huawei",L="LG",N="Microsoft",F="Motorola",B="Opera",V="Samsung",U="Sharp",z="Sony",j="Xiaomi",H="Zebra",$="Facebook",W="Chromium OS",q="Mac OS",G=" Browser",K=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},X=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},Y=function(e,t){return typeof e===c&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},Q=function(e){return typeof e===c?e.replace(/[^\d\.]/g,o).split(".")[0]:void 0},Z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,o),typeof t===u?e:e.substring(0,A)},ee=function(e,t){for(var i,n,r,o,a,u,c=0;c<t.length&&!a;){var h=t[c],f=t[c+1];for(i=n=0;i<h.length&&!a&&h[i];)if(a=h[i++].exec(e))for(r=0;r<f.length;r++)u=a[++n],typeof(o=f[r])===d&&o.length>0?2===o.length?typeof o[1]==l?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==l||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):void 0:this[o[0]]=u?o[1].call(this,u,o[2]):s:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):s):this[o]=u||s;c+=2}},et=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(Y(t[i][n],e))return i===a?s:i}else if(Y(t[i],e))return i===a?s:i;return t.hasOwnProperty("*")?t["*"]:e},ei={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[p,B+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[p,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+P]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+P],v],[/\bfocus\/([\w\.]+)/i],[v,[p,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI"+G]],[/fxios\/([\w\.-]+)/i],[v,[p,R]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+G],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,V+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,I+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,et,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,J]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,o,J]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,V],[m,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,V],[m,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,M],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,M],[m,w]],[/(macintosh);/i],[f,[g,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,U],[m,S]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[g,"Honor"],[m,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,D],[m,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,D],[m,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[g,j],[m,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,j],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,S]],[/\b(opd2\d{3}a?) bui/i],[f,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,F],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,F],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,L],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,L],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,S]],[/(pixel c)\b/i],[f,[g,O],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,O],[m,S]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,z],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,z],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,E],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,E],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,_],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,T],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,T],[m,S]],[/(nexus 9)/i],[f,[g,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,w]],[/(itel) ((\w+))/i],[[g,J],f,[m,et,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,S]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[g,"Energizer"],[m,S]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[g,"Cat"],[m,S]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[g,"Smartfren"],[m,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,S]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,w]],[/(surface duo)/i],[f,[g,N],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,S]],[/(u304aa)/i],[f,[g,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,w]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,w]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,S]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[g,f,[m,S]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,N],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,H],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,H],[m,S]],[/smart-tv.+(samsung)/i],[g,[m,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,V],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,L],[m,C]],[/(apple) ?tv/i],[g,[f,M+" TV"],[m,C]],[/crkey/i],[[f,I+"cast"],[g,O],[m,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,E],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,U],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,z],[m,C]],[/(mitv-\w{5}) bui/i],[f,[g,j],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Z],[f,Z],[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,b]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[f,[g,z],[m,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,N],[m,b]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[g,V],[m,x]],[/((pebble))app/i],[g,f,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,M],[m,x]],[/droid.+; (glass) \d/i],[f,[g,O],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,H],[m,x]],[/droid.+; (glass) \d/i],[f,[g,O],[m,x]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,f,[m,x]],[/; (quest( \d| pro)?)/i],[f,[g,$],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,k]],[/(aeobc)\b/i],[f,[g,E],[m,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,et,ei]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,et,ei],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,q],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,_]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},er=function(e,t){if(typeof e===d&&(t=e,e=s),!(this instanceof er))return new er(e,t).getResult();var i=typeof r!==u&&r.navigator?r.navigator:s,n=e||(i&&i.userAgent?i.userAgent:o),a=i&&i.userAgentData?i.userAgentData:s,b=t?K(en,t):en,C=i&&i.userAgent==n;return this.getBrowser=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.browser),e[h]=Q(e[v]),C&&i&&i.brave&&typeof i.brave.isBrave==l&&(e[p]="Brave"),e},this.getCPU=function(){var e={};return e[y]=s,ee.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[g]=s,e[f]=s,e[m]=s,ee.call(e,n,b.device),C&&!e[m]&&a&&a.mobile&&(e[m]=S),C&&"Macintosh"==e[f]&&i&&typeof i.standalone!==u&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[f]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[p]=s,e[v]=s,ee.call(e,n,b.os),C&&!e[p]&&a&&a.platform&&"Unknown"!=a.platform&&(e[p]=a.platform.replace(/chrome os/i,W).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>A?Z(e,A):e,this},this.setUA(n),this};er.VERSION="1.0.40",er.BROWSER=X([p,v,h]),er.CPU=X([y]),er.DEVICE=X([f,g,m,b,S,C,w,x,k]),er.ENGINE=er.OS=X([p,v]),typeof t!==u?("object"!==u&&e.exports&&(t=e.exports=er),t.UAParser=er):"function"===l&&i.amdO?s===(n=(function(){return er}).call(t,i,t,e))||(e.exports=n):typeof r!==u&&(r.UAParser=er);var es=typeof r!==u&&(r.jQuery||r.Zepto);if(es&&!es.ua){var eo=new er;es.ua=eo.getResult(),es.ua.get=function(){return eo.getUA()},es.ua.set=function(e){eo.setUA(e);var t=eo.getResult();for(var i in t)es.ua[i]=t[i]}}}("object"==typeof window?window:this)},15569:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(63067),r=i(30510),s=i(63090);function o(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.A)(t)/3)))-(0,s.A)(Math.abs(e)))}var a=i(99832);function l(e,t){return t=Math.abs(t)-(e=Math.abs(e)),Math.max(0,(0,s.A)(t)-(0,s.A)(e))+1}function u(e){return Math.max(0,-(0,s.A)(Math.abs(e)))}function d(e,t,i,s){var d,c=(0,n.sG)(e,t,i);switch((s=(0,r.A)(null==s?",f":s)).type){case"s":var h=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(d=o(c,h))||(s.precision=d),(0,a.s)(s,h);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(d=l(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=d-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(d=u(c))||(s.precision=d-("%"===s.type)*2)}return(0,a.GP)(s)}},16041:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(27012),r=i(73595),s=i(27471),o=i(68280);function a(e,t){return e[t]}function l(e){let t=[];return t.key=e,t}function u(){var e=(0,r.A)([]),t=o.A,i=s.A,u=a;function d(r){var s,o,a=Array.from(e.apply(this,arguments),l),d=a.length,c=-1;for(let e of r)for(s=0,++c;s<d;++s)(a[s][c]=[0,+u(e,a[s].key,c,r)]).data=e;for(s=0,o=(0,n.A)(t(a));s<d;++s)a[o[s]].index=s;return i(a,o),a}return d.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.A)(Array.from(t)),d):e},d.value=function(e){return arguments.length?(u="function"==typeof e?e:(0,r.A)(+e),d):u},d.order=function(e){return arguments.length?(t=null==e?o.A:"function"==typeof e?e:(0,r.A)(Array.from(e)),d):t},d.offset=function(e){return arguments.length?(i=null==e?s.A:e,d):i},d}},16405:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>r,Hg:()=>n.Element,zd:()=>n.domToReact});var n=i(44958);let r=n.default||n},16751:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M22 22H2v-2h20zM10 2H7v16h3zm7 6h-3v10h3z"}),"AlignVerticalBottom")},16900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i){this.minHealth=e.minHealth,this.maxHealth=e.maxHealth,this.currentHealth=e.initialHealth,this.currentData=t.clone(),this.name=i}minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(e){this.currentData=e}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){let e=this.health();return e!==this.currentHealth?(this.currentHealth=e,e):null}}t.default=i},16992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}}t.default=i},17082:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let l=a(i(88956)),u=a(i(56506)),d=a(i(4571)),c=a(i(61994)),h=a(i(99071)),f=a(i(73719)),p=a(i(10106)),m=a(i(1417)),g=a(i(44748)),v=a(i(21929)),y=a(i(68590)),b=a(i(65194)),S=a(i(90610)),w=a(i(44435)),C=a(i(44495)),x=a(i(78822)),k=a(i(87165)),A=a(i(54976)),E=a(i(74449)),M=a(i(64152)),T=s(i(19408)),_=a(i(23521)),P=a(i(25743)),I=i(96119),R=a(i(88525)),O=a(i(31718)),D=a(i(57884)),L=a(i(71537)),N=a(i(34479)),F=a(i(12782)),B=a(i(97714)),V=a(i(93413)),U=a(i(39942)),z=a(i(52041)),j=a(i(44425)),H=a(i(36075)),$=a(i(63177)),W=a(i(29841)),q=a(i(42160)),G=a(i(12076)),K=a(i(93063)),X=a(i(64631)),Y=a(i(69535)),J=a(i(45408)),Q=a(i(82328)),Z=a(i(49319)),ee=a(i(42992)),et=a(i(37308)),ei=a(i(17928)),en=a(i(99618)),er=a(i(80826)),es=a(i(79338)),eo=a(i(89202)),ea=i(36243),el=a(i(12050)),eu=a(i(30712)),ed=a(i(86436)),ec=i(50492),eh=a(i(11218)),ef=a(i(81750)),ep=a(i(97470)),em=a(i(75376)),eg=a(i(88434)),ev=a(i(81491)),ey=a(i(21707)),eb=a(i(77826)),eS=a(i(58764));class ew{constructor(e,t,i,n,r,s){this._audioProfile=new d.default,this.connectionHealthData=new h.default,this.observerQueue=new Set,this.meetingSessionContext=new eS.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.receiveRemotePauseResumeTask=void 0,this.destroyed=!1,this._logger=t,this.sessionStateController=new x.default(this._logger),this._configuration=e,this._webSocketAdapter=i,this._realtimeController=new S.default(n),this._realtimeController.realtimeSetLocalAttendeeId(e.credentials.attendeeId,e.credentials.externalUserId),this._mediaStreamBroker=n,this._reconnectController=r,this._videoTileController=new em.default(new eg.default,this,this._logger),this._audioMixController=new u.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=s,this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers||(new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)&&new c.default().hasChromiumWebRTC()?this.videoSendCodecPreferences=[C.default.av1Main(),C.default.vp9Profile0(),C.default.h264ConstrainedBaselineProfile(),C.default.vp8()]:this.videoSendCodecPreferences=[C.default.vp9Profile0(),C.default.h264ConstrainedBaselineProfile(),C.default.vp8()])}destroy(){return o(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new l.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(e){return(this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection)?this.rtcPeerConnection.getStats(e):null}setAudioProfile(e){this._audioProfile=e}addObserver(e){this.logger.info("adding meeting observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing meeting observer"),this.observerQueue.delete(e)}forEachObserver(e){for(let t of this.observerQueue)w.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}initSignalingClient(){this.connectionHealthData.reset(),this.meetingSessionContext.signalingClient||(this.meetingSessionContext=new eS.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new c.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new M.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{let e=()=>o(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()});this.preStartObserver={handleSignalingClientEvent(t){t.type===_.default.WebSocketClosed&&e()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(e=>{this.logger.error(`Signaling task pre-start failed: ${e}`),this.signalingTask=void 0})}start(e){this.startReturningPromise(e).then(()=>{this.logger.info("start completed")}).catch(e=>{this.logger.error(`start failed: ${e}`)})}startReturningPromise(e){return(null==e?void 0:e.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((e,t)=>{this.sessionStateController.perform(k.default.Connect,()=>{this.actionConnect(!1).then(e).catch(t)})}))}connectWithPromises(e){let t=this.meetingSessionContext,i=(e,t)=>new et.default(this.logger,t,e);this.monitorTask=new j.default(t,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);let n=this.monitorTask.once(),r=new q.default(t).once();this.receiveIndexTask=new X.default(t),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();let s=new J.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new z.default(t),new Y.default(t),new V.default(t),this.receiveIndexTask]).once(),o=new N.default(t).once(s),a=new O.default(t).once(o,r),l=new F.default(t).once(a),u=new Q.default(t).once(l),d=new B.default(t).once(u),c=new ee.default(t).once(d);return this.receiveRemotePauseResumeTask=new G.default(t),this.receiveRemotePauseResumeTask.once(c),new J.default(this.logger,this.wrapTaskName("AudioVideoStart"),[n,i(this.configuration.connectionTimeoutMs,new J.default(this.logger,"Peer",[c,this.receiveRemotePauseResumeTask,e?new et.default(this.logger,new $.default(this.logger,"FinalizeConnection",[new ei.default(t),new Z.default(t)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Z.default(t)]))])}actionConnect(e){var t;return o(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new c.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new c.default().supportsScalableVideoCoding();let i=!!this.configuration.urls.audioHostURL;if(i?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new er.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new es.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new en.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new eo.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new eb.default(this.logger,this._realtimeController,ew.MIN_VOLUME_DECIBELS,ew.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let e=this.meetingSessionContext.videoUplinkBandwidthPolicy;e||(e=new ev.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=e),e.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new ed.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new ep.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new ef.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new ey.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new eu.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT)){let e=this.configuration.meetingFeatures.contentMaxResolution===p.default.VideoResolutionUHD;e&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(e)}else{let e=this.configuration.meetingFeatures.videoMaxResolution===p.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(e)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new v.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new el.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new eh.default,this.meetingSessionContext.videosPaused=new eh.default,this.meetingSessionContext.statsCollector=new R.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new f.default(this,this._realtimeController,this.connectionHealthData,new b.default(this.meetingSessionContext.signalingClient,ew.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},this._videoTileController.registerVideoTileResolutionObserver(this.meetingSessionContext.statsCollector),e||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(e=>{ea.Maybe.of(e.audioVideoDidStartConnecting).map(t=>t.bind(e)(!1))}),null==(t=this.eventController)||t.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);let n=i&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+n);let r=this.connectWithPromises(n);try{yield r.run(),this.connectionHealthData.setConnectionStartTime();let e=new y.default(this.configuration.credentials.attendeeId).hasModality(y.default.MODALITY_CONTENT);this.connectionHealthData.setIsContentShare(e),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(k.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(t){this.signalingTask=void 0;let e=new m.default(this.getMeetingStatusCode(t)||g.default.TaskFailed);if(this.logger.info(`Start failed: ${e} due to error ${t}.`),this.sessionStateController.state()===A.default.NotConnected)return void this.logger.info("Start failed and not connected. Not cleaning up.");this.sessionStateController.perform(k.default.Fail,()=>o(this,void 0,void 0,function*(){yield this.actionDisconnect(e,!0,t),this.handleMeetingSessionStatus(e,t)||this.notifyStop(e,t)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new et.default(this.logger,new H.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=I.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.meetingSessionContext.isSessionConnected=!0,this.forEachObserver(e=>{ea.Maybe.of(e.audioVideoDidStart).map(t=>t.bind(e)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var e;return(this._reconnectController.disableReconnect(),this.sessionStateController.state()===A.default.NotConnected)?(null==(e=this.meetingSessionContext.signalingClient)||e.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((e,t)=>{this.sessionStateController.perform(k.default.Disconnect,()=>{this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new m.default(g.default.Left),!1,null).then(e).catch(t)})})}stop(){this.stopReturningPromise()}actionDisconnect(e,t,i){return o(this,void 0,void 0,function*(){try{yield new J.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new et.default(this.logger,new U.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch(e){this.logger.info("fail to stop")}try{let e=[new et.default(this.logger,new L.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new J.default(this.logger,this.wrapTaskName("AudioVideoClean"),e).run()}catch(e){this.logger.info("fail to clean")}this.sessionStateController.perform(k.default.FinishDisconnecting,()=>{t||this.notifyStop(e,i)}),this._videoTileController.removeVideoTileResolutionObserver(this.meetingSessionContext.statsCollector)})}update(e={needsRenegotiation:!0}){let t=e.needsRenegotiation;if(t||(t=void 0===this.meetingSessionContext.peer),t||(t=!this.updateRemoteVideosFromPolicy()),t||(t=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!t)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe"),this.updateNumberOfPublishedVideoSources();let i=this.sessionStateController.perform(k.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return i===E.default.Transitioned||i===E.default.DeferredTransition}updateNumberOfPublishedVideoSources(){let e=this.configuration.credentials.attendeeId,t=this._videoTileController.hasStartedLocalVideoTile();if(null!==this.meetingSessionContext.videoStreamIndex){let i=this.meetingSessionContext.videoStreamIndex.numberOfVideoPublishingParticipantsExcludingSelf(e)+ +!!t;this.connectionHealthData.setNumberOfPublishedVideoSources(i)}}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&void 0!==this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences&&void 0!==this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&!T.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===T.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){let e=this.detectChangesInVideosToReceive();if(void 0===e)return!1;let t=e.added,i=e.simulcastStreamUpdates,n=e.removed,r=this.meetingSessionContext,s=[];for(let[e,t]of i.entries()){let i=new P.default;if(i.streamId=t,i.attendeeId=r.videoStreamIndex.attendeeIdForStreamId(t),i.mid=r.transceiverController.getMidForStreamId(e),void 0===i.mid)return this.logger.info(`No MID found for stream ID ${e}, cannot update stream without renegotiation`),!1;if(s.push(i),r.transceiverController.setStreamIdForMid(i.mid,t),r.videoStreamIndex.overrideStreamIdMappings(e,t),r.videoTileController.haveVideoTileForAttendeeId(i.attendeeId)){let e=r.videoTileController.getVideoTileForAttendeeId(i.attendeeId);if(!e.setStreamId)return!1;e.setStreamId(t)}}return 0!==s.length&&r.signalingClient.remoteVideoUpdate(s,[]),0===t.length&&0===n.length&&(r.videoStreamIndex.remoteVideoUpdateSent(),!0)}detectChangesInVideosToReceive(){let e=this.meetingSessionContext;if(null===e.videosToReceive||!e.transceiverController||!e.transceiverController.getMidForStreamId||!e.transceiverController.setStreamIdForMid||!e.videosToReceive.forEach||!e.signalingClient.remoteVideoUpdate||!e.videoStreamIndex.overrideStreamIdMappings)return;let t=[],i=new Map,n=[];if(null===e.lastVideosToReceive)t=e.videosToReceive.array();else{let r=e.videoStreamIndex;e.videosToReceive.forEach(n=>{if(e.lastVideosToReceive.contain(n))return;let s=!1;e.lastVideosToReceive.forEach(e=>{!s&&r.StreamIdsInSameGroup(e,n)&&(i.set(e,n),s=!0)}),s||t.push(n)}),n=e.lastVideosToReceive.array().filter(t=>{let n=e.videosToReceive.contain(t),r=i.has(t);return!n&&!r})}return this.logger.info(`Request to update remote videos with added: [${t}], updated: [${Array.from(i.entries()).map(([e,t])=>`${e}->${t}`).join(",")}], removed: [${n}]`),{added:t,removed:n,simulcastStreamUpdates:i}}isNotAddingOrRemovingStreams(){let e=this.detectChangesInVideosToReceive();if(void 0===e)return!1;let t=e.added,i=e.removed;return 0===t.length&&0===i.length&&(this.meetingSessionContext.videoStreamIndex.remoteVideoUpdateSent(),!0)}sendRemoteVideoUpdate(){let e=this.meetingSessionContext;if(null===e.videosToReceive)return!1;let t=e.videosToReceive.array().map(t=>e.videoStreamIndex.groupIdForStreamId(t));this.receiveRemotePauseResumeTask.updateSubscribedGroupdIds(new Set(t));let i=ec.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(e,t,e.videoDownlinkBandwidthPolicy.getVideoPreferences()),n=new Map,r=[];for(let t of i){let i=!1;if(e.lastVideoSubscriptionConfiguration.has(t.groupId)){let n=e.lastVideoSubscriptionConfiguration.get(t.groupId);t.equals(n)||(this.logger.debug(`${JSON.stringify(t)} does not equal ${JSON.stringify(n)}, sending update`),i=!0)}else i=!0;n.set(t.groupId,t),i&&r.push(t)}e.lastVideoSubscriptionConfiguration=n;let s=[];if(null!==e.lastVideosToReceive){let i=new Set(t);for(let t of e.lastVideosToReceive.array()){let n=e.videoStreamIndex.groupIdForStreamId(t);if(!i.has(n)){let t=e.transceiverController.getMidForGroupId(n);if(void 0===t){e.logger.warn(`Could not find MID for group ID to remove: ${n}`);continue}s.push(t)}}}return(0!==r.length||0!==s.length)&&e.signalingClient.remoteVideoUpdate(r,s),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){let e=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&this.meetingSessionContext.transceiverController.hasVideoInput()&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(e)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;let e=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!!e&&!!e.headerExtensions&&e.headerExtensions.some(e=>"http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00"===e.uri)}restartLocalVideo(e){let t=()=>o(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),e()}),i=this.sessionStateController.perform(k.default.Update,()=>{t()});return i===E.default.Transitioned||i===E.default.DeferredTransition}replaceLocalVideo(e){return o(this,void 0,void 0,function*(){if(!e||e.getVideoTracks().length<1)throw Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw Error("no active meeting and peer connection");let t=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(t){let i=t.state(),n=e.getVideoTracks()[0].getSettings();t.bindVideoStream(i.boundAttendeeId,!0,e,n.width,n.height,i.streamId,i.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(e.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=e,this.logger.info("Local video input is updated")})}replaceLocalAudio(e){return o(this,void 0,void 0,function*(){if(!e||e.getAudioTracks().length<1)throw Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(e.getAudioTracks()[0])))throw Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=e,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(e){return o(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new J.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new K.default(this.meetingSessionContext),new et.default(this.logger,new J.default(this.logger,"UpdateSession",[new O.default(this.meetingSessionContext),new F.default(this.meetingSessionContext),new Q.default(this.meetingSessionContext),new B.default(this.meetingSessionContext),new ee.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),e&&this.sessionStateController.perform(k.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(e){this.sessionStateController.perform(k.default.FinishUpdating,()=>{let t=new m.default(this.getMeetingStatusCode(e)||g.default.TaskFailed);t.statusCode()!==g.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(t,e)})}})}notifyStop(e,t){var i;if(this.forEachObserver(t=>{ea.Maybe.of(t.audioVideoDidStop).map(i=>i.bind(t)(e))}),this.eventController){let{signalingOpenDurationMs:n,poorConnectionCount:r,startTimeMs:s,iceGatheringDurationMs:o,attendeePresenceDurationMs:a,meetingStartDurationMs:l}=this.meetingSessionContext,u={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:null===s?0:Math.round(Date.now()-s),meetingStatus:g.default[e.statusCode()],signalingOpenDurationMs:n,iceGatheringDurationMs:o,attendeePresenceDurationMs:a,poorConnectionCount:r,meetingStartDurationMs:l,retryCount:this.totalRetryCount},d=t&&t.message||(null==(i=e.toString)?void 0:i.call(e))||"";0===u.meetingDurationMs?(u.meetingErrorMessage=d,delete u.meetingDurationMs,delete u.attendeePresenceDurationMs,delete u.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",u)):e.isFailure()||e.isAudioConnectionFailure()?(u.meetingErrorMessage=d,this.eventController.publishEvent("meetingFailed",u)):this.eventController.publishEvent("meetingEnded",u)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{let e=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(e)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(e,t){this.promotedToPrimaryMeeting&&(this.promotedToPrimaryMeeting=!1,this.forEachObserver(e=>{ea.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map(t=>t.bind(e)(new m.default(g.default.AudioVideoDisconnectedWhilePromoted)))}));let i=this._reconnectController.retryWithBackoff(()=>o(this,void 0,void 0,function*(){this.sessionStateController.state()===A.default.NotConnected?this.sessionStateController.perform(k.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(k.default.Reconnect,()=>{this.actionReconnect(e)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return i||this.sessionStateController.perform(k.default.Fail,()=>{this.actionDisconnect(e,!1,t)}),i}actionReconnect(e){return o(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(e=>{ea.Maybe.of(e.audioVideoDidStartConnecting).map(t=>t.bind(e)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),this.receiveRemotePauseResumeTask=new G.default(this.meetingSessionContext);try{yield new J.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new et.default(this.logger,new J.default(this.logger,"Media",[new D.default(this.meetingSessionContext),new J.default(this.logger,"Signaling",[new H.default(this.meetingSessionContext),new V.default(this.meetingSessionContext)]),new N.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new K.default(this.meetingSessionContext),new et.default(this.logger,new J.default(this.logger,"UpdateSession",[new O.default(this.meetingSessionContext),new F.default(this.meetingSessionContext),new Q.default(this.meetingSessionContext),new B.default(this.meetingSessionContext),new ee.default(this.meetingSessionContext),new Z.default(this.meetingSessionContext),this.receiveRemotePauseResumeTask]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(k.default.FinishConnecting,()=>{if(this.eventController){let{signalingOpenDurationMs:t,poorConnectionCount:i,startTimeMs:n,iceGatheringDurationMs:r,attendeePresenceDurationMs:s,meetingStartDurationMs:o}=this.meetingSessionContext,a={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-n),meetingStatus:g.default[e.statusCode()],signalingOpenDurationMs:t,iceGatheringDurationMs:r,attendeePresenceDurationMs:s,poorConnectionCount:i,meetingStartDurationMs:o,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",a)}this.actionFinishConnecting()})}catch(e){this.sessionStateController.perform(k.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");let t=new m.default(this.getMeetingStatusCode(e)||g.default.TaskFailed);this.handleMeetingSessionStatus(t,e)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(e){return`${e}/${this.configuration.meetingId}/${this.configuration.credentials.attendeeId}`}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(e){let t=/the meeting status code: (\d+)/.exec(e&&e.message);return t&&t.length>1?Number.parseInt(t[1],10):null}enforceBandwidthLimitationForSender(e){return o(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(e)})}handleMeetingSessionStatus(e,t){if(this.logger.info(`handling status: ${g.default[e.statusCode()]}`),!e.isTerminal()&&this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(e),e.statusCode()===g.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(e.statusCode()===g.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(e=>{ea.Maybe.of(e.videoSendDidBecomeUnavailable).map(t=>t.bind(e)())}),!1;if(e.statusCode()===g.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(t=>{ea.Maybe.of(t.audioVideoWasDemotedFromPrimaryMeeting).map(i=>i.bind(t)(e))}),!1;if(e.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(e.isFailure()||e.isTerminal())&&this.meetingSessionContext.reconnectController){let i=this.reconnect(e,t);return i?this.logger.warn(`The audio video controller will reconnect due to status code ${g.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`):this.logger.error(`The audio video controller failed with status code ${g.default[e.statusCode()]}${t?` and error: ${t.message}`:""}`),i}return!1}setVideoMaxBandwidthKbps(e){if(e<=0)throw Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info(`video send has ideal max bandwidth ${e} kbps`),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(e)),this.maxUplinkBandwidthKbps=e}handleHasBandwidthPriority(e){return o(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}let t=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(e);let i=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();t!==i&&(this.logger.info(`video send bandwidth priority ${e} max has changed from ${t} kbps to ${i} kbps`),yield this.enforceBandwidthLimitationForSender(i))}})}pauseReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([e])}resumeReceivingStream(e){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([e])}setVideoCodecSendPreferences(e){this.videoSendCodecPreferences=e,this.meetingSessionContext.videoSendCodecPreferences=e,this.sessionStateController.state()!==A.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){let{videoStreamIndex:e}=this.meetingSessionContext;if(!e)return this.logger.info("meeting has not started"),[];let t=this.configuration.credentials.attendeeId;return e.allVideoSendingSourcesExcludingSelf(t)}encodingSimulcastLayersDidChange(e){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(t=>{ea.Maybe.of(t.encodingSimulcastLayersDidChange).map(i=>i.bind(t)(e))})}promoteToPrimaryMeeting(e){return this.actionPromoteToPrimaryMeeting(e)}actionPromoteToPrimaryMeeting(e){return o(this,void 0,void 0,function*(){let t=new m.default(g.default.SignalingRequestFailed);return yield new J.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new et.default(this.logger,new W.default(this.meetingSessionContext,e,e=>{t=e}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=t.statusCode()===g.default.OK,t})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(e=>{ea.Maybe.of(e.audioVideoWasDemotedFromPrimaryMeeting).map(t=>t.bind(e)(new m.default(g.default.OK)))})}videoInputDidChange(e){return o(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer)return void this.logger.info("Skip updating video input because there is no active meeting and peer connection");this._videoTileController.hasStartedLocalVideoTile()&&(e?yield this.replaceLocalVideo(e):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(e){return o(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer)return void this.logger.info("Skip updating audio input because there is no active meeting and peer connection");if(!e)try{e=yield this.mediaStreamBroker.acquireAudioInputStream()}catch(e){this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(e)})}}t.default=ew,ew.MIN_VOLUME_DECIBELS=-42,ew.MAX_VOLUME_DECIBELS=-14,ew.PING_PONG_INTERVAL_MS=1e4},17121:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=i(90643),r=i(17366),s=i(38990),o=i(24374);function a(e){var t=(0,o.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var i=new s.RawSha256;i.update(t),t=i.digest()}var n=new Uint8Array(r.BLOCK_SIZE);return n.set(t),n}t.Sha256=function(){function e(e){if(this.hash=new s.RawSha256,e){this.outer=new s.RawSha256;var t=a(e),i=new Uint8Array(r.BLOCK_SIZE);i.set(t);for(var n=0;n<r.BLOCK_SIZE;n++)t[n]^=54,i[n]^=92;this.hash.update(t),this.outer.update(i);for(var n=0;n<t.byteLength;n++)t[n]=0}}return e.prototype.update=function(e){if(!(0,o.isEmptyData)(e)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return[2,this.digestSync()]})})},e}()},17366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),t.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],t.MAX_HASHABLE_LENGTH=0x1fffffffffffff},17627:(e,t)=>{"use strict";function i(e,t,i){return i?fetch(r(e,i),n(t,i)):fetch(e,t)}function n(e,t){return(null==t?void 0:t.headers)?e?Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers||{}),t.headers)}):{headers:t.headers}:e}function r(e,t){if(!(null==t?void 0:t.escapedQueryString))return e;let i=-1!==e.lastIndexOf("?");return`${e}${i?"&":"?"}${t.escapedQueryString}`}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRevisionID=t.isValidAssetGroup=t.resolveURL=t.addQueryParams=t.withQueryString=t.withRequestHeaders=t.fetchWithBehavior=void 0,t.fetchWithBehavior=i,t.withRequestHeaders=n,t.withQueryString=r,t.addQueryParams=function(e,t){let i=Object.keys(t);if(!i.length)return e;let n=new URLSearchParams(null==e?void 0:e.escapedQueryString);for(let e of i)n.append(e,t[e]);return Object.assign(Object.assign({},e),{escapedQueryString:n.toString()})};let s={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};t.resolveURL=function(e,t){return i(e,s,t).then(t=>t.redirected?t.url:e)},t.isValidAssetGroup=function(e){return!!e&&/^[-.a-zA-Z0-9]+$/.test(e)},t.isValidRevisionID=function(e){return!!e&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(e)}},17663:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var s=i(82468),o=i(36661);r(i(36661),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,i){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(i=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=i?i:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var i=this.options.xmlMode?s.ElementType.Tag:void 0,n=new o.Element(e,t,void 0,i);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===s.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var i=new o.Text(e);this.addNode(i),this.lastNode=i}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment){this.lastNode.data+=e;return}var t=new o.Comment(e);this.addNode(t),this.lastNode=t},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var i=new o.ProcessingInstruction(e,t);this.addNode(i)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],i=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),i&&(e.prev=i,i.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},17828:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,i(64054).createAsyncLocalStorage)()},17928:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(44748)),o=r(i(76234));class a extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="WaitForAttendeePresenceTask"}cancel(){if(this.cancelPromise){let e=Error(`canceling ${this.name()} due to the meeting status code: ${s.default.NoAttendeePresent}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return n(this,void 0,void 0,function*(){let e=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((t,i)=>{let n=(i,r,s,o,a)=>{e===i&&r&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),t(),delete this.cancelPromise)};this.cancelPromise=e=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(n),i(e)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(n)})})}}t.default=a},17962:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var n=i(47730);t.RawSha256=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,i=e.byteLength;if(this.bytesHashed+=i,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=e[t++],i--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(t.setUint8(this.bufferLength++,128),i%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var r=this.bufferLength;r<n.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<n.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/0x100000000),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(n.DIGEST_LENGTH),r=0;r<8;r++)s[4*r]=this.state[r]>>>24&255,s[4*r+1]=this.state[r]>>>16&255,s[4*r+2]=this.state[r]>>>8&255,s[4*r+3]=this.state[r]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,i=e.state,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],d=i[6],c=i[7],h=0;h<n.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(255&t[4*h])<<24|(255&t[4*h+1])<<16|(255&t[4*h+2])<<8|255&t[4*h+3];else{var f=this.temp[h-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,m=((f=this.temp[h-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[h]=(p+this.temp[h-7]|0)+(m+this.temp[h-16]|0)}var g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(c+(n.KEY[h]+this.temp[h]|0)|0)|0,v=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&s^r&o^s&o)|0;c=d,d=u,u=l,l=a+g|0,a=o,o=s,s=r,r=g+v|0}i[0]+=r,i[1]+=s,i[2]+=o,i[3]+=a,i[4]+=l,i[5]+=u,i[6]+=d,i[7]+=c},e}()},18098:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],s=(0,n.A)("mic-off",r)},18266:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=i(12115),s=n(i(85724)),o=i(89054),a={cloneElement:r.cloneElement,createElement:r.createElement,isValidElement:r.isValidElement};function l(e,t){void 0===t&&(t={});for(var i=[],n="function"==typeof t.replace,r=t.transform||o.returnFirstArg,d=t.library||a,c=d.cloneElement,h=d.createElement,f=d.isValidElement,p=e.length,m=0;m<p;m++){var g=e[m];if(n){var v=t.replace(g,m);if(f(v)){p>1&&(v=c(v,{key:v.key||m})),i.push(r(v,g,m));continue}}if("text"===g.type){var y=!g.data.trim().length;if(y&&g.parent&&!(0,o.canTextBeChildOfNode)(g.parent)||t.trim&&y)continue;i.push(r(g.data,g,m));continue}var b=g,S={};u(b)?((0,o.setStyleProp)(b.attribs.style,b.attribs),S=b.attribs):b.attribs&&(S=(0,s.default)(b.attribs,b.name));var w=void 0;switch(g.type){case"script":case"style":g.children[0]&&(S.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?S.defaultValue=g.children[0].data:g.children&&g.children.length&&(w=l(g.children,t));break;default:continue}p>1&&(S.key=m),i.push(r(h(g.name,S,w),g,m))}return 1===i.length?i[0]:i}function u(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,o.isCustomComponent)(e.name,e.attribs)}},18413:e=>{"use strict";let t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);e.exports.assign=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let n=i.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(let i in n)t(n,i)&&(e[i]=n[i])}}return e},e.exports.flattenChunks=e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;let i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}},19146:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(17082)),o=r(i(57770)),a=r(i(74850)),l=r(i(61994)),u=r(i(78946)),d=r(i(27454)),c=r(i(42225)),h=i(24059),f=r(i(46426)),p=r(i(7040)),m=r(i(31906));class g{constructor(e,t,i,n){this._eventController=n,this._configuration=e,this._logger=t,this.checkBrowserSupportAndFeatureConfiguration(),c.default.addLogger(this._logger),c.default.register(),this._eventController||(this._eventController=new f.default(e,t)),i.eventController||(i.eventController=this.eventController),this.audioVideoController=new s.default(this._configuration,this._logger,new m.default(this._logger),i,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=i,this.logger.info(`MeetingFeatures: ${JSON.stringify(e.meetingFeatures)}`);let r=new u.default(this._logger);this.contentShareController=new d.default(r,new s.default(d.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new m.default(this._logger),r,new p.default(this._configuration.reconnectTimeoutMs,new a.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new o.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return n(this,void 0,void 0,function*(){h.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),h.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),h.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),c.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){let e=new l.default,t=`${e.name()} ${e.majorVersion()} (${e.version()})`;if(this.logger.info(`browser is ${t}`),e.isSupported()||this.logger.warn(`this browser is not currently supported. Stability may suffer. Supported browsers are: ${e.supportString()}.`),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!e.hasChromiumWebRTC())throw Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(e.hasChromiumWebRTC()?this.logger.info(`Simulcast is enabled for ${e.name()}`):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!e.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(e){return!!(e&&e.addObserver)}}t.default=g},19288:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},19408:(e,t,i)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.convertServerSideNetworkAdaptionEnumToSignaled=t.convertServerSideNetworkAdaptionEnumFromSignaled=t.serverSideNetworkAdaptionIsNoneOrDefault=t.ServerSideNetworkAdaption=void 0;let r=i(96119);!function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.BandwidthProbing=2]="BandwidthProbing",e[e.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"}(n=t.ServerSideNetworkAdaption||(t.ServerSideNetworkAdaption={})),t.default=n,t.serverSideNetworkAdaptionIsNoneOrDefault=function(e){return e===n.None||e===n.Default},t.convertServerSideNetworkAdaptionEnumFromSignaled=function(e){switch(e){case r.SdkServerSideNetworkAdaption.DEFAULT:return n.Default;case r.SdkServerSideNetworkAdaption.NONE:return n.None;case r.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return n.BandwidthProbing;case r.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return n.BandwidthProbingAndRemoteVideoQualityAdaption}},t.convertServerSideNetworkAdaptionEnumToSignaled=function(e){switch(e){case n.Default:return r.SdkServerSideNetworkAdaption.DEFAULT;case n.None:return r.SdkServerSideNetworkAdaption.NONE;case n.BandwidthProbing:return r.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case n.BandwidthProbingAndRemoteVideoQualityAdaption:return r.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}},19641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=e=>e}get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(e){this._audioHostURL=e}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(e){this._signalingURL=e}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(e){this._turnControlURL=e}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(e){this._eventIngestionURL=e}}t.default=i},19684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(e){return"MSInputMethodContext"in e&&"msCrypto"in e}t.isMsWindow=function(e){if(n(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,s=t.subtle;return i.map(function(e){return s[e]}).concat(r).every(function(e){return"function"==typeof e})}return!1}},19902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t={};for(let[i,n]of Object.entries(e))if(null==n||""===n)continue;else if("number"==typeof n||"string"==typeof n)t[i]=n;else throw TypeError("Unhandled type received while flattening attributes.");return t}},20277:(e,t,i)=>{"use strict";function n(e,t){var i=new Date;return e*=1,t*=1,function(n){return i.setTime(e*(1-n)+t*n),i}}i.d(t,{A:()=>n})},20427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){}reportEvent(e,t,i){}start(){}stop(){}}t.default=i},20872:function(e,t,i){"use strict";var n,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.requestVideoPermissions=t.requestAudioPermissions=t.requestMediaPermissions=t.MediaPermissionsErrorType=void 0;let s=r(i(75478));!function(e){e.SystemPermissionDenied="SystemPermissionDenied",e.UserPermissionDenied="UserPermissionDenied",e.CouldNotStartVideoSource="CouldNotStartVideoSource",e.Generic="Generic"}(n=t.MediaPermissionsErrorType||(t.MediaPermissionsErrorType={})),t.requestMediaPermissions=e=>new Promise((t,i)=>{navigator.mediaDevices.getUserMedia(null!=e?e:{audio:!0,video:!0}).then(e=>{e.getTracks().forEach(e=>{e.stop()}),t(!0)}).catch(e=>{let t=s.default.getParser(window.navigator.userAgent).getBrowserName(),r=e.name,o=e.message,a=n.Generic;"Chrome"===t?"NotAllowedError"===r?"Permission denied by system"===o?a=n.SystemPermissionDenied:"Permission denied"===o&&(a=n.UserPermissionDenied):"NotReadableError"===r&&(a=n.CouldNotStartVideoSource):"Safari"===t?"NotAllowedError"===r&&(a=n.UserPermissionDenied):"Microsoft Edge"===t?"NotAllowedError"===r?a=n.UserPermissionDenied:"NotReadableError"===r&&(a=n.CouldNotStartVideoSource):"Firefox"===t&&("NotFoundError"===r||"NotReadableError"===r?a=n.SystemPermissionDenied:"NotAllowedError"===r?a=n.UserPermissionDenied:"AbortError"===r&&(a=n.CouldNotStartVideoSource)),i({type:a,name:e.name,message:e.message})})});let o=()=>(0,t.requestMediaPermissions)({audio:!0,video:!1});t.requestAudioPermissions=o;let a=()=>(0,t.requestMediaPermissions)({audio:!1,video:!0});t.requestVideoPermissions=a},21082:e=>{"use strict";let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}let i=new Uint8Array(256);for(let e=0;e<256;e++)i[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;i[254]=i[254]=1,e.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,i,n,r,s,o=e.length,a=0;for(r=0;r<o;r++)(64512&(i=e.charCodeAt(r)))==55296&&r+1<o&&(64512&(n=e.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),r++),a+=i<128?1:i<2048?2:i<65536?3:4;for(s=0,t=new Uint8Array(a),r=0;s<a;r++)(64512&(i=e.charCodeAt(r)))==55296&&r+1<o&&(64512&(n=e.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?t[s++]=i:(i<2048?t[s++]=192|i>>>6:(i<65536?t[s++]=224|i>>>12:(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63),t[s++]=128|i>>>6&63),t[s++]=128|63&i);return t};let n=(e,i)=>{if(i<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let n="";for(let t=0;t<i;t++)n+=String.fromCharCode(e[t]);return n};e.exports.buf2string=(e,t)=>{let r,s,o=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a=Array(2*o);for(s=0,r=0;r<o;){let t=e[r++];if(t<128){a[s++]=t;continue}let n=i[t];if(n>4){a[s++]=65533,r+=n-1;continue}for(t&=2===n?31:3===n?15:7;n>1&&r<o;)t=t<<6|63&e[r++],n--;if(n>1){a[s++]=65533;continue}t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}return n(a,s)},e.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(192&e[n])==128;)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}},21533:(e,t,i)=>{"use strict";i.d(t,{A:()=>d,h:()=>u});class n extends Map{constructor(e,t=a){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,i]of e)this.set(t,i)}get(e){return super.get(r(this,e))}has(e){return super.has(r(this,e))}set(e,t){return super.set(s(this,e),t)}delete(e){return super.delete(o(this,e))}}function r({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):i}function s({_intern:e,_key:t},i){let n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function o({_intern:e,_key:t},i){let n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function a(e){return null!==e&&"object"==typeof e?e.valueOf():e}var l=i(6256);let u=Symbol("implicit");function d(){var e=new n,t=[],i=[],r=u;function s(n){let s=e.get(n);if(void 0===s){if(r!==u)return r;e.set(n,s=t.push(n)-1)}return i[s%i.length]}return s.domain=function(i){if(!arguments.length)return t.slice();for(let r of(t=[],e=new n,i))e.has(r)||e.set(r,t.push(r)-1);return s},s.range=function(e){return arguments.length?(i=Array.from(e),s):i.slice()},s.unknown=function(e){return arguments.length?(r=e,s):r},s.copy=function(){return d(t,i).unknown(r)},l.C.apply(s,arguments),s}},21643:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SimulcastLayers=void 0,function(e){e[e.Low=0]="Low",e[e.LowAndMedium=1]="LowAndMedium",e[e.LowAndHigh=2]="LowAndHigh",e[e.Medium=3]="Medium",e[e.MediumAndHigh=4]="MediumAndHigh",e[e.High=5]="High"}(i=t.SimulcastLayers||(t.SimulcastLayers={})),t.default=i},21707:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(12050));class o{constructor(e,t=!0,i,n){this.selfAttendeeId=e,this.scaleResolution=t,this.logger=i,this.browserBehavior=n,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new s.default(0,0,0,0,!1),this.parametersInEffect=new s.default(0,0,0,0,!1),this.encodingParamMap.set(o.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){var t;let i=!0;this.transceiverController&&(i=this.transceiverController.hasVideoInput());let n=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+ +!!i,r=e.numberOfParticipants();if(this.numParticipants===r&&this.numberOfPublishedVideoSources===n){null==(t=this.logger)||t.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=n,this.numParticipants=r,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let e=1;if(this.transceiverController){let t=this.getStreamCaptureSetting();t&&(e=this.calculateEncodingParameters(t).scaleResolutionDownBy)}this.optimalParameters=new s.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,e,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let e=640;return this.getNumberOfPublishedVideoSources()>4&&(e=320),e}captureHeight(){let e=384;return this.getNumberOfPublishedVideoSources()>4&&(e=192),e}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let e=0;return Math.trunc(e=2>=this.getNumberOfPublishedVideoSources()?this.idealMaxBandwidthKbps:4>=this.getNumberOfPublishedVideoSources()?2*this.idealMaxBandwidthKbps/3:(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps)}setIdealMaxBandwidthKbps(e){this.idealMaxBandwidthKbps=e}setHasBandwidthPriority(e){this.hasBandwidthPriority=e}setTransceiverController(e){this.transceiverController=e}setSVCEnabled(e){var t;this.enableSVC=e,null==(t=this.logger)||t.info(`setSVCEnabled, enable: ${e}}`)}setHighResolutionFeatureEnabled(e){this.enableHighResolutionFeature=e}updateTransceiverController(){return n(this,void 0,void 0,function*(){let e=this.getStreamCaptureSetting();if(!e)return;let t=this.calculateEncodingParameters(e);this.shouldUpdateEndcodingParameters(t)&&(this.encodingParamMap.set(o.encodingMapKey,t),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(e){var t,i;let n=null==(i=null==(t=this.transceiverController.localVideoTransceiver().sender.getParameters())?void 0:t.encodings)?void 0:i[0];return e.maxBitrate!==(null==n?void 0:n.maxBitrate)||e.scaleResolutionDownBy!==(null==n?void 0:n.scaleResolutionDownBy)||(null==e?void 0:e.scalabilityMode)!==(null==n?void 0:n.scalabilityMode)}calculateEncodingParameters(e){var t,i,n;let r=1e3*this.maxBandwidthKbps(),s=1,a=720;if(void 0!==e.height&&void 0!==e.width&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(480===(a=o.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),o.targetHeightArray.length-1)][+!!this.enableHighResolutionFeature])&&(null==(t=this.browserBehavior)?void 0:t.disable480pResolutionScaleDown())&&(a=360),s=Math.max(Math.min(e.height,e.width)/a,1),null==(i=this.logger)||i.info(`Resolution scale factor is ${s} for capture resolution ${e.width}x${e.height}. New dimension is ${e.width/s}x${e.height/s}`)),!this.enableSVC)return{scaleResolutionDownBy:s,maxBitrate:r};{let e;return e=this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?"L1T1":"L3T3",null==(n=this.logger)||n.info(`calculateEncodingParameters: SVC: ${this.enableSVC}    participants: ${this.numParticipants}     publishers: ${this.getNumberOfPublishedVideoSources()}     bitrate: ${r}  targetHeight: ${a}  scalabilityMode: ${e}   isUsingSVCCodec: ${this.isUsingSVCCodec}`),{scaleResolutionDownBy:s,maxBitrate:r,scalabilityMode:e}}}getStreamCaptureSetting(){var e,t,i,n;return null==(n=null==(i=null==(t=null==(e=this.transceiverController)?void 0:e.localVideoTransceiver())?void 0:t.sender)?void 0:i.track)?void 0:n.getSettings()}getNumberOfPublishedVideoSources(){var e;return null!=(e=this.numberOfPublishedVideoSources)?e:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(e,t){let i=null!=e?e:t,n=i.length>0&&o.SVCCodecNames.includes(i[0].codecName);n!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=n,this.updateOptimalParameters())}}t.default=o,o.encodingMapKey="video",o.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]],o.SVCCodecNames=["VP9"]},21929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}equal(e){return this.remoteVideoAvailable===e.remoteVideoAvailable&&this.canStartLocalVideo===e.canStartLocalVideo}clone(){let e=new i;return e.remoteVideoAvailable=this.remoteVideoAvailable,e.canStartLocalVideo=this.canStartLocalVideo,e}}t.default=i},22694:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(10106));class s{constructor(e=r.default.VideoResolutionHD,t=r.default.VideoResolutionFHD){this.videoMaxResolution=e,this.contentMaxResolution=t}clone(){return new s(this.videoMaxResolution,this.contentMaxResolution)}}t.default=s},22733:(e,t,i)=>{"use strict";let n=i(10171),r=i(18413),s=i(21082),o=i(13452),a=i(83914),l=i(57380),u=Object.prototype.toString,{Z_NO_FLUSH:d,Z_FINISH:c,Z_OK:h,Z_STREAM_END:f,Z_NEED_DICT:p,Z_STREAM_ERROR:m,Z_DATA_ERROR:g,Z_MEM_ERROR:v}=i(97453);function y(e){this.options=r.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let i=n.inflateInit2(this.strm,t.windowBits);if(i!==h||(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(i=n.inflateSetDictionary(this.strm,t.dictionary))!==h))throw Error(o[i])}function b(e,t){let i=new y(t);if(i.push(e),i.err)throw i.msg||o[i.err];return i.result}function S(e,t){return(t=t||{}).raw=!0,b(e,t)}y.prototype.push=function(e,t){let i,r,o,a=this.strm,l=this.options.chunkSize,y=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?c:d,"[object ArrayBuffer]"===u.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(l),a.next_out=0,a.avail_out=l),(i=n.inflate(a,r))===p&&y&&((i=n.inflateSetDictionary(a,y))===h?i=n.inflate(a,r):i===g&&(i=p));a.avail_in>0&&i===f&&a.state.wrap>0&&0!==e[a.next_in];)n.inflateReset(a),i=n.inflate(a,r);switch(i){case m:case g:case p:case v:return this.onEnd(i),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||i===f))if("string"===this.options.to){let e=s.utf8border(a.output,a.next_out),t=a.next_out-e,i=s.buf2string(a.output,e);a.next_out=t,a.avail_out=l-t,t&&a.output.set(a.output.subarray(e,e+t),0),this.onData(i)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(i!==h||0!==o){if(i===f)return i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=y,e.exports.inflate=b,e.exports.inflateRaw=S,e.exports.ungzip=b,e.exports.constants=i(97453)},22877:(e,t,i)=>{"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}i.d(t,{A:()=>n,f:()=>r})},23521:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SignalingClientEventType=void 0,function(e){e[e.WebSocketConnecting=0]="WebSocketConnecting",e[e.WebSocketOpen=1]="WebSocketOpen",e[e.WebSocketError=2]="WebSocketError",e[e.WebSocketClosing=3]="WebSocketClosing",e[e.WebSocketClosed=4]="WebSocketClosed",e[e.WebSocketFailed=5]="WebSocketFailed",e[e.WebSocketMessage=6]="WebSocketMessage",e[e.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",e[e.WebSocketSentMessage=8]="WebSocketSentMessage",e[e.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",e[e.ReceivedSignalFrame=10]="ReceivedSignalFrame",e[e.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"}(i=t.SignalingClientEventType||(t.SignalingClientEventType={})),t.default=i},23556:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkTCPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(i=t.CheckNetworkTCPConnectivityFeedback||(t.CheckNetworkTCPConnectivityFeedback={})),t.default=i},23916:(e,t,i)=>{"use strict";var n=t;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=i(85073),n.BufferWriter=i(40944),n.Reader=i(14725),n.BufferReader=i(34852),n.util=i(25414),n.rpc=i(63061),n.roots=i(86575),n.configure=r,r()},24001:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpDeviceControllerWithEventController=void 0;let s=r(i(60087)),o=r(i(10106));class a extends s.default{constructor(e){super(),this.destroyed=!1}destroy(){return n(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(e){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(e){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(e){return Promise.reject()}addDeviceChangeObserver(e){}removeDeviceChangeObserver(e){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(e){}stopVideoPreviewForVideoInput(e){}setDeviceLabelTrigger(e){}mixIntoAudioInput(e){return null}chooseVideoInputQuality(e,t,i){}getVideoInputQualitySettings(){return o.default.VideoDisabled}}t.default=a;class l extends a{constructor(e){super(),this.eventController=e}}t.NoOpDeviceControllerWithEventController=l},24059:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestroyable=void 0,t.isDestroyable=function(e){return e&&"destroy"in e}},24134:(e,t,i)=>{"use strict";i.d(t,{yE:()=>b,Cf:()=>y,lk:()=>v,$Z:()=>g});var n=i(66876),r=i(63067),s=i(74095),o=i(70790);let a=(0,o.f)(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);a.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?(0,o.f)(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):a:null,a.range;var l=i(80927),u=i(34819),d=i(58989),c=i(60671),h=i(27231),f=i(13063),p=i(98322);function m(e,t,i,o,u,d){let c=[[l.R,1,s.Tt],[l.R,5,5*s.Tt],[l.R,15,15*s.Tt],[l.R,30,30*s.Tt],[d,1,s.rR],[d,5,5*s.rR],[d,15,15*s.rR],[d,30,30*s.rR],[u,1,s.JJ],[u,3,3*s.JJ],[u,6,6*s.JJ],[u,12,12*s.JJ],[o,1,s.Nm],[o,2,2*s.Nm],[i,1,s.Fq],[t,1,s.Pv],[t,3,3*s.Pv],[e,1,s.MP]];function h(t,i,o){let l=Math.abs(i-t)/o,u=(0,n.A)(([,,e])=>e).right(c,l);if(u===c.length)return e.every((0,r.sG)(t/s.MP,i/s.MP,o));if(0===u)return a.every(Math.max((0,r.sG)(t,i,o),1));let[d,h]=c[l/c[u-1][2]<c[u][2]/l?u-1:u];return d.every(h)}return[function(e,t,i){let n=t<e;n&&([e,t]=[t,e]);let r=i&&"function"==typeof i.range?i:h(e,t,i),s=r?r.range(e,+t+1):[];return n?s.reverse():s},h]}let[g,v]=m(p.Mb,f.R6,h.Hl,c.TW,d.pz,u.vD),[y,b]=m(p.he,f.Ui,h.YP,c.UA,d.Ag,u.wX)},24374:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=i(67182);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=i(62215);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var s=i(94097);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var o=i(24852);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},24437:(e,t,i)=>{"use strict";function n(e){let{reason:t,children:i}=e;return i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),i(24553)},24647:(e,t,i)=>{"use strict";function n(e,t){e=e.slice();var i,n=0,r=e.length-1,s=e[n],o=e[r];return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),e[n]=t.floor(s),e[r]=t.ceil(o),e}i.d(t,{A:()=>n})},24852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),i=0;i<e.length;)t[i]=e[i],i+=1;return t}return Uint32Array.from(e)}},25092:(e,t,i)=>{"use strict";e.exports=i(23916)},25148:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},25216:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit")},25414:function(e,t,i){"use strict";var n=t;function r(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;++r)void 0!==e[n[r]]&&i||(e[n[r]]=t[n[r]]);return e}function s(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),i&&r(this,i)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=i(89485),n.base64=i(70389),n.EventEmitter=i(98032),n.float=i(39498),n.inquire=i(28645),n.utf8=i(27933),n.pool=i(98296),n.LongBits=i(97978),n.isNode=!!(void 0!==i.g&&i.g&&i.g.process&&i.g.process.versions&&i.g.process.versions.node),n.global=n.isNode&&i.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!!(null!=i&&e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(!!t)},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&void 0!==this[e[i]]&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},25583:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},25708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlurStrengthMapper=void 0;let i={LOW:7,MEDIUM:15,HIGH:30};class n{static getBlurAmount(e,t){if(e<=0)throw Error(`invalid value for blur strength: ${e}`);return Math.round(e*t.height/this.BLUR_STRENGTH_DIVISOR)}}t.BlurStrengthMapper=n,n.BLUR_STRENGTH_DIVISOR=540,t.default=i},25743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{equals(e){return void 0!==e&&this.mid===e.mid&&this.attendeeId===e.attendeeId&&this.streamId===e.streamId&&this.groupId===e.groupId&&this.priority===e.priority&&this.targetBitrateKbps===e.targetBitrateKbps&&this.qualityAdaptationPreference===e.qualityAdaptationPreference}}t.default=i},25804:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward")},25927:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.iterateEvery=t.SuppressedError=t.getRandomValues=t.getFormattedOffset=t.getDefaultAssetSpec=t.toLowerCasePropertyNames=t.isIFramed=t.wait=void 0;let r=n(i(99789));function s(e){return null===e?null:"object"!=typeof e?e:Array.isArray(e)?e.map(s):Object.keys(e).reduce((t,i)=>{let n=e[i],r="object"==typeof n?s(n):n;return t[i.toLowerCase()]=r,t},{})}t.wait=function(e){return new Promise(t=>setTimeout(t,e))},t.isIFramed=function(){var e;try{return(null==(e=window.frameElement)?void 0:e.nodeName)==="IFRAME"||parent!==top}catch(e){return!0}},t.toLowerCasePropertyNames=s,t.getDefaultAssetSpec=function(){let e=r.default.sdkVersionSemVer;return{assetGroup:`sdk-${e.major}.${e.minor}`}},t.getFormattedOffset=function(e){let t=Math.abs(e),i=e<=0?"+":"-",n=Math.floor(t/60).toString().padStart(2,"0"),r=Math.floor(t%60).toString().padStart(2,"0");return`${i}${n}:${r}`},t.getRandomValues=function(e){try{window.crypto.getRandomValues(e)}catch(t){new DataView(e.buffer).setUint32(0,Math.trunc(0x100000000*Math.random()),!0)}};class o extends Error{constructor(e,t,i){var n;super(null!=i?i:`${null!=(n=null==e?void 0:e.message)?n:e}`),this.error=e,this.suppressed=t}}t.SuppressedError=o,t.iterateEvery=function(e,t){let i;if(e){for(let n of e)try{t(n)}catch(e){i=new o(e,i)}if(i)throw i}}},25958:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(75585)),s=n(i(44435));class o{constructor(e,t,i){this.logger=e,this.task=t,this.dependencies=i,this.canceled=!1}name(){return`${this.task.name()} (once)`}cancel(){if(!this.canceled){if(this.dependencies)for(let e of this.dependencies)e.cancel();this.logger.info(`Canceling ${this.name()}`),s.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&s.default.nextTick(()=>this.cancelPromise(Error(`canceling ${this.name()}`)))}}logDependencies(){if(this.logger.getLogLevel()>r.default.INFO||!this.dependencies)return;let e=this.dependencies.filter(e=>e).map(e=>e.name()).join(", ");this.logger.info(`${this.task.name()} waiting for dependencies: ${e}`)}run(){if(this.promise)return this.promise;let e=this.dependencies?Promise.all(this.dependencies.map(e=>null==e?void 0:e.run())):Promise.resolve();return this.logDependencies(),this.ongoing=e.then(()=>this.task.run()),this.promise=new Promise((e,t)=>{this.cancelPromise=t,this.ongoing.then(e).catch(t)})}setParent(e){this.task.setParent(e)}}t.default=o},26420:e=>{"use strict";let t=15,i=852,n=592,r=0,s=1,o=2,a=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),u=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),d=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=(e,c,h,f,p,m,g,v)=>{let y,b,S,w,C,x,k,A,E,M=v.bits,T=0,_=0,P=0,I=0,R=0,O=0,D=0,L=0,N=0,F=0,B=null,V=new Uint16Array(t+1),U=new Uint16Array(t+1),z=null;for(T=0;T<=t;T++)V[T]=0;for(_=0;_<f;_++)V[c[h+_]]++;for(R=M,I=t;I>=1&&0===V[I];I--);if(R>I&&(R=I),0===I)return p[m++]=0x1400000,p[m++]=0x1400000,v.bits=1,0;for(P=1;P<I&&0===V[P];P++);for(R<P&&(R=P),L=1,T=1;T<=t;T++)if(L<<=1,(L-=V[T])<0)return -1;if(L>0&&(e===r||1!==I))return -1;for(T=1,U[1]=0;T<t;T++)U[T+1]=U[T]+V[T];for(_=0;_<f;_++)0!==c[h+_]&&(g[U[c[h+_]]++]=_);if(e===r?(B=z=g,x=20):e===s?(B=a,z=l,x=257):(B=u,z=d,x=0),F=0,_=0,T=P,C=m,O=R,D=0,S=-1,w=(N=1<<R)-1,e===s&&N>i||e===o&&N>n)return 1;for(;;){k=T-D,g[_]+1<x?(A=0,E=g[_]):g[_]>=x?(A=z[g[_]-x],E=B[g[_]-x]):(A=96,E=0),y=1<<T-D,P=b=1<<O;do p[C+(F>>D)+(b-=y)]=k<<24|A<<16|E;while(0!==b);for(y=1<<T-1;F&y;)y>>=1;if(0!==y?(F&=y-1,F+=y):F=0,_++,0==--V[T]){if(T===I)break;T=c[h+g[_]]}if(T>R&&(F&w)!==S){for(0===D&&(D=R),C+=P,L=1<<(O=T-D);O+D<I&&!((L-=V[O+D])<=0);)O++,L<<=1;if(N+=1<<O,e===s&&N>i||e===o&&N>n)return 1;p[S=F&w]=R<<24|O<<16|C-m}}return 0!==F&&(p[C+F]=T-D<<24|4194304),v.bits=R,0}},26667:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],s=(0,n.A)("wand-sparkles",r)},26911:(e,t,i)=>{"use strict";i.d(t,{E:()=>l,n:()=>u});let n={},r=Array(64);for(let e=0,t=65,i=90;e+t<=i;e++){let i=String.fromCharCode(e+t);n[i]=e,r[e]=i}for(let e=0,t=97,i=122;e+t<=i;e++){let i=String.fromCharCode(e+t),s=e+26;n[i]=s,r[s]=i}for(let e=0;e<10;e++){n[e.toString(10)]=e+52;let t=e.toString(10),i=e+52;n[t]=i,r[i]=t}n["+"]=62,r[62]="+",n["/"]=63,r[63]="/";let s=6,o=8,a=63,l=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;let i=new ArrayBuffer(t),r=new DataView(i);for(let t=0;t<e.length;t+=4){let i=0,a=0;for(let r=t,o=t+3;r<=o;r++)if("="!==e[r]){if(!(e[r]in n))throw TypeError(`Invalid character ${e[r]} in base64 string.`);i|=n[e[r]]<<(o-r)*s,a+=s}else i>>=s;let l=t/4*3;i>>=a%o;let u=Math.floor(a/o);for(let e=0;e<u;e++){let t=(u-e-1)*o;r.setUint8(l+e,(i&255<<t)>>t)}}return new Uint8Array(i)};function u(e){let t="";for(let i=0;i<e.length;i+=3){let n=0,l=0;for(let t=i,r=Math.min(i+3,e.length);t<r;t++)n|=e[t]<<(r-t-1)*o,l+=o;let u=Math.ceil(l/s);n<<=u*s-l;for(let e=1;e<=u;e++){let i=(u-e)*s;t+=r[(n&a<<i)>>i]}t+="==".slice(0,4-u)}return t}},27012:(e,t,i)=>{"use strict";function n(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}i.d(t,{A:()=>n}),Array.prototype.slice},27187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}t.default=i},27231:(e,t,i)=>{"use strict";i.d(t,{AB:()=>a,Hl:()=>p,Mo:()=>d,YP:()=>o,pT:()=>y,rt:()=>m});var n=i(70790),r=i(74095);function s(e){return(0,n.f)(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r.rR)/r.Fq)}let o=s(0),a=s(1),l=s(2),u=s(3),d=s(4),c=s(5),h=s(6);function f(e){return(0,n.f)(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/r.Fq)}o.range,a.range,l.range,u.range,d.range,c.range,h.range;let p=f(0),m=f(1),g=f(2),v=f(3),y=f(4),b=f(5),S=f(6);p.range,m.range,g.range,v.range,y.range,b.range,S.range},27454:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(10106)),o=r(i(64879)),a=r(i(86007)),l=r(i(68590)),u=r(i(44435)),d=i(36243),c=r(i(68166)),h=r(i(62274)),f=r(i(2298));class p{constructor(e,t,i){this.mediaStreamBroker=e,this.contentAudioVideo=t,this.attendeeAudioVideo=i,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}static createContentShareMeetingSessionConfigure(e){let t=new o.default;return t.meetingId=e.meetingId,t.externalMeetingId=e.externalMeetingId,t.urls=e.urls,t.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender,t.credentials=new a.default,t.credentials.attendeeId=e.credentials.attendeeId+f.default.Modality,t.credentials.externalUserId=e.credentials.externalUserId,t.credentials.joinToken=e.credentials.joinToken+f.default.Modality,t.meetingFeatures=e.meetingFeatures.clone(),t.videoDownlinkBandwidthPolicy=new c.default,t}setContentAudioProfile(e){this.contentAudioVideo.setAudioProfile(e)}enableSimulcastForContentShare(e,t){e?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new h.default(this.contentAudioVideo.logger,t)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(e){e?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(e){return n(this,void 0,void 0,function*(){if(e){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===s.default.VideoDisabled)return void this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");this.mediaStreamBroker.mediaStream=e;for(let e=0;e<this.mediaStreamBroker.mediaStream.getTracks().length;e++)this.mediaStreamBroker.mediaStream.getTracks()[e].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(e,t){return n(this,void 0,void 0,function*(){let i=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(e,t);return yield this.startContentShare(i),i})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(e=>{d.Maybe.of(e.contentShareDidPause).map(t=>t.call(e))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(e=>{d.Maybe.of(e.contentShareDidUnpause).map(t=>t.call(e))})}setContentShareVideoCodecPreferences(e){this.contentAudioVideo.setVideoCodecSendPreferences(e)}destroy(){return n(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(e){this.observerQueue.add(e)}removeContentShareObserver(e){this.observerQueue.delete(e)}forEachContentShareObserver(e){for(let t of this.observerQueue)u.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}audioVideoDidStart(){var e;(null==(e=this.mediaStreamBroker.mediaStream)?void 0:e.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(e){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(e=>{d.Maybe.of(e.contentShareDidStop).map(t=>t.call(e))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((e,t,i,n)=>{let r=new l.default(e).hasModality(l.default.MODALITY_CONTENT),s=new l.default(e).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!r||!s||!t||this.contentShareTile)return;let o=this.mediaStreamBroker.mediaStream;if(null==o?void 0:o.getVideoTracks().length){let e,t;this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();let i=o.getVideoTracks()[0];if(i.getSettings){let n=i.getSettings();e=n.width,t=n.height}else{let n=i.getCapabilities();e=n.width,t=n.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,o,e,t,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(e=>{d.Maybe.of(e.contentShareDidStart).map(t=>t.call(e))})})}}t.default=p},27471:(e,t,i)=>{"use strict";function n(e,t){if((r=e.length)>1)for(var i,n,r,s=1,o=e[t[0]],a=o.length;s<r;++s)for(n=o,o=e[t[s]],i=0;i<a;++i)o[i][1]+=o[i][0]=isNaN(n[i][1])?n[i][0]:n[i][1]}i.d(t,{A:()=>n})},27607:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(87644));class s extends r.default{constructor(e){super(e),this.name="TypeError"}}t.default=s},27933:(e,t)=>{"use strict";var i=t;i.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:(64512&i)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},i.read=function(e,t,i){if(i-t<1)return"";for(var n,r=null,s=[],o=0;t<i;)(n=e[t++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,s)),o=0);return r?(o&&r.push(String.fromCharCode.apply(String,s.slice(0,o))),r.join("")):String.fromCharCode.apply(String,s.slice(0,o))},i.write=function(e,t,i){for(var n,r,s=i,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:((64512&n)==55296&&(64512&(r=e.charCodeAt(o+1)))==56320?(n=65536+((1023&n)<<10)+(1023&r),++o,t[i++]=n>>18|240,t[i++]=n>>12&63|128):t[i++]=n>>12|224,t[i++]=n>>6&63|128),t[i++]=63&n|128);return i-s}},28205:e=>{"use strict";let t=16209,i=16191;e.exports=function(e,n){let r,s,o,a,l,u,d,c,h,f,p,m,g,v,y,b,S,w,C,x,k,A,E,M,T=e.state;r=e.next_in,E=e.input,s=r+(e.avail_in-5),o=e.next_out,M=e.output,a=o-(n-e.avail_out),l=o+(e.avail_out-257),u=T.dmax,d=T.wsize,c=T.whave,h=T.wnext,f=T.window,p=T.hold,m=T.bits,g=T.lencode,v=T.distcode,y=(1<<T.lenbits)-1,b=(1<<T.distbits)-1;t:do for(m<15&&(p+=E[r++]<<m,m+=8,p+=E[r++]<<m,m+=8),S=g[p&y];;){if(p>>>=w=S>>>24,m-=w,0==(w=S>>>16&255))M[o++]=65535&S;else if(16&w)for(C=65535&S,(w&=15)&&(m<w&&(p+=E[r++]<<m,m+=8),C+=p&(1<<w)-1,p>>>=w,m-=w),m<15&&(p+=E[r++]<<m,m+=8,p+=E[r++]<<m,m+=8),S=v[p&b];;){if(p>>>=w=S>>>24,m-=w,16&(w=S>>>16&255)){if(x=65535&S,m<(w&=15)&&(p+=E[r++]<<m,(m+=8)<w&&(p+=E[r++]<<m,m+=8)),(x+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",T.mode=t;break t}if(p>>>=w,m-=w,x>(w=o-a)){if((w=x-w)>c&&T.sane){e.msg="invalid distance too far back",T.mode=t;break t}if(k=0,A=f,0===h){if(k+=d-w,w<C){C-=w;do M[o++]=f[k++];while(--w);k=o-x,A=M}}else if(h<w){if(k+=d+h-w,(w-=h)<C){C-=w;do M[o++]=f[k++];while(--w);if(k=0,h<C){C-=w=h;do M[o++]=f[k++];while(--w);k=o-x,A=M}}}else if(k+=h-w,w<C){C-=w;do M[o++]=f[k++];while(--w);k=o-x,A=M}for(;C>2;)M[o++]=A[k++],M[o++]=A[k++],M[o++]=A[k++],C-=3;C&&(M[o++]=A[k++],C>1&&(M[o++]=A[k++]))}else{k=o-x;do M[o++]=M[k++],M[o++]=M[k++],M[o++]=M[k++],C-=3;while(C>2);C&&(M[o++]=M[k++],C>1&&(M[o++]=M[k++]))}}else if((64&w)==0){S=v[(65535&S)+(p&(1<<w)-1)];continue}else{e.msg="invalid distance code",T.mode=t;break t}break}else if((64&w)==0){S=g[(65535&S)+(p&(1<<w)-1)];continue}else if(32&w){T.mode=i;break t}else{e.msg="invalid literal/length code",T.mode=t;break t}break}while(r<s&&o<l);r-=C=m>>3,m-=C<<3,p&=(1<<m)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<l?257+(l-o):257-(o-l),T.hold=p,T.bits=m}},28645:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},29184:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,i(90643).__exportStar(i(82648),t);var n=i(80959);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return n.Sha256}});var r=i(47036);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return r.Sha256}})},29311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{create(){let e={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{e.paused=!0},play:()=>(e.paused=!1,Promise.resolve())};return e}}t.default=i},29562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},29826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.queue=Promise.resolve()}add(e){return new Promise((t,i)=>{this.queue=this.queue.then(e).then(t).catch(i)})}}t.default=i},29841:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(34824),o=r(i(23521)),a=i(96119),l=r(i(76234));class u extends l.default{constructor(e,t,i){super(e.logger),this.context=e,this.credentials=t,this.completionCallback=i,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return n(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new s.MeetingSessionStatus(s.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((e,t)=>{class i{constructor(e,t,i){this.signalingClient=e,this.completionCallback=t,this.logger=i}cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new s.MeetingSessionStatus(s.MeetingSessionStatusCode.SignalingRequestFailed)),e()}handleSignalingClientEvent(t){t.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new s.MeetingSessionStatus(s.MeetingSessionStatusCode.SignalingRequestFailed)),e()),t.type===o.default.ReceivedSignalFrame&&t.message.type===a.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(s.MeetingSessionStatus.fromSignalFrame(t.message)),e())}}let n=new i(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}}t.default=u},29919:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let a=o(i(2309)),l=o(i(48)),u=o(i(12741)),d=o(i(2298)),c=i(75585),h=s(i(19408)),f=o(i(25583)),p=o(i(11218)),m=o(i(30712)),g=o(i(89497)),v=o(i(90543)),y=i(50492),b=o(i(30253)),S=o(i(91719));class w{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}}class C{constructor(e,t=b.default.Default){this.logger=e,this.videoPriorityBasedPolicyConfig=t,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption===h.default.Default&&(this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=h.default.BandwidthProbingAndRemoteVideoQualityAdaption),this.reset()}reset(){this.allHighestPolicy=new m.default(""),this.optimalReceiveSet=new p.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new p.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new p.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=C.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=C.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new w,this.prevDownlinkStats=new w,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(e){this.tileController=e,this.logger.info("tileController bound")}setWantsResubscribeObserver(e){this.wantsResubscribeObserver=e}chooseRemoteVideoSources(e){var t;if(null==(t=this.videoPreferences)||!t.equals(e)){if(this.videoPreferences=null==e?void 0:e.clone(),!h.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,void 0!==this.wantsResubscribeObserver&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===h.default.BandwidthProbingAndRemoteVideoQualityAdaption)){let e=[];for(let t of this.videoPreferences){let i=new f.default;i.attendee=new a.default,i.attendee.attendeeId=t.attendeeId,e.push(i)}this.allHighestPolicy.chooseRemoteVideoSources(e);return}this.videoPreferencesUpdated=!0,this.logger.info(`bwe: setVideoPreferences bwe: new preferences: ${JSON.stringify(e)}`)}}updateIndex(e){this.videoIndex=e,this.serverSideNetworkAdaption===h.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(e),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){let e=new Set;for(let t of this.videoIndex.remoteStreamDescriptions())e.add(t.attendeeId);let t=y.VideoPreferences.prepare(),i=e.size,n=g.default.Maximum;for(let r of(i>8?n=g.default.Low:i>4&&(n=g.default.Medium),e))t.add(new v.default(r,1,n));this.defaultVideoPreferences=t.build()}updateMetrics(e){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new w;let t=e.getObservableMetrics();for(let i in this.downlinkStats.bandwidthEstimateKbps=t.availableIncomingBitrate/1e3,e.streamMetricReports){let t=Number.parseInt(i,10),n=e.streamMetricReports[t];n.direction===l.default.DOWNSTREAM&&n.mediaType===u.default.VIDEO&&(n.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=e.countPerSecond("nackCount",t)),n.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=e.countPerSecond("packetsLost",t)),n.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=e.bitsPerSecond("bytesReceived",t)/1e3))}}wantsResubscribe(){let e=!1;return h.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)||(e||(e=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption!==h.default.BandwidthProbingAndRemoteVideoQualityAdaption)?(this.calculateOptimalReceiveSet(),e||(e=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),e):e||this.allHighestPolicy.wantsResubscribe()}chooseSubscriptions(){return h.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)||(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption!==h.default.BandwidthProbingAndRemoteVideoQualityAdaption)?(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone()):this.allHighestPolicy.chooseSubscriptions()}addObserver(e){this.observerQueue.add(e)}removeObserver(e){this.observerQueue.delete(e)}forEachObserver(e){for(let t of this.observerQueue)e(t)}setVideoPriorityBasedPolicyConfigs(e){this.videoPriorityBasedPolicyConfig=e}calculateOptimalReceiveStreams(){var e;let t=[],i=this.videoIndex.remoteStreamDescriptions();if(0===i.length||(null==(e=this.videoPreferences)?void 0:e.isEmpty())){this.optimalReceiveStreams=[];return}let n=this.rateProbeState;this.cleanBwPausedTiles(i),this.handleAppPausedStreams(t,i);let r=new Map;for(let e of this.getCurrentVideoPreferences())r.set(e.attendeeId,e);let s=i.filter(e=>r.has(e.attendeeId)),o=!this.streamsWithPreferenceDidChange(s),a=!this.startupPeriod&&o;if(a&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;for(let e of(s.sort((e,t)=>e.maxBitrateKbps===t.maxBitrateKbps?e.streamId-t.streamId:e.maxBitrateKbps-t.maxBitrateKbps),s))(0===e.avgBitrateKbps||e.avgBitrateKbps>e.maxBitrateKbps)&&(e.attendeeId.endsWith(d.default.Modality)&&e.maxBitrateKbps<100?e.maxBitrateKbps=e.avgBitrateKbps:e.avgBitrateKbps=e.maxBitrateKbps);let l=new Set;for(let e of this.getCurrentVideoPreferences()){let t,i=s.filter(t=>t.attendeeId===e.attendeeId);if(i.length<3)continue;let n=15,r=153600;for(let s of(i.forEach(e=>{n=Math.max(n,e.maxFrameRate),r=Math.max(r,e.totalPixels())}),i.sort((t,i)=>{if(e.degradationPreference===S.default.MaintainResolution)return 2>Math.abs(t.maxFrameRate-i.maxFrameRate)?t.totalPixels()-i.totalPixels():t.maxFrameRate-i.maxFrameRate;if(e.degradationPreference===S.default.MaintainFramerate)return t.totalPixels()===i.totalPixels()?t.maxFrameRate-i.maxFrameRate:t.totalPixels()-i.totalPixels();{let e=5,s=2,o=t=>t.avgBitrateKbps*Math.pow(2,e*t.maxFrameRate/n*Math.pow(2*s,t.totalPixels()/r));return o(t)-o(i)}}),i)){if(void 0!==t&&(s.maxFrameRate<t.maxFrameRate&&Math.abs(t.maxFrameRate-s.maxFrameRate)>2||s.totalPixels()<t.totalPixels())){l.add(s.streamId);continue}t=s}}let u=s.filter(e=>!l.has(e.streamId));this.logger.info(`Filtered to ${JSON.stringify(u)}`);let f={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};f.targetDownlinkBitrate=this.determineTargetRate();let p=this.subscribedReceiveSet.size(),m=this.downlinkStats.bandwidthEstimateKbps,g=!this.videoPriorityBasedPolicyConfig.allowSubscribe(p,m);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=C.MIN_TIME_BETWEEN_SUBSCRIBE_MS,a&&g))return;let v=this.priorityPolicy(f,u,t),y=!h.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption),b=0;if(y||this.startupPeriod||!o?(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0):"Probing"===this.rateProbeState?b=this.handleProbe(t,f.targetDownlinkBitrate):0!==f.deltaToNextUpgrade&&(b=this.maybeOverrideOrProbe(t,f,v)),this.previousStreamsWithPreference=s,this.videoPreferencesUpdated=!1,1===b){this.logger.info(`bwe: keepSameSubscriptions stats:${JSON.stringify(this.downlinkStats)}`),this.prevTargetRateKbps=f.targetDownlinkBitrate;return}if(2===b){let e=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(s,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+e);return}this.optimalNonPausedReceiveStreams=t.slice();let w=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(s,t),this.logger.getLogLevel()<=c.LogLevel.INFO&&(this.logCount%15==0||this.rateProbeState!==n||this.optimalReceiveStreams.length!==t.length||w!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(i,f.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=f.targetDownlinkBitrate,this.optimalReceiveStreams=t.slice()}calculateOptimalReceiveSet(){let e=new p.default;for(let t of(this.calculateOptimalReceiveStreams(),this.optimalReceiveStreams))e.add(t.streamId);if(!this.optimalReceiveSet.equal(e)){let t=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info(`bwe: new streamSelection: ${JSON.stringify(e)} subscribedRate:${t}`)}this.optimalReceiveSet=e}determineTargetRate(){let e=0,t=Date.now();return 0!==this.downlinkStats.bandwidthEstimateKbps?(0===this.firstEstimateTimestamp&&(this.firstEstimateTimestamp=t),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>C.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||t-this.firstEstimateTimestamp>C.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?e=C.DEFAULT_BANDWIDTH_KBPS:"Probing"===this.rateProbeState&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<C.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info(`bwe: In probe state, overriding estimate ${this.downlinkStats.bandwidthEstimateKbps} with actual receive bitrate ${this.downlinkStats.usedBandwidthKbps}`),e=this.downlinkStats.usedBandwidthKbps+C.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):e=this.downlinkStats.bandwidthEstimateKbps):e=0===this.firstEstimateTimestamp?C.DEFAULT_BANDWIDTH_KBPS:this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-C.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*C.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&0===this.downlinkStats.packetsLost?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,e=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,e>15e3&&this.logger.warn("bwe: "+e+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(e,15e3)}setProbeState(e){if(this.rateProbeState===e)return!1;let t=Date.now();switch(e){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(0!==this.lastProbeTimestamp&&!(t-this.lastProbeTimestamp>C.MIN_TIME_BETWEEN_PROBE_MS))return!1;this.probePendingStartTimestamp=t;break;case"Probing":if(!(t-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs))return!1;this.lastProbeTimestamp=t,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(2*this.timeBeforeAllowProbeMs,C.MAX_HOLD_BEFORE_PROBE_MS)}return this.logger.info("bwe: setProbeState to "+e+" from "+this.rateProbeState),this.rateProbeState=e,!0}upgradeToStream(e,t){for(let i=0;i<e.length;i++)if(e[i].groupId===t.groupId){let n=t.avgBitrateKbps-e[i].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(e[i])+" to "+t),this.lastUpgradeRateKbps=n,e[i]=t,n}return e.push(t),this.lastUpgradeRateKbps=t.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(e,t){if(Date.now()-this.lastProbeTimestamp>C.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info(`bwe: Probe encountering packets lost:${this.downlinkStats.packetsLost}`),this.downlinkStats.packetsLost>C.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info(`bwe: Canceling probe due to packets lost:${this.downlinkStats.packetsLost}`),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=3*Math.max(C.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs),2;let i=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(e)||t>i?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=C.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(e,t,i){let n=this.chosenStreamsSameAsLast(e),r=0,s=t.targetDownlinkBitrate>C.LOW_BITRATE_THRESHOLD_KBPS?C.TARGET_RATE_CHANGE_TRIGGER_PERCENT:2*C.TARGET_RATE_CHANGE_TRIGGER_PERCENT,o=t.targetDownlinkBitrate*s/100;if(this.targetRateBaselineForDeltaCheckKbps=void 0!==this.targetRateBaselineForDeltaCheckKbps?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!n&&Math.abs(t.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<o?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),r=1):this.targetRateBaselineForDeltaCheckKbps=t.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,r;if(n||1===r)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(e,i),r=0)}else this.setProbeState("Not Probing");return r}calculateSubscribeRate(e){let t=0;for(let i of e)this.pausedStreamIds.contain(i.streamId)||this.pausedBwAttendeeIds.has(i.attendeeId)||(t+=i.maxBitrateKbps);return t}handleAppPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");for(let i of(this.pausedStreamIds=new p.default,this.tileController.getAllRemoteVideoTiles())){let n=i.state();if(n.paused&&!this.pausedBwAttendeeIds.has(n.boundAttendeeId)){let i=t.length;for(;i--;)t[i].attendeeId===n.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+n.boundAttendeeId+" streamId: "+t[i].streamId),this.pausedStreamIds.add(t[i].streamId),this.subscribedReceiveSet.contain(t[i].streamId)&&e.push(t[i]),t.splice(i,1))}}}processBwPausedStreams(e,t){if(!this.tileController)return void this.logger.warn("tileController not found!");let i=this.getCurrentVideoPreferences();if(i&&this.shouldPauseTiles){let n=this.tileController.getAllVideoTiles();for(let r of i){let i=this.getVideoTileForAttendeeId(r.attendeeId,n),s=(null==i?void 0:i.state().paused)||!1;if(t.some(e=>e.attendeeId===r.attendeeId))s&&this.pausedBwAttendeeIds.has(r.attendeeId)&&(this.logger.info(`bwe: unpausing attendee ${r.attendeeId} due to bandwidth`),this.forEachObserver(e=>{e.tileWillBeUnpausedByDownlinkPolicy(i.id())}),this.tileController.unpauseVideoTile(i.id()),this.pausedBwAttendeeIds.delete(r.attendeeId));else{let n=e.some(e=>e.attendeeId===r.attendeeId);if(i&&n){let e=this.optimalReceiveStreams.find(e=>e.attendeeId===r.attendeeId);void 0!==e&&(s||(this.logger.info(`bwe: pausing streamId ${e.streamId} attendee ${r.attendeeId} due to bandwidth`),this.forEachObserver(e=>{e.tileWillBePausedByDownlinkPolicy(i.id())}),this.tileController.pauseVideoTile(i.id())),t.push(e)),this.pausedBwAttendeeIds.add(r.attendeeId)}else if(n){let e=this.tileController.addVideoTile();e.bindVideoStream(r.attendeeId,!1,null,0,0,0,null),this.forEachObserver(t=>{t.tileWillBePausedByDownlinkPolicy(e.id())}),e.pause(),this.logger.info(`bwe: Created video tile ${e.id()} for bw paused attendee ${r.attendeeId}`),this.pausedBwAttendeeIds.add(r.attendeeId)}}}}}cleanBwPausedTiles(e){if(!this.tileController)return void this.logger.warn("tileController not found!");let t=this.tileController.getAllRemoteVideoTiles(),i=this.getCurrentVideoPreferences();for(let n of t){let t=n.state();!t.boundVideoStream&&(e.some(e=>e.attendeeId===t.boundAttendeeId)?void 0===i||i.some(e=>e.attendeeId===t.boundAttendeeId)||this.tileController.removeVideoTile(t.tileId):(this.tileController.removeVideoTile(t.tileId),this.logger.info(`bwe: Removed video tile ${t.tileId} for bw paused attendee ${t.boundAttendeeId}`)))}}priorityPolicy(e,t,i){let n,r,s=this.getCurrentVideoPreferences(),o=s.highestPriority(),a=o;for(;-1!==a;){for(let o of(r=-1,s))if(o.priority===a)for(let r of t)r.attendeeId!==o.attendeeId||i.some(e=>e.groupId===r.groupId)||(e.chosenTotalBitrate+r.avgBitrateKbps<=e.targetDownlinkBitrate?(i.push(r),e.chosenTotalBitrate+=r.avgBitrateKbps):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=r.avgBitrateKbps,n=r));else if(o.priority>a){r=o.priority;break}for(let r of s)if(r.priority===a){for(let s of t)if(s.attendeeId===r.attendeeId){let o=i.findIndex(e=>e.groupId===s.groupId&&e.maxBitrateKbps<=s.maxBitrateKbps&&e.avgBitrateKbps<s.avgBitrateKbps);if(-1!==o){let a=s.avgBitrateKbps-i[o].avgBitrateKbps;this.hasSimulcastStreams(t,s.attendeeId,s.groupId)&&this.canUpgrade(s.avgBitrateKbps,r.targetSize,r.targetSizeToBitrateKbps(r.targetSize),s.attendeeId.endsWith(d.default.Modality))?(this.logger.info(`bwe: attendee: ${s.attendeeId} group: ${s.groupId} has simulcast and can upgrade avgBitrate: ${s.avgBitrateKbps} target: ${r.targetSizeToBitrateKbps(r.targetSize)} targetTotalBitrate: ${e.targetDownlinkBitrate}`),e.chosenTotalBitrate+a<=e.targetDownlinkBitrate?(e.chosenTotalBitrate+=a,i[o]=s):0===e.deltaToNextUpgrade&&(e.deltaToNextUpgrade=a,n=s)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(r.priority>a)break;if(a===o&&0!==e.deltaToNextUpgrade)break;a=r}return n}getVideoTileForAttendeeId(e,t){for(let i of t)if(i.state().boundAttendeeId===e)return i;return null}canUpgrade(e,t,i,n){let r=!1;return(t===g.default.High||!n&&e<=i?r=!0:n&&t===g.default.Medium&&e<=i&&(r=!0),r)?(this.logger.info(`bwe: canUpgrade: bitrateKbps: ${e} targetBitrateKbps: ${i}`),!0):(this.logger.info(`bwe: cannot Upgrade: bitrateKbps: ${e} targetBitrateKbps: ${i}`),!1)}hasSimulcastStreams(e,t,i){let n=0;for(let r of e)r.attendeeId===t&&r.groupId===i&&n++;return this.logger.info(`bwe: attendeeId: ${t} groupId: ${i} hasSimulcastStreams: streamCount: ${n}`),n>1}streamsWithPreferenceDidChange(e){if(void 0===this.previousStreamsWithPreference||e.length!==this.previousStreamsWithPreference.length||!0===this.videoPreferencesUpdated)return!0;for(let t of e)if(void 0===this.previousStreamsWithPreference.find(e=>e.groupId===t.groupId&&e.streamId===t.streamId&&e.maxBitrateKbps===t.maxBitrateKbps))return!0;return!1}chosenStreamsSameAsLast(e){if(this.optimalNonPausedReceiveStreams.length!==e.length)return!1;for(let t of this.optimalNonPausedReceiveStreams)if(!e.some(e=>e.streamId===t.streamId))return!1;return!0}policyStateLogStr(e,t){let i={targetBitrate:t,subscribedRate:this.calculateSubscribeRate(this.optimalReceiveStreams),probeState:this.rateProbeState,startupPeriod:this.startupPeriod},n="remoteInfos: [";for(let t of e)n+=`{grpId:${t.groupId} strId:${t.streamId} maxBr:${t.maxBitrateKbps} avgBr:${t.avgBitrateKbps}}, `;n+="]";let r=`bwe: optimalReceiveSet ${JSON.stringify(i)}
bwe:   prev ${JSON.stringify(this.prevDownlinkStats)}
bwe:   now  ${JSON.stringify(this.downlinkStats)}
bwe:   ${n}
`;return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(r+=`bwe:   paused: app stream ids ${JSON.stringify(this.pausedStreamIds)}  bw attendees { ${Array.from(this.pausedBwAttendeeIds).join(" ")} }
`),this.videoPreferences?r+=`bwe:   preferences: ${JSON.stringify(this.videoPreferences)}`:r+=`bwe:   default preferences: ${JSON.stringify(this.defaultVideoPreferences)}`,r}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(e){this.serverSideNetworkAdaption=e,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[h.default.None,h.default.BandwidthProbing,h.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let e=this.getCurrentVideoPreferences();return e||(e=y.VideoPreferences.prepare().build()),e}wantsAllTemporalLayersInIndex(){return!0}}t.default=C,C.DEFAULT_BANDWIDTH_KBPS=2800,C.STARTUP_PERIOD_MS=6e3,C.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20,C.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15,C.LOW_BITRATE_THRESHOLD_KBPS=300,C.MIN_TIME_BETWEEN_PROBE_MS=5e3,C.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3,C.MAX_HOLD_BEFORE_PROBE_MS=3e4,C.MAX_ALLOWED_PROBE_TIME_MS=6e4,C.SPURIOUS_PACKET_LOST_THRESHOLD=2,C.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100},30071:(e,t,i)=>{"use strict";function n(e,t,i){e*=1,t*=1,i=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((t-e)/i)),s=Array(r);++n<r;)s[n]=e+n*i;return s}i.d(t,{A:()=>o,z:()=>l});var r=i(6256),s=i(21533);function o(){var e,t,i=(0,s.A)().unknown(void 0),a=i.domain,l=i.range,u=0,d=1,c=!1,h=0,f=0,p=.5;function m(){var i=a().length,r=d<u,s=r?d:u,o=r?u:d;e=(o-s)/Math.max(1,i-h+2*f),c&&(e=Math.floor(e)),s+=(o-s-e*(i-h))*p,t=e*(1-h),c&&(s=Math.round(s),t=Math.round(t));var m=n(i).map(function(t){return s+e*t});return l(r?m.reverse():m)}return delete i.unknown,i.domain=function(e){return arguments.length?(a(e),m()):a()},i.range=function(e){return arguments.length?([u,d]=e,u*=1,d*=1,m()):[u,d]},i.rangeRound=function(e){return[u,d]=e,u*=1,d*=1,c=!0,m()},i.bandwidth=function(){return t},i.step=function(){return e},i.round=function(e){return arguments.length?(c=!!e,m()):c},i.padding=function(e){return arguments.length?(h=Math.min(1,f=+e),m()):h},i.paddingInner=function(e){return arguments.length?(h=Math.min(1,e),m()):h},i.paddingOuter=function(e){return arguments.length?(f=+e,m()):f},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),m()):p},i.copy=function(){return o(a(),[u,d]).round(c).paddingInner(h).paddingOuter(f).align(p)},r.C.apply(m(),arguments)}function a(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a(t())},e}function l(){return a(o.apply(null,arguments).paddingInner(1))}},30218:(e,t,i)=>{"use strict";i.d(t,{NP:()=>tV,DU:()=>tX,AH:()=>t$,Ay:()=>tG,i7:()=>tY});var n=function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;function r(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError;var s=i(12115),o=i(51711),a=i.n(o),l="-ms-",u="-moz-",d="-webkit-",c="comm",h="rule",f="decl",p="@import",m="@keyframes",g="@layer",v=Math.abs,y=String.fromCharCode,b=Object.assign;function S(e,t){return 45^A(e,0)?(((t<<2^A(e,0))<<2^A(e,1))<<2^A(e,2))<<2^A(e,3):0}function w(e){return e.trim()}function C(e,t){return(e=t.exec(e))?e[0]:e}function x(e,t,i){return e.replace(t,i)}function k(e,t,i){return e.indexOf(t,i)}function A(e,t){return 0|e.charCodeAt(t)}function E(e,t,i){return e.slice(t,i)}function M(e){return e.length}function T(e){return e.length}function _(e,t){return t.push(e),e}function P(e,t){return e.map(t).join("")}function I(e,t){return e.filter(function(e){return!C(e,t)})}var R=1,O=1,D=0,L=0,N=0,F="";function B(e,t,i,n,r,s,o,a){return{value:e,root:t,parent:i,type:n,props:r,children:s,line:R,column:O,length:o,return:"",siblings:a}}function V(e,t){return b(B("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function U(e){for(;e.root;)e=V(e.root,{children:[e]});_(e,e.siblings)}function z(){return N}function j(){return N=L>0?A(F,--L):0,O--,10===N&&(O=1,R--),N}function H(){return N=L<D?A(F,L++):0,O++,10===N&&(O=1,R++),N}function $(){return A(F,L)}function W(){return L}function q(e,t){return E(F,e,t)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K(e){return R=O=1,D=M(F=e),L=0,[]}function X(e){return F="",e}function Y(e){return w(q(L-1,Z(91===e?e+2:40===e?e+1:e)))}function J(e){for(;N=$();)if(N<33)H();else break;return G(e)>2||G(N)>3?"":" "}function Q(e,t){for(;--t&&H()&&!(N<48)&&!(N>102)&&(!(N>57)||!(N<65))&&(!(N>70)||!(N<97)););return q(e,W()+(t<6&&32==$()&&32==H()))}function Z(e){for(;H();)switch(N){case e:return L;case 34:case 39:34!==e&&39!==e&&Z(N);break;case 40:41===e&&Z(e);break;case 92:H()}return L}function ee(e,t){for(;H();)if(e+N===57)break;else if(e+N===84&&47===$())break;return"/*"+q(t,L-1)+"*"+y(47===e?e:H())}function et(e){for(;!G($());)H();return q(e,L)}function ei(e,t){for(var i="",n=0;n<e.length;n++)i+=t(e[n],n,e,t)||"";return i}function en(e,t,i,n){switch(e.type){case g:if(e.children.length)break;case p:case f:return e.return=e.return||e.value;case c:return"";case m:return e.return=e.value+"{"+ei(e.children,n)+"}";case h:if(!M(e.value=e.props.join(",")))return""}return M(i=ei(e.children,n))?e.return=e.value+"{"+i+"}":""}function er(e,t,i){switch(S(e,t)){case 5103:return d+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return d+e+e;case 4789:return u+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return d+e+u+e+l+e+e;case 5936:switch(A(e,t+11)){case 114:return d+e+l+x(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return d+e+l+x(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return d+e+l+x(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return d+e+l+e+e;case 6165:return d+e+l+"flex-"+e+e;case 5187:return d+e+x(e,/(\w+).+(:[^]+)/,d+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return d+e+l+"flex-item-"+x(e,/flex-|-self/g,"")+(C(e,/flex-|baseline/)?"":l+"grid-row-"+x(e,/flex-|-self/g,""))+e;case 4675:return d+e+l+"flex-line-pack"+x(e,/align-content|flex-|-self/g,"")+e;case 5548:return d+e+l+x(e,"shrink","negative")+e;case 5292:return d+e+l+x(e,"basis","preferred-size")+e;case 6060:return d+"box-"+x(e,"-grow","")+d+e+l+x(e,"grow","positive")+e;case 4554:return d+x(e,/([^-])(transform)/g,"$1"+d+"$2")+e;case 6187:return x(x(x(e,/(zoom-|grab)/,d+"$1"),/(image-set)/,d+"$1"),e,"")+e;case 5495:case 3959:return x(e,/(image-set\([^]*)/,d+"$1$`$1");case 4968:return x(x(e,/(.+:)(flex-)?(.*)/,d+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+d+e+e;case 4200:if(!C(e,/flex-|baseline/))return l+"grid-column-align"+E(e,t)+e;break;case 2592:case 3360:return l+x(e,"template-","")+e;case 4384:case 3616:if(i&&i.some(function(e,i){return t=i,C(e.props,/grid-\w+-end/)}))return~k(e+(i=i[t].value),"span",0)?e:l+x(e,"-start","")+e+l+"grid-row-span:"+(~k(i,"span",0)?C(i,/\d+/):C(i,/\d+/)-C(e,/\d+/))+";";return l+x(e,"-start","")+e;case 4896:case 4128:return i&&i.some(function(e){return C(e.props,/grid-\w+-start/)})?e:l+x(x(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return x(e,/(.+)-inline(.+)/,d+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(M(e)-1-t>6)switch(A(e,t+1)){case 109:if(45!==A(e,t+4))break;case 102:return x(e,/(.+:)(.+)-([^]+)/,"$1"+d+"$2-$3$1"+u+(108==A(e,t+3)?"$3":"$2-$3"))+e;case 115:return~k(e,"stretch",0)?er(x(e,"stretch","fill-available"),t,i)+e:e}break;case 5152:case 5920:return x(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,i,n,r,s,o,a){return l+i+":"+n+a+(r?l+i+"-span:"+(s?o:o-n)+a:"")+e});case 4949:if(121===A(e,t+6))return x(e,":",":"+d)+e;break;case 6444:switch(A(e,45===A(e,14)?18:11)){case 120:return x(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+d+(45===A(e,14)?"inline-":"")+"box$3$1"+d+"$2$3$1"+l+"$2box$3")+e;case 100:return x(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return x(e,"scroll-","scroll-snap-")+e}return e}function es(e){var t=T(e);return function(i,n,r,s){for(var o="",a=0;a<t;a++)o+=e[a](i,n,r,s)||"";return o}}function eo(e){return function(t){!t.root&&(t=t.return)&&e(t)}}function ea(e,t,i,n){if(e.length>-1&&!e.return)switch(e.type){case f:e.return=er(e.value,e.length,i);return;case m:return ei([V(e,{value:x(e.value,"@","@"+d)})],n);case h:if(e.length)return P(i=e.props,function(t){switch(C(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":U(V(e,{props:[x(t,/:(read-\w+)/,":"+u+"$1")]})),U(V(e,{props:[t]})),b(e,{props:I(i,n)});break;case"::placeholder":U(V(e,{props:[x(t,/:(plac\w+)/,":"+d+"input-$1")]})),U(V(e,{props:[x(t,/:(plac\w+)/,":"+u+"$1")]})),U(V(e,{props:[x(t,/:(plac\w+)/,l+"input-$1")]})),U(V(e,{props:[t]})),b(e,{props:I(i,n)})}return""})}}function el(e){return X(eu("",null,null,null,[""],e=K(e),0,[0],e))}function eu(e,t,i,n,r,s,o,a,l){for(var u=0,d=0,c=o,h=0,f=0,p=0,m=1,g=1,b=1,S=0,w="",C=r,E=s,T=n,P=w;g;)switch(p=S,S=H()){case 40:if(108!=p&&58==A(P,c-1)){-1!=k(P+=x(Y(S),"&","&\f"),"&\f",v(u?a[u-1]:0))&&(b=-1);break}case 34:case 39:case 91:P+=Y(S);break;case 9:case 10:case 13:case 32:P+=J(p);break;case 92:P+=Q(W()-1,7);continue;case 47:switch($()){case 42:case 47:_(ec(ee(H(),W()),t,i,l),l);break;default:P+="/"}break;case 123*m:a[u++]=M(P)*b;case 125*m:case 59:case 0:switch(S){case 0:case 125:g=0;case 59+d:-1==b&&(P=x(P,/\f/g,"")),f>0&&M(P)-c&&_(f>32?eh(P+";",n,i,c-1,l):eh(x(P," ","")+";",n,i,c-2,l),l);break;case 59:P+=";";default:if(_(T=ed(P,t,i,u,d,r,a,w,C=[],E=[],c,s),s),123===S)if(0===d)eu(P,t,T,T,C,s,c,a,E);else switch(99===h&&110===A(P,3)?100:h){case 100:case 108:case 109:case 115:eu(e,T,T,n&&_(ed(e,T,T,0,0,r,a,w,r,C=[],c,E),E),r,E,c,a,n?C:E);break;default:eu(P,T,T,T,[""],E,0,a,E)}}u=d=f=0,m=b=1,w=P="",c=o;break;case 58:c=1+M(P),f=p;default:if(m<1){if(123==S)--m;else if(125==S&&0==m++&&125==j())continue}switch(P+=y(S),S*m){case 38:b=d>0?1:(P+="\f",-1);break;case 44:a[u++]=(M(P)-1)*b,b=1;break;case 64:45===$()&&(P+=Y(H())),h=$(),d=c=M(w=P+=et(W())),S++;break;case 45:45===p&&2==M(P)&&(m=0)}}return s}function ed(e,t,i,n,r,s,o,a,l,u,d,c){for(var f=r-1,p=0===r?s:[""],m=T(p),g=0,y=0,b=0;g<n;++g)for(var S=0,C=E(e,f+1,f=v(y=o[g])),k=e;S<m;++S)(k=w(y>0?p[S]+" "+C:x(C,/&\f/g,p[S])))&&(l[b++]=k);return B(e,t,i,0===r?h:a,l,u,d,c)}function ec(e,t,i,n){return B(e,t,i,c,y(z()),E(e,2,-2),0,n)}function eh(e,t,i,n,r){return B(e,t,i,f,E(e,0,n),E(e,n+1,-1),n,r)}var ef={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ep=i(95704),em=void 0!==ep&&void 0!==ep.env&&(ep.env.REACT_APP_SC_ATTR||ep.env.SC_ATTR)||"data-styled",eg="active",ev="data-styled-version",ey="6.1.19",eb="/*!sc*/\n",eS="undefined"!=typeof window&&"undefined"!=typeof document,ew=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==ep&&void 0!==ep.env&&void 0!==ep.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==ep.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==ep.env.REACT_APP_SC_DISABLE_SPEEDY&&ep.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==ep&&void 0!==ep.env&&void 0!==ep.env.SC_DISABLE_SPEEDY&&""!==ep.env.SC_DISABLE_SPEEDY&&"false"!==ep.env.SC_DISABLE_SPEEDY&&ep.env.SC_DISABLE_SPEEDY),eC={},ex=Object.freeze([]),ek=Object.freeze({});function eA(e,t,i){return void 0===i&&(i=ek),e.theme!==i.theme&&e.theme||t||i.theme}var eE=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),eM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eT=/(^-|-$)/g;function e_(e){return e.replace(eM,"-").replace(eT,"")}var eP=/(a)(d)/gi,eI=52,eR=function(e){return String.fromCharCode(e+(e>25?39:97))};function eO(e){var t,i="";for(t=Math.abs(e);t>eI;t=t/eI|0)i=eR(t%eI)+i;return(eR(t%eI)+i).replace(eP,"$1-$2")}var eD,eL=5381,eN=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},eF=function(e){return eN(eL,e)};function eB(e){return eO(eF(e)>>>0)}function eV(e){return e.displayName||e.name||"Component"}function eU(e){return"string"==typeof e}var ez="function"==typeof Symbol&&Symbol.for,ej=ez?Symbol.for("react.memo"):60115,eH=ez?Symbol.for("react.forward_ref"):60112,e$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eG=((eD={})[eH]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eD[ej]=eq,eD);function eK(e){var t;return("type"in(t=e)&&t.type.$$typeof)===ej?eq:"$$typeof"in e?eG[e.$$typeof]:e$}var eX=Object.defineProperty,eY=Object.getOwnPropertyNames,eJ=Object.getOwnPropertySymbols,eQ=Object.getOwnPropertyDescriptor,eZ=Object.getPrototypeOf,e0=Object.prototype;function e1(e,t,i){if("string"!=typeof t){if(e0){var n=eZ(t);n&&n!==e0&&e1(e,n,i)}var r=eY(t);eJ&&(r=r.concat(eJ(t)));for(var s=eK(e),o=eK(t),a=0;a<r.length;++a){var l=r[a];if(!(l in eW||i&&i[l]||o&&l in o||s&&l in s)){var u=eQ(t,l);try{eX(e,l,u)}catch(e){}}}}return e}function e2(e){return"function"==typeof e}function e5(e){return"object"==typeof e&&"styledComponentId"in e}function e3(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function e4(e,t){if(0===e.length)return"";for(var i=e[0],n=1;n<e.length;n++)i+=t?t+e[n]:e[n];return i}function e6(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function e8(e,t,i){if(void 0===i&&(i=!1),!i&&!e6(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=e8(e[n],t[n]);else if(e6(t))for(var n in t)e[n]=e8(e[n],t[n]);return e}function e9(e,t){Object.defineProperty(e,"toString",{value:t})}function e7(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var te=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,n=i.length,r=n;e>=r;)if((r<<=1)<0)throw e7(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var s=n;s<r;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),n=i+t;this.groupSizes[e]=0;for(var r=i;r<n;r++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],n=this.indexOfGroup(e),r=n+i,s=n;s<r;s++)t+="".concat(this.tag.getRule(s)).concat(eb);return t},e}(),tt=new Map,ti=new Map,tn=1,tr=function(e){if(tt.has(e))return tt.get(e);for(;ti.has(tn);)tn++;var t=tn++;return tt.set(e,t),ti.set(t,e),t},ts=function(e,t){tn=t+1,tt.set(e,t),ti.set(t,e)},to="style[".concat(em,"][").concat(ev,'="').concat(ey,'"]'),ta=new RegExp("^".concat(em,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tl=function(e,t,i){for(var n,r=i.split(","),s=0,o=r.length;s<o;s++)(n=r[s])&&e.registerName(t,n)},tu=function(e,t){for(var i,n=(null!=(i=t.textContent)?i:"").split(eb),r=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(ta);if(l){var u=0|parseInt(l[1],10),d=l[2];0!==u&&(ts(d,u),tl(e,d,l[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},td=function(e){for(var t=document.querySelectorAll(to),i=0,n=t.length;i<n;i++){var r=t[i];r&&r.getAttribute(em)!==eg&&(tu(e,r),r.parentNode&&r.parentNode.removeChild(r))}};function tc(){return i.nc}var th=function(e){var t=document.head,i=e||t,n=document.createElement("style"),r=function(e){var t=Array.from(e.querySelectorAll("style[".concat(em,"]")));return t[t.length-1]}(i),s=void 0!==r?r.nextSibling:null;n.setAttribute(em,eg),n.setAttribute(ev,ey);var o=tc();return o&&n.setAttribute("nonce",o),i.insertBefore(n,s),n},tf=function(){function e(e){this.element=th(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,n=t.length;i<n;i++){var r=t[i];if(r.ownerNode===e)return r}throw e7(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),tp=function(){function e(e){this.element=th(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),tm=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),tg=eS,tv={isServer:!eS,useCSSOMInjection:!ew},ty=function(){function e(e,t,i){void 0===e&&(e=ek),void 0===t&&(t={});var r=this;this.options=n(n({},tv),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&eS&&tg&&(tg=!1,td(this)),e9(this,function(){return function(e){for(var t=e.getTag(),i=t.length,n="",r=function(i){var r=function(e){return ti.get(e)}(i);if(void 0===r)return"continue";var s=e.names.get(r),o=t.getGroup(i);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(em,".g").concat(i,'[id="').concat(r,'"]'),l="";void 0!==s&&s.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),n+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(eb)},s=0;s<i;s++)r(s);return n}(r)})}return e.registerId=function(e){return tr(e)},e.prototype.rehydrate=function(){!this.server&&eS&&td(this)},e.prototype.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(n(n({},this.options),t),this.gs,i&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=new te(function(e){var t=e.useCSSOMInjection,i=e.target;return e.isServer?new tm(i):t?new tf(i):new tp(i)}(this.options)))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(tr(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},e.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(tr(e),i)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(tr(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),tb=/&/g,tS=/^\s*\/\/.*$/gm;function tw(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=tw(e.children,t)),e})}function tC(e){var t,i,n,r=void 0===e?ek:e,s=r.options,o=void 0===s?ek:s,a=r.plugins,l=void 0===a?ex:a,u=function(e,n,r){return r.startsWith(i)&&r.endsWith(i)&&r.replaceAll(i,"").length>0?".".concat(t):e},d=l.slice();d.push(function(e){e.type===h&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(tb,i).replace(n,u))}),o.prefix&&d.push(ea),d.push(en);var c=function(e,r,s,a){void 0===r&&(r=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,i=r,n=RegExp("\\".concat(i,"\\b"),"g");var l=e.replace(tS,""),u=el(s||r?"".concat(s," ").concat(r," { ").concat(l," }"):l);o.namespace&&(u=tw(u,o.namespace));var c=[];return ei(u,es(d.concat(eo(function(e){return c.push(e)})))),c};return c.hash=l.length?l.reduce(function(e,t){return t.name||e7(15),eN(e,t.name)},eL).toString():"",c}var tx=new ty,tk=tC(),tA=s.createContext({shouldForwardProp:void 0,styleSheet:tx,stylis:tk}),tE=(tA.Consumer,s.createContext(void 0));function tM(){return(0,s.useContext)(tA)}function tT(e){var t=(0,s.useState)(e.stylisPlugins),i=t[0],n=t[1],r=tM().styleSheet,o=(0,s.useMemo)(function(){var t=r;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,r]),l=(0,s.useMemo)(function(){return tC({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:i})},[e.enableVendorPrefixes,e.namespace,i]);(0,s.useEffect)(function(){a()(i,e.stylisPlugins)||n(e.stylisPlugins)},[e.stylisPlugins]);var u=(0,s.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:l}},[e.shouldForwardProp,o,l]);return s.createElement(tA.Provider,{value:u},s.createElement(tE.Provider,{value:l},e.children))}var t_=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=tk);var n=i.name+t.hash;e.hasNameForId(i.id,n)||e.insertRules(i.id,n,t(i.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,e9(this,function(){throw e7(12,String(i.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=tk),this.name+e.hash},e}(),tP=function(e){return e>="A"&&e<="Z"};function tI(e){for(var t="",i=0;i<e.length;i++){var n=e[i];if(1===i&&"-"===n&&"-"===e[0])return e;tP(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var tR=function(e){return null==e||!1===e||""===e},tO=function(e){var t,i,n=[];for(var s in e){var o=e[s];e.hasOwnProperty(s)&&!tR(o)&&(Array.isArray(o)&&o.isCss||e2(o)?n.push("".concat(tI(s),":"),o,";"):e6(o)?n.push.apply(n,r(r(["".concat(s," {")],tO(o),!1),["}"],!1)):n.push("".concat(tI(s),": ").concat((t=s,null==(i=o)||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||t in ef||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return n};function tD(e,t,i,n){if(tR(e))return[];if(e5(e))return[".".concat(e.styledComponentId)];if(e2(e)){var r;return!e2(r=e)||r.prototype&&r.prototype.isReactComponent||!t?[e]:tD(e(t),t,i,n)}return e instanceof t_?i?(e.inject(i,n),[e.getName(n)]):[e]:e6(e)?tO(e):Array.isArray(e)?Array.prototype.concat.apply(ex,e.map(function(e){return tD(e,t,i,n)})):[e.toString()]}function tL(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(e2(i)&&!e5(i))return!1}return!0}var tN=eF(ey),tF=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&tL(e),this.componentId=t,this.baseHash=eN(tN,t),this.baseStyle=i,ty.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=e3(n,this.staticRulesId);else{var r=e4(tD(this.rules,e,t,i)),s=eO(eN(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=i(r,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}n=e3(n,s),this.staticRulesId=s}else{for(var a=eN(this.baseHash,i.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if("string"==typeof d)l+=d;else if(d){var c=e4(tD(d,e,t,i));a=eN(a,c+u),l+=c}}if(l){var h=eO(a>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,i(l,".".concat(h),void 0,this.componentId)),n=e3(n,h)}}return n},e}(),tB=s.createContext(void 0);function tV(e){var t=s.useContext(tB),i=(0,s.useMemo)(function(){return function(e,t){if(!e)throw e7(14);if(e2(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw e7(8);return t?n(n({},t),e):e}(e.theme,t)},[e.theme,t]);return e.children?s.createElement(tB.Provider,{value:i},e.children):null}tB.Consumer;var tU={};function tz(e,t,i){var r=e5(e),o=e,a=!eU(e),l=t.attrs,u=void 0===l?ex:l,d=t.componentId,c=void 0===d?function(e,t){var i="string"!=typeof e?"sc":e_(e);tU[i]=(tU[i]||0)+1;var n="".concat(i,"-").concat(eB(ey+i+tU[i]));return t?"".concat(t,"-").concat(n):n}(t.displayName,t.parentComponentId):d,h=t.displayName,f=void 0===h?function(e){return eU(e)?"styled.".concat(e):"Styled(".concat(eV(e),")")}(e):h,p=t.displayName&&t.componentId?"".concat(e_(t.displayName),"-").concat(t.componentId):t.componentId||c,m=r&&o.attrs?o.attrs.concat(u).filter(Boolean):u,g=t.shouldForwardProp;if(r&&o.shouldForwardProp){var v=o.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;g=function(e,t){return v(e,t)&&y(e,t)}}else g=v}var b=new tF(i,p,r?o.componentStyle:void 0);function S(e,t){return function(e,t,i){var r=e.attrs,o=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,u=e.styledComponentId,d=e.target,c=s.useContext(tB),h=tM(),f=e.shouldForwardProp||h.shouldForwardProp,p=eA(t,c,a)||ek,m=function(e,t,i){for(var r,s=n(n({},t),{className:void 0,theme:i}),o=0;o<e.length;o+=1){var a=e2(r=e[o])?r(s):r;for(var l in a)s[l]="className"===l?e3(s[l],a[l]):"style"===l?n(n({},s[l]),a[l]):a[l]}return t.className&&(s.className=e3(s.className,t.className)),s}(r,t,p),g=m.as||d,v={};for(var y in m)void 0===m[y]||"$"===y[0]||"as"===y||"theme"===y&&m.theme===p||("forwardedAs"===y?v.as=m.forwardedAs:f&&!f(y,g)||(v[y]=m[y]));var b=function(e,t){var i=tM();return e.generateAndInjectStyles(t,i.styleSheet,i.stylis)}(o,m),S=e3(l,u);return b&&(S+=" "+b),m.className&&(S+=" "+m.className),v[eU(g)&&!eE.has(g)?"class":"className"]=S,i&&(v.ref=i),(0,s.createElement)(g,v)}(w,e,t)}S.displayName=f;var w=s.forwardRef(S);return w.attrs=m,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=g,w.foldedComponentIds=r?e3(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=0,r=t;n<r.length;n++)e8(e,r[n],!0);return e}({},o.defaultProps,e):e}}),e9(w,function(){return".".concat(w.styledComponentId)}),a&&e1(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function tj(e,t){for(var i=[e[0]],n=0,r=t.length;n<r;n+=1)i.push(t[n],e[n+1]);return i}var tH=function(e){return Object.assign(e,{isCss:!0})};function t$(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e2(e)||e6(e))return tH(tD(tj(ex,r([e],t,!0))));var n=e;return 0===t.length&&1===n.length&&"string"==typeof n[0]?tD(n):tH(tD(tj(n,t)))}function tW(e,t,i){if(void 0===i&&(i=ek),!t)throw e7(1,t);var s=function(n){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,i,t$.apply(void 0,r([n],s,!1)))};return s.attrs=function(r){return tW(e,t,n(n({},i),{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},s.withConfig=function(r){return tW(e,t,n(n({},i),r))},s}var tq=function(e){return tW(tz,e)},tG=tq;eE.forEach(function(e){tG[e]=tq(e)});var tK=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=tL(e),ty.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,i,n){var r=n(e4(tD(this.rules,t,i,n)),""),s=this.componentId+e;i.insertRules(s,s,r)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,i,n){e>2&&ty.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,n)},e}();function tX(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=t$.apply(void 0,r([e],t,!1)),a="sc-global-".concat(eB(JSON.stringify(o))),l=new tK(o,a),u=function(e){var t=tM(),i=s.useContext(tB),n=s.useRef(t.styleSheet.allocateGSInstance(a)).current;return t.styleSheet.server&&d(n,e,t.styleSheet,i,t.stylis),s.useLayoutEffect(function(){if(!t.styleSheet.server)return d(n,e,t.styleSheet,i,t.stylis),function(){return l.removeStyles(n,t.styleSheet)}},[n,e,t.styleSheet,i,t.stylis]),null};function d(e,t,i,r,s){if(l.isStatic)l.renderStyles(e,eC,i,s);else{var o=n(n({},t),{theme:eA(t,r,u.defaultProps)});l.renderStyles(e,o,i,s)}}return s.memo(u)}function tY(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=e4(t$.apply(void 0,r([e],t,!1)));return new t_(eB(n),n)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var i=tc(),n=e4([i&&'nonce="'.concat(i,'"'),"".concat(em,'="true"'),"".concat(ev,'="').concat(ey,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw e7(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw e7(2);var t,i=e.instance.toString();if(!i)return[];var r=((t={})[em]="",t[ev]=ey,t.dangerouslySetInnerHTML={__html:i},t),o=tc();return o&&(r.nonce=o),[s.createElement("style",n({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ty({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw e7(2);return s.createElement(tT,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw e7(3)}}()},30253:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(19408));class s{constructor(e=0,t=0){this.networkIssueResponseDelayFactor=e,this.networkIssueRecoveryDelayFactor=t,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=r.default.BandwidthProbingAndRemoteVideoQualityAdaption,e<0?e=0:e>1&&(e=1),this.networkIssueResponseDelayFactor=e,t<0?t=0:t>1&&(t=1),this.networkIssueRecoveryDelayFactor=t}allowSubscribe(e,t){let i=0,n=this.currentNetworkEvent;if(t>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=t,!0;if(!(t<this.referenceBitrate))return this.currentNetworkEvent=0,!1;if(this.currentNetworkEvent=1,i=this.getSubscribeDelay(this.currentNetworkEvent,e),1!==n)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>i)return this.referenceBitrate=t,!0;return!1}getSubscribeDelay(e,t){let i=s.MINIMUM_DELAY_MS,n=s.MAXIMUM_DELAY_MS-s.MINIMUM_DELAY_MS,r=this.networkIssueResponseDelayFactor;return 1===e&&(i+=n*r*(1+t/10),i=Math.min(s.MAXIMUM_DELAY_MS,i)),i}}t.default=s,s.MINIMUM_DELAY_MS=2e3,s.MAXIMUM_DELAY_MS=8e3,s.Default=new s(0,0),s.UnstableNetworkPreset=new s(0,1),s.StableNetworkPreset=new s(1,0)},30381:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=i(90643),r=i(47730),s=i(17962),o=i(90778);function a(e){var t=(0,o.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var i=new s.RawSha256;i.update(t),t=i.digest()}var n=new Uint8Array(r.BLOCK_SIZE);return n.set(t),n}t.Sha256=function(){function e(e){this.secret=e,this.hash=new s.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,o.isEmptyData)(e)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new s.RawSha256,this.secret){this.outer=new s.RawSha256;var e=a(this.secret),t=new Uint8Array(r.BLOCK_SIZE);t.set(e);for(var i=0;i<r.BLOCK_SIZE;i++)e[i]^=54,t[i]^=92;this.hash.update(e),this.outer.update(t);for(var i=0;i<e.byteLength;i++)e[i]=0}},e}()},30510:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(e){var t;if(!(t=n.exec(e)))throw Error("invalid format: "+e);return new s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function s(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}r.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},30712:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(11218));class s{constructor(e){this.selfAttendeeId=e,this.reset()}reset(){this.optimalReceiveSet=new r.default,this.subscribedReceiveSet=new r.default,this.videoSources=void 0}updateIndex(e){this.videoIndex=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(e)}updateMetrics(e){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(e){this.videoSources=e,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(e){let t=new r.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return t;let i=e.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),n=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),o=this.videoIndex.remoteStreamDescriptions(),a=new Map;for(let e of o)i.contain(e.streamId)&&a.set(e.attendeeId,e);let l=0;for(let e of n){let i=e.attendee.attendeeId;if(a.has(i)){let e=a.get(i);if(l+e.maxBitrateKbps<=s.maxReceiveBitrateKbps)t.add(e.streamId),l+=e.maxBitrateKbps;else{console.warn("total bitrate "+(l+e.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return t}}t.default=s,s.maxReceiveBitrateKbps=15e3},31120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},31145:(e,t,i)=>{"use strict";i.d(t,{F8:()=>s,FA:()=>l,RZ:()=>o,gn:()=>n,jk:()=>r,pi:()=>a});let n=Math.cos,r=Math.min,s=Math.sin,o=Math.sqrt,a=Math.PI,l=2*a},31718:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(80680)),o=r(i(76234));class a extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="AttachMediaInputTask"}run(){return n(this,void 0,void 0,function*(){let e=this.context.transceiverController;e.setPeer(this.context.peer),e.setupLocalTransceivers();let t=this.context.activeAudioInput;if(t){let i=t.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield e.setAudioInput(i.length?i[0]:null)}else yield e.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();let i=this.context.activeVideoInput;if(i){let t=i.getVideoTracks(),n=t.length?t[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield e.setVideoInput(n),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){let t=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();e.setEncodingParameters(t)}n&&this.context.statsCollector.logVideoEvent(s.default.InputAttached,this.context.videoDeviceInformation)}else yield e.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=e.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),this.context.videoStreamIndex.subscribeFrameSent()})}setAudioCodecPreferences(){let e=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,t=this.context.audioProfile.hasRedundancyEnabled();if(!e)return void this.context.logger.warn("Setting codec preferences not supported");let i=this.context.transceiverController.localAudioTransceiver(),{codecs:n}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug(`Available audio codecs ${JSON.stringify(n,null,4)}`);let r=n.findIndex(e=>"audio/red"===e.mimeType);if(!i)return void this.context.logger.error("audio transceiver is null");if(r>=0){let e=n[r];n.splice(r,1),t?(n.unshift(e),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),i.setCodecPreferences(n);return}this.context.logger.info("audio/red codec not supported")}}t.default=a},31783:(e,t,i)=>{"use strict";i.d(t,{a:()=>n});let n=e=>new TextEncoder().encode(e)},31906:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(99789)),s=n(i(55194));class o{constructor(e){this.logger=e}create(e,t,i){this.connection=new WebSocket(i?e:r.default.urlWithVersion(e),t),this.connection.binaryType="arraybuffer"}send(e){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return e instanceof Uint8Array?this.connection.send(e.buffer):this.connection.send(e),!0}catch(e){return this.logger.debug(()=>`send error: ${e.message}, websocket state=${s.default[this.readyState()]}`),!1}}close(e,t){var i;null==(i=this.connection)||i.close(e,t)}destroy(){this.connection=void 0}addEventListener(e,t){if(!this.connection)return void this.logger.warn("Cannot add event listener with no WebSocket connection.");this.connection.addEventListener(e,t)}removeEventListener(e,t){var i;null==(i=this.connection)||i.removeEventListener(e,t)}readyState(){if(!this.connection)return s.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return s.default.Connecting;case WebSocket.OPEN:return s.default.Open;case WebSocket.CLOSING:return s.default.Closing;case WebSocket.CLOSED:return s.default.Closed}}}t.default=o},32e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,t){return e[t.toLowerCase()]=t,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")},32716:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(15514),s=n(i(99789));class o{constructor(e){var t,i,n,s,a,l,u;try{this.parserResult=navigator&&navigator.userAgent?new r.UAParser(navigator.userAgent).getResult():void 0}catch(t){e.error(t.message)}this.browserMajorVersion=(null==(n=null==(i=null==(t=this.parserResult)?void 0:t.browser)?void 0:i.version)?void 0:n.split(".")[0])||o.UNAVAILABLE,this.browserName=(null==(s=this.parserResult)?void 0:s.browser.name)||o.UNAVAILABLE,this.browserVersion=(null==(a=this.parserResult)?void 0:a.browser.version)||o.UNAVAILABLE,this.deviceName=[(null==(l=this.parserResult)?void 0:l.device.vendor)||"",(null==(u=this.parserResult)?void 0:u.device.model)||""].join(" ").trim()||o.UNAVAILABLE}getParserResult(){var e,t;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:(null==(e=this.parserResult)?void 0:e.os.name)||o.UNAVAILABLE,osVersion:(null==(t=this.parserResult)?void 0:t.os.version)||o.UNAVAILABLE,sdkVersion:s.default.sdkVersion,sdkName:s.default.sdkName}}}t.default=o,o.UNAVAILABLE="Unavailable"},33114:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var n=i(90643),r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function s(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function o(e){return e&&r.every(function(t){return"function"==typeof e[t]})}t.supportsWebCrypto=function(e){return!!s(e)&&"object"==typeof e.crypto.subtle&&o(e.crypto.subtle)},t.supportsSecureRandom=s,t.supportsSubtleCrypto=o,t.supportsZeroByteGCM=function(e){return n.__awaiter(this,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:if(!o(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return i=n.sent(),[2,!1];case 5:return[2]}})})}},33215:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(70544)),o=r(i(57153)),a=r(i(75585));class l{constructor(e){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;let{url:t,batchSize:i=l.BATCH_SIZE,intervalMs:n=l.INTERVAL_MS,logLevel:r=a.default.WARN,metadata:s,headers:o}=e;this.url=t,this.batchSize=i,this.intervalMs=n,this.logLevel=r,this.metadata=s,this.headers=o,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}addEventListener(){this.eventListener&&"window"in i.g&&window.addEventListener&&window.addEventListener("unload",this.eventListener)}removeEventListener(){this.eventListener&&"window"in i.g&&window.removeEventListener&&window.removeEventListener("unload",this.eventListener)}debug(e){a.default.DEBUG<this.logLevel||("string"==typeof e?this.log(a.default.DEBUG,e):e?this.log(a.default.DEBUG,e()):this.log(a.default.DEBUG,""+e))}info(e){this.log(a.default.INFO,e)}warn(e){this.log(a.default.WARN,e)}error(e){this.log(a.default.ERROR,e)}setLogLevel(e){this.logLevel=e}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new s.default(this.intervalMs),this.intervalScheduler.start(()=>n(this,void 0,void 0,function*(){if(!0===this.lock||0===this.getLogCaptureSize())return;this.lock=!0;let e=this.logCapture.slice(0,this.batchSize),t=this.makeRequestBody(e);try{let i=yield fetch(this.url,Object.assign({method:"POST",body:t},this.headers?{headers:this.headers}:{}));200===i.status&&(this.logCapture=this.logCapture.slice(e.length))}catch(e){console.warn("[POSTLogger] "+e.message)}finally{this.lock=!1}}))}stop(){var e;null==(e=this.intervalScheduler)||e.stop(),this.intervalScheduler=void 0,this.removeEventListener();let t=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,t)}destroy(){return n(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(e){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:e}))}log(e,t){if(e<this.logLevel)return;let i=Date.now();this.logCapture.push(new o.default(this.sequenceNumber,t,i,a.default[e])),this.sequenceNumber+=1}}t.default=l,l.BATCH_SIZE=85,l.INTERVAL_MS=2e3},33427:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},33462:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(76234));class s extends r.default{constructor(e,t,i="RunnableTask"){super(e),this.fn=t,this.taskName=i}run(){return this.fn().then(()=>{})}}t.default=s},33605:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(i||(i={})),t.default=i},33652:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic")},34310:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(47164),o=r(i(74850)),a=r(i(42225)),l=r(i(56539)),u=r(i(7040)),d=r(i(44435)),c=r(i(83852)),h=r(i(31906)),f=r(i(55194)),p=r(i(64135));class m{constructor(e,t,i,n,r){this.configuration=e,this.logger=t,this.webSocket=i,this.reconnectController=n,this.sigV4=r,this.observerQueue=new Set,this.webSocket||(this.webSocket=new h.default(this.logger)),this.reconnectController||(this.reconnectController=new u.default(e.reconnectTimeoutMs,new o.default(e.reconnectFixedWaitMs,e.reconnectShortBackoffMs,e.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new c.default(this.configuration.chimeClient)),a.default.addLogger(this.logger),a.default.register(),this.preBootstrapMessages=[]}addObserver(e){this.logger.info("adding messaging observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing messaging observer"),this.observerQueue.delete(e)}start(){return n(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),a.default.removeLogger(this.logger))}forEachObserver(e){for(let t of this.observerQueue)d.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",e=>{this.receiveMessageHandler(e.data)}),this.webSocket.addEventListener("close",e=>{this.closeEventHandler(e)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(e){return n(this,void 0,void 0,function*(){return yield this.startConnectingInternal(e),yield new Promise((e,t)=>{this.bootstrapResolved=e,this.bootstrapRejected=t})})}startConnectingInternal(e){var t;return n(this,void 0,void 0,function*(){let i=this.configuration.endpointUrl;if(e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),e||void 0===i)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){let e=yield this.configuration.chimeClient.getMessagingSessionEndpoint();i=(null==(t=e.Endpoint)?void 0:t.Url)?e.Endpoint.Url:(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else i=(yield this.configuration.chimeClient.send(new s.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug(`Messaging endpoint resolved to: ${i}`)}catch(t){this.logger.error(`Messaging Session failed to resolve endpoint: ${t}`);let e=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(e);return}let n=yield this.prepareWebSocketUrl(i);this.logger.info(`opening connection to ${n}`),e||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(n,[],!0),this.forEachObserver(t=>{t.messagingSessionDidStartConnecting&&t.messagingSessionDidStartConnecting(e)}),this.setUpEventListeners()})}prepareWebSocketUrl(e){return n(this,void 0,void 0,function*(){let t=new Map;return t.set("userArn",[this.configuration.userArn]),t.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===p.default.Connect&&t.set("prefetch-on",[p.default.Connect]),this.configuration.prefetchSortBy&&t.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",e,"/connect","",t)})}isClosed(){return this.webSocket.readyState()===f.default.None||this.webSocket.readyState()===f.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(e){try{let t=JSON.parse(e),i=t.Headers["x-amz-chime-event-type"],n=new l.default(i,t.Headers,t.Payload||null);if(this.isSessionEstablished||"SESSION_ESTABLISHED"!==i){if(!this.isSessionEstablished)return void this.preBootstrapMessages.push(n)}else{this.forEachObserver(e=>{e.messagingSessionDidStart&&e.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;let e=this.preBootstrapMessages.length;for(let t=0;t<e;t++){let e=this.preBootstrapMessages.shift();this.forEachObserver(t=>{this.sendMessageToObserver(t,e)})}}this.forEachObserver(e=>{this.sendMessageToObserver(e,n)})}catch(e){this.logger.error(`Messaging parsing failed: ${e}`)}}sendMessageToObserver(e,t){e.messagingSessionDidReceiveMessage&&e.messagingSessionDidReceiveMessage(t)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>n(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(e){this.logger.info(`WebSocket close: ${e.code} ${e.reason}`),4999!==e.code&&this.webSocket.destroy(),!this.isClosing&&this.canReconnect(e.code)&&this.retryConnection()||(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(t=>{t.messagingSessionDidStop&&t.messagingSessionDidStop(e)}):this.bootstrapRejected(e))}canReconnect(e){return 1001===e||1006===e||e>=1011&&e<=1014||e>4e3&&4002!==e&&4003!==e&&4401!==e}}t.default=m},34479:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(76234));class o extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=e=>{let t=e.track;if(this.context.logger.info(`received track event: kind=${t.kind} id=${t.id} label=${t.label}`),e.transceiver&&"inactive"===e.transceiver.currentDirection)return;if(0===e.streams.length)return void this.context.logger.warn("Track event but no stream");let i=e.streams[0];"audio"===t.kind?this.context.audioMixController.bindAudioStream(i):"video"!==t.kind||this.trackIsVideoInput(t)||this.addRemoteVideoTrack(t,i)}}removeObserver(){for(let e in this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener(),this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[e]()}addPeerConnectionEventLogger(){let e=this.context.peer;e.addEventListener("connectionstatechange",()=>{this.context.logger.info(`peer connection state changed: ${e.connectionState}`)}),e.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),e.addEventListener("icegatheringstatechange",()=>{this.context.logger.info(`peer connection ice gathering state changed: ${e.iceGatheringState}`)}),e.addEventListener("icecandidate",e=>{this.context.logger.info(`peer connection ice candidate: ${e.candidate?e.candidate.candidate:"(null)"}`)}),e.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info(`peer connection ice connection state changed: ${e.iceConnectionState}`)})}run(){return n(this,void 0,void 0,function*(){this.context.removableObservers.push(this);let e=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};e.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),e.sdpSemantics="unified-plan",e.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(e),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(e){return!!this.context.transceiverController.useTransceivers()&&(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(e))}addRemoteVideoTrack(e,t){var i;let n,r,s,o,a=t.id,l=this.context.videoStreamIndex.attendeeIdForTrack(a);if(n=this.context.videoTileController.getVideoTileForAttendeeId?!!(null==(i=null==(r=this.context.videoTileController.getVideoTileForAttendeeId(l))?void 0:r.state())?void 0:i.boundVideoStream):this.context.videoTileController.haveVideoTileForAttendeeId(l))return void this.context.logger.info(`Not adding remote track. Already have tile for attendeeId:  ${l}`);r||(r=this.context.videoTileController.addVideoTile(),this.logger.info(`Created video tile ${r.id()}`));let u=this.context.videoStreamIndex.streamIdForTrack(a);void 0===u&&(this.logger.warn(`stream not found for tile=${r.id()} track=${a}`),u=null);let d=this.context.videoStreamIndex.groupIdForStreamId(u);void 0===d&&(d=null);for(let i=0;i<this.trackEvents.length;i++){let n=this.trackEvents[i],s=t.getVideoTracks();if(s&&s.length){let t=s[0],i=()=>{this.context.logger.info(`received the ${n} event for tile=${r.id()} id=${e.id} streamId=${u}`),"ended"===n&&this.removeRemoteVideoTrack(e,r.state())};t.addEventListener(n,i),this.removeVideoTrackEventListeners[e.id]||(this.removeVideoTrackEventListeners[e.id]=[]),this.removeVideoTrackEventListeners[e.id].push(()=>{t.removeEventListener(n,i)})}}if(e.getSettings){let t=e.getSettings();s=t.width,o=t.height}else{let t=e.getCapabilities();s=t.width,o=t.height}let c=this.context.videoStreamIndex.externalUserIdForTrack(a);r.bindVideoStream(l,!1,t,s,o,u,c,d),this.logger.info(`video track added, use tile=${r.id()} track=${a} streamId=${u} groupId=${d}`);let h="removetrack",f=t,p=()=>this.removeRemoteVideoTrack(e,r.state());this.removeTrackRemovedEventListeners[e.id]=()=>{f.removeEventListener(h,p),delete this.removeTrackRemovedEventListeners[e.id]},f.addEventListener(h,p)}removeRemoteVideoTrack(e,t){if(this.removeTrackRemovedEventListeners.hasOwnProperty(e.id)){for(let t of(this.removeTrackRemovedEventListeners[e.id](),this.removeVideoTrackEventListeners[e.id]))t();delete this.removeVideoTrackEventListeners[e.id]}this.logger.info(`video track ended, removing tile=${t.tileId} id=${e.id} stream=${t.streamId}`),t.streamId?this.context.videosPaused.remove(t.streamId):this.logger.warn(`no stream found for tile=${t.tileId}`),this.context.videoTileController.removeVideoTile(t.tileId)}}t.default=o,o.REMOVE_HANDLER_INTERVAL_MS=1e4},34547:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},34678:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],s=(0,n.A)("video-off",r)},34814:e=>{e.exports=function(e){return void 0===e}},34819:(e,t,i)=>{"use strict";i.d(t,{vD:()=>o,wX:()=>s});var n=i(70790),r=i(74095);let s=(0,n.f)(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*r.Tt)},(e,t)=>{e.setTime(+e+t*r.rR)},(e,t)=>(t-e)/r.rR,e=>e.getMinutes());s.range;let o=(0,n.f)(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*r.rR)},(e,t)=>(t-e)/r.rR,e=>e.getUTCMinutes());o.range},34824:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventController=t.DefaultDevicePixelRatioMonitor=t.DefaultDeviceController=t.DefaultContentShareController=t.DefaultBrowserBehavior=t.DefaultAudioVideoFacade=t.DefaultAudioVideoController=t.DefaultAudioMixController=t.DefaultActiveSpeakerPolicy=t.DefaultActiveSpeakerDetector=t.DataMessage=t.CreateSDPTask=t.CreatePeerConnectionTask=t.ContentShareMediaStreamBroker=t.ContentShareConstants=t.ConsoleLogger=t.ConnectionHealthPolicyConfiguration=t.ConnectionHealthData=t.ClientVideoStreamReceivingReport=t.ClientMetricReportMediaType=t.ClientMetricReportDirection=t.ClientMetricReport=t.CleanStoppedSessionTask=t.CleanRestartedSessionTask=t.CheckVideoInputFeedback=t.CheckVideoConnectivityFeedback=t.CheckNetworkUDPConnectivityFeedback=t.CheckNetworkTCPConnectivityFeedback=t.CheckContentShareConnectivityFeedback=t.CheckCameraResolutionFeedback=t.CheckAudioOutputFeedback=t.CheckAudioInputFeedback=t.CheckAudioConnectivityFeedback=t.CanvasVideoFrameBuffer=t.CSPMonitor=t.BitrateParameters=t.BaseTask=t.BaseConnectionHealthPolicy=t.BackgroundReplacementVideoFrameProcessor=t.BackgroundFilterVideoFrameProcessor=t.BackgroundBlurVideoFrameProcessor=t.BackgroundBlurStrength=t.AudioVideoControllerState=t.AudioProfile=t.AudioLogEvent=t.Attendee=t.AttachMediaInputTask=t.AsyncScheduler=t.ApplicationMetadata=t.AllHighestVideoBandwidthPolicy=void 0,t.MeetingFeatures=t.MeetingEventsClientConfiguration=t.MediaDeviceProxyHandler=t.Maybe=t.LogLevel=t.Log=t.ListenForVolumeIndicatorsTask=t.LeaveAndReceiveLeaveAckTask=t.JoinAndReceiveIndexTask=t.IntervalScheduler=t.InMemoryJSONEventBuffer=t.GlobalMetricReport=t.GetUserMediaError=t.FullJitterLimitedBackoff=t.FullJitterBackoffFactory=t.FullJitterBackoff=t.FinishGatheringICECandidatesTask=t.EventIngestionConfiguration=t.EventBufferConfiguration=t.DeviceSelection=t.DevicePixelRatioWindowSource=t.DefaultWebSocketAdapter=t.DefaultVolumeIndicatorAdapter=t.DefaultVideoTransformDevice=t.DefaultVideoTileFactory=t.DefaultVideoTileController=t.DefaultVideoTile=t.DefaultVideoStreamIndex=t.DefaultVideoStreamIdSet=t.DefaultVideoFrameProcessorTimer=t.DefaultVideoFrameProcessorPipeline=t.DefaultVideoElementResolutionMonitor=t.DefaultVideoCaptureAndEncodeParameter=t.DefaultUserAgentParser=t.DefaultTranscriptionController=t.DefaultTransceiverController=t.DefaultSimulcastUplinkPolicyForContentShare=t.DefaultSimulcastUplinkPolicy=t.DefaultSignalingClient=t.DefaultSigV4=t.DefaultSessionStateController=t.DefaultReconnectController=t.DefaultRealtimeController=t.DefaultPingPong=t.DefaultModality=t.DefaultMessagingSession=t.DefaultMeetingSession=t.DefaultMeetingReadinessChecker=t.DefaultMeetingEventReporter=t.DefaultMediaDeviceFactory=void 0,t.RedundantAudioEncoder=t.ReconnectionHealthPolicy=t.ReceiveVideoStreamIndexTask=t.ReceiveVideoInputTask=t.ReceiveRemoteVideoPauseResumeTask=t.ReceiveAudioInputTask=t.RealtimeVolumeIndicator=t.RealtimeState=t.RealtimeAttendeePositionInFrame=t.PromoteToPrimaryMeetingTask=t.PromiseQueue=t.PrefetchSortBy=t.PrefetchOn=t.PermissionDeniedError=t.ParallelGroupTask=t.POSTLogger=t.OverconstrainedError=t.OpenSignalingConnectionTask=t.OnceTask=t.NotReadableError=t.NotFoundError=t.None=t.NoVideoUplinkBandwidthPolicy=t.NoVideoDownlinkBandwidthPolicy=t.NoOpVideoFrameProcessor=t.NoOpVideoElementFactory=t.NoOpTask=t.NoOpMediaStreamBroker=t.NoOpLogger=t.NoOpEventReporter=t.NoOpDeviceController=t.NoOpDebugLogger=t.NoOpAudioVideoController=t.NScaleVideoUplinkBandwidthPolicy=t.MutableVideoPreferences=t.MultiLogger=t.MonitorTask=t.ModelSpecBuilder=t.MessagingSessionConfiguration=t.Message=t.MeetingSessionVideoAvailability=t.MeetingSessionURLs=t.MeetingSessionTURNCredentials=t.MeetingSessionStatusCode=t.MeetingSessionStatus=t.MeetingSessionLifecycleEventCondition=t.MeetingSessionLifecycleEvent=t.MeetingSessionCredentials=t.MeetingSessionConfiguration=t.MeetingReadinessCheckerConfiguration=void 0,t.VideoEncodingConcurrentSendersHealthPolicy=t.VideoCodecCapability=t.VideoAdaptiveProbePolicy=t.Versioning=t.UnusableAudioWarningConnectionHealthPolicy=t.TypeError=t.TranscriptionStatusType=t.TranscriptionStatus=t.TranscriptResult=t.TranscriptLanguageWithScore=t.TranscriptItemType=t.TranscriptItem=t.TranscriptEntity=t.TranscriptAlternative=t.Transcript=t.TimeoutTask=t.TimeoutScheduler=t.TaskStatus=t.TargetDisplaySize=t.SubscribeAndReceiveSubscribeAckTask=t.StreamMetricReport=t.Some=t.SingleNodeAudioTransformDevice=t.SimulcastVideoStreamIndex=t.SimulcastTransceiverController=t.SimulcastLayers=t.SimulcastContentShareTransceiverController=t.SignalingClientVideoSubscriptionConfiguration=t.SignalingClientSubscribe=t.SignalingClientJoin=t.SignalingClientEventType=t.SignalingClientEvent=t.SignalingClientConnectionRequest=t.SignalingAndMetricsConnectionMonitor=t.SetRemoteDescriptionTask=t.SetLocalDescriptionTask=t.SessionStateControllerTransitionResult=t.SessionStateControllerState=t.SessionStateControllerDeferPriority=t.SessionStateControllerAction=t.ServerSideNetworkAdaption=t.SerialGroupTask=t.SendingAudioFailureConnectionHealthPolicy=t.SendAndReceiveDataMessagesTask=t.SDPMediaSection=t.SDPCandidateType=t.SDP=t.RunnableTask=t.RedundantAudioRecoveryMetricReport=t.RedundantAudioEncoderWorkerCode=void 0,t.isVideoTransformDevice=t.isDestroyable=t.isAudioTransformDevice=t.ZLIBTextCompressor=t.WebSocketReadyState=t.WaitForAttendeePresenceTask=t.VoiceFocusTransformDevice=t.VoiceFocusDeviceTransformer=t.VideoTileState=t.VideoStreamDescription=t.VideoSource=t.VideoQualitySettings=t.VideoQualityAdaptationPreference=t.VideoPriorityBasedPolicyConfig=t.VideoPriorityBasedPolicy=t.VideoPreferences=t.VideoPreference=t.VideoOnlyTransceiverController=t.VideoLogEvent=t.VideoFxProcessor=t.VideoEncodingFramerateConnectionHealthPolicy=t.VideoEncodingCpuConnectionHealthPolicy=t.VideoEncodingConnectionHealthPolicyName=void 0,t.AllHighestVideoBandwidthPolicy=n(i(30712)).default,t.ApplicationMetadata=n(i(86963)).default,t.AsyncScheduler=n(i(44435)).default,t.AttachMediaInputTask=n(i(31718)).default,t.Attendee=n(i(2309)).default,t.AudioLogEvent=n(i(58817)).default,t.AudioProfile=n(i(4571)).default,t.AudioVideoControllerState=n(i(58764)).default,t.BackgroundBlurStrength=n(i(25708)).default,t.BackgroundBlurVideoFrameProcessor=n(i(70679)).default,t.BackgroundFilterVideoFrameProcessor=n(i(9947)).default,t.BackgroundReplacementVideoFrameProcessor=n(i(80241)).default,t.BaseConnectionHealthPolicy=n(i(16900)).default,t.BaseTask=n(i(76234)).default,t.BitrateParameters=n(i(95943)).default,t.CSPMonitor=n(i(42225)).default,t.CanvasVideoFrameBuffer=n(i(45595)).default,t.CheckAudioConnectivityFeedback=n(i(99801)).default,t.CheckAudioInputFeedback=n(i(74500)).default,t.CheckAudioOutputFeedback=n(i(66955)).default,t.CheckCameraResolutionFeedback=n(i(36671)).default,t.CheckContentShareConnectivityFeedback=n(i(75129)).default,t.CheckNetworkTCPConnectivityFeedback=n(i(23556)).default,t.CheckNetworkUDPConnectivityFeedback=n(i(76052)).default,t.CheckVideoConnectivityFeedback=n(i(43988)).default,t.CheckVideoInputFeedback=n(i(55019)).default,t.CleanRestartedSessionTask=n(i(57884)).default,t.CleanStoppedSessionTask=n(i(71537)).default,t.ClientMetricReport=n(i(85515)).default,t.ClientMetricReportDirection=n(i(48)).default,t.ClientMetricReportMediaType=n(i(12741)).default,t.ClientVideoStreamReceivingReport=n(i(37704)).default,t.ConnectionHealthData=n(i(99071)).default,t.ConnectionHealthPolicyConfiguration=n(i(55621)).default,t.ConsoleLogger=n(i(60554)).default,t.ContentShareConstants=n(i(2298)).default,t.ContentShareMediaStreamBroker=n(i(78946)).default,t.CreatePeerConnectionTask=n(i(34479)).default,t.CreateSDPTask=n(i(12782)).default,t.DataMessage=n(i(55611)).default,t.DefaultActiveSpeakerDetector=n(i(88956)).default,t.DefaultActiveSpeakerPolicy=n(i(12440)).default,t.DefaultAudioMixController=n(i(56506)).default,t.DefaultAudioVideoController=n(i(17082)).default,t.DefaultAudioVideoFacade=n(i(57770)).default,t.DefaultBrowserBehavior=n(i(61994)).default,t.DefaultContentShareController=n(i(27454)).default,t.DefaultDeviceController=n(i(42434)).default,t.DefaultDevicePixelRatioMonitor=n(i(64632)).default,t.DefaultEventController=n(i(46426)).default,t.DefaultMediaDeviceFactory=n(i(35270)).default,t.DefaultMeetingEventReporter=n(i(4509)).default,t.DefaultMeetingReadinessChecker=n(i(68290)).default,t.DefaultMeetingSession=n(i(19146)).default,t.DefaultMessagingSession=n(i(34310)).default,t.DefaultModality=n(i(68590)).default,t.DefaultPingPong=n(i(65194)).default,t.DefaultRealtimeController=n(i(90610)).default,t.DefaultReconnectController=n(i(7040)).default,t.DefaultSessionStateController=n(i(78822)).default,t.DefaultSigV4=n(i(83852)).default,t.DefaultSignalingClient=n(i(64152)).default,t.DefaultSimulcastUplinkPolicy=n(i(81491)).default,t.DefaultSimulcastUplinkPolicyForContentShare=n(i(62274)).default,t.DefaultTransceiverController=n(i(99618)).default,t.DefaultTranscriptionController=n(i(72828)).default,t.DefaultUserAgentParser=n(i(32716)).default,t.DefaultVideoCaptureAndEncodeParameter=n(i(12050)).default,t.DefaultVideoElementResolutionMonitor=n(i(10052)).default,t.DefaultVideoFrameProcessorPipeline=n(i(35856)).default,t.DefaultVideoFrameProcessorTimer=n(i(49603)).default,t.DefaultVideoStreamIdSet=n(i(11218)).default,t.DefaultVideoStreamIndex=n(i(81750)).default,t.DefaultVideoTile=n(i(73876)).default,t.DefaultVideoTileController=n(i(75376)).default,t.DefaultVideoTileFactory=n(i(88434)).default,t.DefaultVideoTransformDevice=n(i(71653)).default,t.DefaultVolumeIndicatorAdapter=n(i(77826)).default,t.DefaultWebSocketAdapter=n(i(31906)).default,t.DevicePixelRatioWindowSource=n(i(38865)).default,t.DeviceSelection=n(i(51305)).default,t.EventBufferConfiguration=n(i(85321)).default,t.EventIngestionConfiguration=n(i(62983)).default,t.FinishGatheringICECandidatesTask=n(i(97714)).default,t.FullJitterBackoff=n(i(74850)).default,t.FullJitterBackoffFactory=n(i(36412)).default,t.FullJitterLimitedBackoff=n(i(37372)).default,t.GetUserMediaError=n(i(87644)).default,t.GlobalMetricReport=n(i(27187)).default,t.InMemoryJSONEventBuffer=n(i(11017)).default,t.IntervalScheduler=n(i(70544)).default,t.JoinAndReceiveIndexTask=n(i(93413)).default,t.LeaveAndReceiveLeaveAckTask=n(i(39942)).default,t.ListenForVolumeIndicatorsTask=n(i(52041)).default,t.Log=n(i(57153)).default,t.LogLevel=n(i(75585)).default,t.MediaDeviceProxyHandler=n(i(89069)).default,t.MeetingEventsClientConfiguration=n(i(74886)).default,t.MeetingFeatures=n(i(22694)).default,t.MeetingReadinessCheckerConfiguration=n(i(71243)).default,t.MeetingSessionConfiguration=n(i(64879)).default,t.MeetingSessionCredentials=n(i(86007)).default,t.MeetingSessionLifecycleEvent=n(i(50211)).default,t.MeetingSessionLifecycleEventCondition=n(i(7052)).default,t.MeetingSessionStatus=n(i(1417)).default,t.MeetingSessionStatusCode=n(i(44748)).default,t.MeetingSessionTURNCredentials=n(i(91910)).default,t.MeetingSessionURLs=n(i(19641)).default,t.MeetingSessionVideoAvailability=n(i(21929)).default,t.Message=n(i(56539)).default,t.MessagingSessionConfiguration=n(i(70965)).default,t.ModelSpecBuilder=n(i(37977)).default,t.MonitorTask=n(i(44425)).default,t.MultiLogger=n(i(74278)).default,t.NScaleVideoUplinkBandwidthPolicy=n(i(21707)).default,t.NoOpAudioVideoController=n(i(89323)).default,t.NoOpDebugLogger=n(i(97100)).default,t.NoOpDeviceController=n(i(24001)).default,t.NoOpEventReporter=n(i(20427)).default,t.NoOpLogger=n(i(77541)).default,t.NoOpMediaStreamBroker=n(i(60087)).default,t.NoOpTask=n(i(87599)).default,t.NoOpVideoElementFactory=n(i(29311)).default,t.NoOpVideoFrameProcessor=n(i(72127)).default,t.NoVideoDownlinkBandwidthPolicy=n(i(68166)).default,t.NoVideoUplinkBandwidthPolicy=n(i(35772)).default,t.NotFoundError=n(i(82306)).default,t.NotReadableError=n(i(55906)).default,t.OnceTask=n(i(25958)).default,t.OpenSignalingConnectionTask=n(i(36075)).default,t.OverconstrainedError=n(i(56099)).default,t.POSTLogger=n(i(33215)).default,t.ParallelGroupTask=n(i(63177)).default,t.PermissionDeniedError=n(i(8699)).default,t.PrefetchOn=n(i(64135)).default,t.PrefetchSortBy=n(i(43783)).default,t.PromiseQueue=n(i(29826)).default,t.PromoteToPrimaryMeetingTask=n(i(29841)).default,t.RealtimeAttendeePositionInFrame=n(i(76794)).default,t.RealtimeState=n(i(16992)).default,t.RealtimeVolumeIndicator=n(i(73266)).default,t.ReceiveAudioInputTask=n(i(42160)).default,t.ReceiveRemoteVideoPauseResumeTask=n(i(12076)).default,t.ReceiveVideoInputTask=n(i(93063)).default,t.ReceiveVideoStreamIndexTask=n(i(64631)).default,t.ReconnectionHealthPolicy=n(i(13952)).default,t.RedundantAudioEncoder=n(i(79227)).default,t.RedundantAudioEncoderWorkerCode=n(i(54219)).default,t.RedundantAudioRecoveryMetricReport=n(i(87630)).default,t.RunnableTask=n(i(33462)).default,t.SDP=n(i(5551)).default,t.SDPCandidateType=n(i(90564)).default,t.SDPMediaSection=n(i(19288)).default,t.SendAndReceiveDataMessagesTask=n(i(69535)).default,t.SendingAudioFailureConnectionHealthPolicy=n(i(42505)).default,t.SerialGroupTask=n(i(45408)).default,t.ServerSideNetworkAdaption=n(i(19408)).default,t.SessionStateControllerAction=n(i(87165)).default,t.SessionStateControllerDeferPriority=n(i(81529)).default,t.SessionStateControllerState=n(i(54976)).default,t.SessionStateControllerTransitionResult=n(i(74449)).default,t.SetLocalDescriptionTask=n(i(82328)).default,t.SetRemoteDescriptionTask=n(i(49319)).default,t.SignalingAndMetricsConnectionMonitor=n(i(73719)).default,t.SignalingClientConnectionRequest=n(i(100)).default,t.SignalingClientEvent=n(i(13897)).default,t.SignalingClientEventType=n(i(23521)).default,t.SignalingClientJoin=n(i(3615)).default,t.SignalingClientSubscribe=n(i(91357)).default,t.SignalingClientVideoSubscriptionConfiguration=n(i(25743)).default,t.SimulcastContentShareTransceiverController=n(i(80826)).default,t.SimulcastLayers=n(i(21643)).default,t.SimulcastTransceiverController=n(i(79338)).default,t.SimulcastVideoStreamIndex=n(i(97470)).default,t.SingleNodeAudioTransformDevice=n(i(63975)).default,t.StreamMetricReport=n(i(14388)).default,t.SubscribeAndReceiveSubscribeAckTask=n(i(42992)).default,t.TargetDisplaySize=n(i(89497)).default,t.TaskStatus=n(i(33605)).default,t.TimeoutScheduler=n(i(52654)).default,t.TimeoutTask=n(i(37308)).default,t.Transcript=n(i(92689)).default,t.TranscriptAlternative=n(i(31120)).default,t.TranscriptEntity=n(i(29562)).default,t.TranscriptItem=n(i(70866)).default,t.TranscriptItemType=n(i(45994)).default,t.TranscriptLanguageWithScore=n(i(34547)).default,t.TranscriptResult=n(i(88980)).default,t.TranscriptionStatus=n(i(57971)).default,t.TranscriptionStatusType=n(i(74923)).default,t.TypeError=n(i(27607)).default,t.UnusableAudioWarningConnectionHealthPolicy=n(i(68756)).default,t.Versioning=n(i(99789)).default,t.VideoAdaptiveProbePolicy=n(i(86436)).default,t.VideoCodecCapability=n(i(44495)).default,t.VideoEncodingConcurrentSendersHealthPolicy=n(i(76842)).default,t.VideoEncodingConnectionHealthPolicyName=n(i(53510)).default,t.VideoEncodingCpuConnectionHealthPolicy=n(i(97645)).default,t.VideoEncodingFramerateConnectionHealthPolicy=n(i(63484)).default,t.VideoFxProcessor=n(i(43661)).default,t.VideoLogEvent=n(i(80680)).default,t.VideoOnlyTransceiverController=n(i(89202)).default,t.VideoPreference=n(i(90543)).default,t.VideoPreferences=n(i(50492)).default,t.VideoPriorityBasedPolicy=n(i(29919)).default,t.VideoPriorityBasedPolicyConfig=n(i(30253)).default,t.VideoQualityAdaptationPreference=n(i(91719)).default,t.VideoQualitySettings=n(i(10106)).default,t.VideoSource=n(i(25583)).default,t.VideoStreamDescription=n(i(52045)).default,t.VideoTileState=n(i(9052)).default,t.VoiceFocusDeviceTransformer=n(i(35290)).default,t.VoiceFocusTransformDevice=n(i(59705)).default,t.WaitForAttendeePresenceTask=n(i(17928)).default,t.WebSocketReadyState=n(i(55194)).default,t.ZLIBTextCompressor=n(i(40001)).default;let r=i(50492);Object.defineProperty(t,"MutableVideoPreferences",{enumerable:!0,get:function(){return r.MutableVideoPreferences}});let s=i(36243);Object.defineProperty(t,"Some",{enumerable:!0,get:function(){return s.Some}}),Object.defineProperty(t,"None",{enumerable:!0,get:function(){return s.None}}),Object.defineProperty(t,"Maybe",{enumerable:!0,get:function(){return s.Maybe}});let o=i(96419);Object.defineProperty(t,"isAudioTransformDevice",{enumerable:!0,get:function(){return o.isAudioTransformDevice}});let a=i(24059);Object.defineProperty(t,"isDestroyable",{enumerable:!0,get:function(){return a.isDestroyable}});let l=i(1704);Object.defineProperty(t,"isVideoTransformDevice",{enumerable:!0,get:function(){return l.isVideoTransformDevice}})},34852:(e,t,i)=>{"use strict";e.exports=s;var n=i(14725);(s.prototype=Object.create(n.prototype)).constructor=s;var r=i(25414);function s(e){n.call(this,e)}s._configure=function(){r.Buffer&&(s.prototype._slice=r.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},35002:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(53500)),o=i(25708);class a extends s.default{constructor(e,t){super(e,t),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}drawImageWithMask(e,t){let i=this.blurredImage,{canvasCtx:n,targetCanvas:r}=this,{width:s,height:o}=r;if(!t||!i)return void n.clearRect(0,0,s,o);this.scaledCanvas.getContext("2d").putImageData(t,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),n.save(),n.clearRect(0,0,s,o),n.drawImage(this.scaledCanvas,0,0,s,o),n.globalCompositeOperation="source-in",n.drawImage(e,0,0,s,o),n.globalCompositeOperation="destination-over",n.drawImage(this.blurCanvas,0,0,s,o),n.restore()}setBlurStrength(e){if(super.setBlurStrength(e),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});let e=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:e.path,inputHeight:e.input.height,inputWidth:e.input.width,inputChannels:4,modelRangeMin:e.input.range[0],modelRangeMax:e.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=o.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(Error("failed to initialize the module"));return}let t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(e){this.blurredImage=e.payload.blurOutput,super.handlePredict(e)}destroy(){var e;let t=Object.create(null,{destroy:{get:()=>super.destroy}});return n(this,void 0,void 0,function*(){t.destroy.call(this),null==(e=this.blurCanvas)||e.remove(),this.blurCanvas=void 0})}}t.default=a},35057:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove")},35130:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],s=(0,n.A)("volume-2",r)},35270:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(89069));class s{constructor(){this.isMediaDevicesSupported="undefined"!=typeof navigator&&!!navigator.mediaDevices}create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new r.default);throw Error("navigator.mediaDevices is not supported")}}t.default=s},35290:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusDeviceTransformer=void 0;let s=i(64735),o=i(25927),a=r(i(99789)),l=r(i(42486)),u=r(i(59705)),d=r(i(7194));class c{constructor(e,{preload:t=!0,logger:i,fetchBehavior:n=c.defaultFetchBehavior()},r){this.spec=e,this.supported=!0,this.logger=i,this.vfLogger=i?new l.default(i):void 0,this.preload=t,this.fetchBehavior=n,this.spec=c.augmentSpec(this.spec),r&&(this.configuration=Promise.resolve(r))}static isSupported(e,t){var i,n;let r={fetchBehavior:c.defaultFetchBehavior(),logger:(null==t?void 0:t.logger)?new l.default(t.logger):void 0};if(o.isIFramed())if((null==t?void 0:t.allowIFrame)===!1)return null==(i=null==t?void 0:t.logger)||i.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);else null==(n=null==t?void 0:t.logger)||n.warn("Amazon Voice Focus support check inside iframe: not recommended.");return s.VoiceFocus.isSupported(c.augmentSpec(e),r)}static create(e={},t={},i,r,s){var o,a,l;return n(this,void 0,void 0,function*(){r&&r.Meeting.Meeting&&(r=r.Meeting);let n=(null==(l=null==(a=null==(o=null==r?void 0:r.Meeting)?void 0:o.MeetingFeatures)?void 0:a.Audio)?void 0:l.EchoReduction)==="AVAILABLE",s=i&&!0===i.supported&&"ns_es"===i.model.name&&!n,u="ns_es"===e.name&&!n;if(s||u)throw Error("Echo Reduction requested but not enabled.");let d=new c(e,t,i);return yield d.init(),d})}static configure(e={},t={}){return n(this,void 0,void 0,function*(){return new c(e,t,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(e,t){return n(this,void 0,void 0,function*(){if(this.supported)try{let i=!0,[n,r]=yield this.allocateVoiceFocus(i),s=Object.assign(Object.assign({},t),{es:"ns_es"===this.spec.name});return new u.default(e,n,r,s)}catch(e){return}})}static destroyVoiceFocus(e){var t;return n(this,void 0,void 0,function*(){null==(t=null==e?void 0:e.vf)||t.destroy()})}static augmentSpec(e){return e&&(e.assetGroup||e.revisionID)?e:Object.assign(Object.assign({},e),{assetGroup:c.currentSDKAssetGroup()})}configure(e=!1){return n(this,void 0,void 0,function*(){let t={fetchBehavior:this.fetchBehavior,preResolve:e,logger:this.vfLogger};return s.VoiceFocus.configure(this.spec,t)})}init(){var e;return n(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());let t=yield this.configuration;if(!t.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(t,this.preload);try{yield this.pendingVoiceFocus}catch(t){null==(e=this.logger)||e.error(`Unable to initialize Amazon Voice Focus: ${t}`),this.supported=!1}})}createVoiceFocus(e,t){return n(this,void 0,void 0,function*(){let i=new d.default;return this.vf=yield s.VoiceFocus.init(e,{delegate:i,preload:t,logger:this.vfLogger}),[this.vf,i]})}allocateVoiceFocus(e){return n(this,void 0,void 0,function*(){if(!this.supported)throw Error("Not supported.");if(this.pendingVoiceFocus){let e=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,e}return this.createVoiceFocus((yield this.configuration),e)})}static majorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return a.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){let e=this.majorVersion();return e?`sdk-${e}`:"stable-v1"}static defaultFetchBehavior(){let e=c.majorMinorVersion()||"unknown",t=a.default.sdkUserAgentLowResolution;return{escapedQueryString:`sdk=${encodeURIComponent(e)}&ua=${encodeURIComponent(t)}`}}}t.VoiceFocusDeviceTransformer=c,t.default=c},35626:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s=(0,n.A)("arrow-left",r)},35772:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(12050));class s{constructor(){}updateConnectionMetric(e){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(e){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new r.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}setHighResolutionFeatureEnabled(e){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}}t.default=s},35856:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(45595)),o=r(i(49603)),a=15;class l{constructor(e,t,i=new o.default){this.logger=e,this.stages=t,this.fr=a,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=e=>n(this,void 0,void 0,function*(){let e;if(!this.inputVideoStream)return;let t=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let i=[];i.push(this.sourceBuffers[0]);try{for(let e of this.processors)i=yield e.process(i)}catch(e){this.forEachObserver(e=>{e.processingDidFailToStart&&e.processingDidFailToStart()});return}this.destBuffers=i;try{e=yield this.destBuffers[0].asCanvasImageSource()}catch(e){this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(e=>{e.processingDidFailToStart&&e.processingDidFailToStart()}));return}let n=e.width,r=e.height;0!==n&&0!==r&&(this.canvasOutput.width!==n&&this.canvasOutput.height!==r&&(this.canvasOutput.width=n,this.canvasOutput.height=r),this.outputCtx.drawImage(e,0,0,n,r,0,0,n,r),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(e=>{e.processingDidStart&&e.processingDidStart()})));let s=performance.now()-t,o=2e3/this.framerate-s,a=Math.max(0,1e3/this.framerate-s);o<=0&&this.forEachObserver(e=>{e.processingLatencyTooHigh&&e.processingLatencyTooHigh(s)}),yield this.timer.start(a,this.process.bind(this))}),this.timer=i}destroy(){if(this.stop(),this.stages)for(let e of this.stages)e.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(e){this.fr=e<0||void 0===e?a:e}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(let e of this.outputMediaStream.getVideoTracks())e.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(e=>{e.processingDidStop&&e.processingDidStop()}))}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}getInputMediaStream(){return n(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()||(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput()),this.outputMediaStream}setInputMediaStream(e){return n(this,void 0,void 0,function*(){if(!e)return void this.stop();if(0===e.getVideoTracks().length)return void this.logger.error("No video tracks in input media stream, ignoring");this.inputVideoStream=e;let t=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info(`processing pipeline input stream settings ${JSON.stringify(t)}`),this.framerate=t.frameRate,this.canvasOutput.width=t.width,this.canvasOutput.height=t.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");let i=new s.default(this.canvasInput);this.sourceBuffers.push(i),this.videoInput.load();try{yield this.videoInput.play()}catch(e){this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||null===this.inputVideoStream)return void this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");for(let e of this.outputMediaStream.getAudioTracks())this.logger.info(`Removing audio track ${e.id} from output stream`),this.outputMediaStream.removeTrack(e);for(let e of this.inputVideoStream.getAudioTracks())this.logger.info(`Adding audio track ${e.id} to output stream`),this.outputMediaStream.addTrack(e)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(e){this.stages=e}get processors(){return this.stages}forEachObserver(e){for(let t of this.observers)setTimeout(()=>{e(t)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(let e of this.inputVideoStream.getTracks())e.stop();for(let e of(this.inputVideoStream=null,this.sourceBuffers))e.destroy();this.sourceBuffers=[]}}t.default=l},36075:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(100)),o=r(i(23521)),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return n(this,void 0,void 0,function*(){let e=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new s.default(e.urls.signalingURL,e.credentials.joinToken));let t=Date.now();try{yield new Promise((e,t)=>{class i{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(i){switch(i.type){case o.default.WebSocketOpen:this.signalingClient.removeObserver(this),e();break;case o.default.WebSocketFailed:this.signalingClient.removeObserver(this),t(Error("WebSocket connection failed"))}}}let n=new i(this.context.signalingClient);this.context.signalingClient.registerObserver(n),this.taskCanceler=n})}catch(e){throw e}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-t),this.logger.info(`Opening signaling connection took ${this.context.signalingOpenDurationMs} ms`)}})}}t.default=l},36243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.None=t.Some=t.Maybe=void 0;class i{static of(e){return null==e?r.of():n.of(e)}}t.Maybe=i;class n{constructor(e){this.value=e,this.isSome=!0,this.isNone=!1}map(e){return i.of(e(this.value))}flatMap(e){return e(this.value)}get(){return this.value}getOrElse(e){return this.value}defaulting(e){return i.of(this.getOrElse(e))}static of(e){if(null==e)throw Error("value is ${value}");return new n(e)}}t.Some=n;class r{constructor(){this.isSome=!1,this.isNone=!0}get(){throw Error("value is null")}getOrElse(e){return e}map(e){return new r}flatMap(e){return new r}defaulting(e){return i.of(this.getOrElse(e))}static of(){return new r}}t.None=r},36412:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(74850)),s=n(i(37372));class o{constructor(e,t,i){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=i}create(){return new r.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(e){return new s.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,e)}}t.default=o},36471:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-7-2h2V7h-4v2h2z"}),"LooksOneOutlined")},36552:(e,t,i)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),i(95155),i(47650),i(8567),i(77278)},36661:function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=i(82468),o=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=o;var a=function(e){function t(t){var i=e.call(this)||this;return i.data=t,i}return n(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(o);t.DataNode=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(a);t.Text=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(a);t.Comment=u;var d=function(e){function t(t,i){var n=e.call(this,i)||this;return n.name=t,n.type=s.ElementType.Directive,n}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(a);t.ProcessingInstruction=d;var c=function(e){function t(t){var i=e.call(this)||this;return i.children=t,i}return n(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!=(e=this.children[0])?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(o);t.NodeWithChildren=c;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(c);t.CDATA=h;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(c);t.Document=f;var p=function(e){function t(t,i,n,r){void 0===n&&(n=[]),void 0===r&&(r="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,n)||this;return o.name=t,o.attribs=i,o.type=r,o}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(t){var i,n;return{name:t,value:e.attribs[t],namespace:null==(i=e["x-attribsNamespace"])?void 0:i[t],prefix:null==(n=e["x-attribsPrefix"])?void 0:n[t]}})},enumerable:!1,configurable:!0}),t}(c);function m(e){return(0,s.isTag)(e)}function g(e){return e.type===s.ElementType.CDATA}function v(e){return e.type===s.ElementType.Text}function y(e){return e.type===s.ElementType.Comment}function b(e){return e.type===s.ElementType.Directive}function S(e){return e.type===s.ElementType.Root}function w(e,t){if(void 0===t&&(t=!1),v(e))i=new l(e.data);else if(y(e))i=new u(e.data);else if(m(e)){var i,n=t?C(e.children):[],s=new p(e.name,r({},e.attribs),n);n.forEach(function(e){return e.parent=s}),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),i=s}else if(g(e)){var n=t?C(e.children):[],o=new h(n);n.forEach(function(e){return e.parent=o}),i=o}else if(S(e)){var n=t?C(e.children):[],a=new f(n);n.forEach(function(e){return e.parent=a}),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),i=a}else if(b(e)){var c=new d(e.name,e.data);null!=e["x-name"]&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),i=c}else throw Error("Not implemented yet: ".concat(e.type));return i.startIndex=e.startIndex,i.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(i.sourceCodeLocation=e.sourceCodeLocation),i}function C(e){for(var t=e.map(function(e){return w(e,!0)}),i=1;i<t.length;i++)t[i].prev=t[i-1],t[i-1].next=t[i];return t}t.Element=p,t.isTag=m,t.isCDATA=g,t.isText=v,t.isComment=y,t.isDirective=b,t.isDocument=S,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},36671:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCameraResolutionFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.ResolutionNotSupported=2]="ResolutionNotSupported",e[e.PermissionDenied=3]="PermissionDenied"}(i=t.CheckCameraResolutionFeedback||(t.CheckCameraResolutionFeedback={})),t.default=i},37280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37308:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(52654)),o=r(i(76234));class a extends o.default{constructor(e,t,i){super(e),this.taskToRunBeforeTimeout=t,this.timeoutMs=i,this.taskName=`Timeout${this.timeoutMs}ms`,t.setParent(this)}cancel(){this.logger.info(`canceling timeout task ${this.name()} subtask ${this.taskToRunBeforeTimeout}`),this.taskToRunBeforeTimeout.cancel()}run(){return n(this,void 0,void 0,function*(){let e=new s.default(this.timeoutMs);e.start(()=>{this.logger.info(`timeout reached for task ${this.name()}`),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{e.stop()}this.logger.info(`timeout task ${this.name()} completed`)})}}t.default=a},37372:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(74850));class s extends r.default{constructor(e,t,i,n){super(e,t,i),this.limit=n,this.attempts=0}nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw Error("retry limit exceeded");return super.nextBackoffAmountMs()}}t.default=s},37704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},37977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.path=null,this.input=null,this.output=null}static builder(){return new i}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){let e={height:144,width:256,range:[0,1],channels:3},t={height:144,width:256,range:[0,1],channels:1},i="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=i,this.input=e,this.output=t,this}withPath(e){return this.path=e,this}withInput(e){return this.input=e,this}withOutput(e){return this.output=e,this}validate(){if(!this.path)throw Error("model spec path is not set");if(!this.input)throw Error("model spec input is not set");if(!this.output)throw Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}t.default=i},38619:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n,r=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}let o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&o.test(e)};for(var l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));let d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i},c=function(e,t,i){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=n[r];return t}return d(n)}},38865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{devicePixelRatio(){return"undefined"!=typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio:1}}t.default=i},38990:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var n=i(17366);t.RawSha256=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,i=e.byteLength;if(this.bytesHashed+=i,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=e[t++],i--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(t.setUint8(this.bufferLength++,128),i%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var r=this.bufferLength;r<n.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<n.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/0x100000000),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(n.DIGEST_LENGTH),r=0;r<8;r++)s[4*r]=this.state[r]>>>24&255,s[4*r+1]=this.state[r]>>>16&255,s[4*r+2]=this.state[r]>>>8&255,s[4*r+3]=this.state[r]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,i=e.state,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],d=i[6],c=i[7],h=0;h<n.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(255&t[4*h])<<24|(255&t[4*h+1])<<16|(255&t[4*h+2])<<8|255&t[4*h+3];else{var f=this.temp[h-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,m=((f=this.temp[h-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[h]=(p+this.temp[h-7]|0)+(m+this.temp[h-16]|0)}var g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(c+(n.KEY[h]+this.temp[h]|0)|0)|0,v=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&s^r&o^s&o)|0;c=d,d=u,u=l,l=a+g|0,a=o,o=s,s=r,r=g+v|0}i[0]+=r,i[1]+=s,i[2]+=o,i[3]+=a,i[4]+=l,i[5]+=u,i[6]+=d,i[7]+=c},e}()},39142:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],s=(0,n.A)("mic",r)},39498:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}function s(e,n,r){t[0]=e,n[r]=i[3],n[r+1]=i[2],n[r+2]=i[1],n[r+3]=i[0]}function o(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function a(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?r:s,e.writeFloatBE=n?s:r,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():!function(){function t(e,t,i,n){var r=+(t<0);if(r&&(t=-t),0===t)e(1/t>0?0:0x80000000,i,n);else if(isNaN(t))e(0x7fc00000,i,n);else if(t>34028234663852886e22)e((r<<31|0x7f800000)>>>0,i,n);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,i,n);else{var s=Math.floor(Math.log(t)/Math.LN2),o=8388607&Math.round(t*Math.pow(2,-s)*8388608);e((r<<31|s+127<<23|o)>>>0,i,n)}}function o(e,t,i){var n=e(t,i),r=(n>>31)*2+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:1/0*r:0===s?1401298464324817e-60*r*o:r*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,r),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7]}function s(e,n,r){t[0]=e,n[r]=i[7],n[r+1]=i[6],n[r+2]=i[5],n[r+3]=i[4],n[r+4]=i[3],n[r+5]=i[2],n[r+6]=i[1],n[r+7]=i[0]}function o(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function a(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:s,e.writeDoubleBE=n?s:r,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():!function(){function t(e,t,i,n,r,s){var o,a=+(n<0);if(a&&(n=-n),0===n)e(0,r,s+t),e(1/n>0?0:0x80000000,r,s+i);else if(isNaN(n))e(0,r,s+t),e(0x7ff80000,r,s+i);else if(n>17976931348623157e292)e(0,r,s+t),e((a<<31|0x7ff00000)>>>0,r,s+i);else if(n<22250738585072014e-324)e((o=n/5e-324)>>>0,r,s+t),e((a<<31|o/0x100000000)>>>0,r,s+i);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(0x10000000000000*(o=n*Math.pow(2,-l))>>>0,r,s+t),e((a<<31|l+1023<<20|1048576*o&1048575)>>>0,r,s+i)}}function o(e,t,i,n,r){var s=e(n,r+t),o=e(n,r+i),a=(o>>31)*2+1,l=o>>>20&2047,u=0x100000000*(1048575&o)+s;return 2047===l?u?NaN:1/0*a:0===l?5e-324*a*u:a*Math.pow(2,l-1075)*(u+0x10000000000000)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,r,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function i(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function n(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function r(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},39942:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(23521)),o=i(96119),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return n(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((e,t)=>{class i{constructor(e,t){this.signalingClient=e,this.logger=t}cancel(){this.signalingClient.removeObserver(this),t(Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),e();return}t.type===s.default.ReceivedSignalFrame&&t.message.type===o.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),e())}}let n=new i(this.context.signalingClient,this.context.logger);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}}t.default=l},40001:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(4810);class r{constructor(e){this.logger=e}compress(e,t){if(t.length>0){let e=Math.min(t.length,r.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}let i={memLevel:r.Z_MEM_LEVEL,dictionary:t};return n.deflateRaw(e,i)}decompress(e,t){if(t.length>0){let e=Math.min(t.length,r.MAX_DICTIONARY_SIZE);t=t.slice(0,e)}let i={to:"string",dictionary:t,chunkSize:4096},s="";try{s=n.inflateRaw(e,i)}catch(e){this.logger.error(`failed to decompress the string with error: [${e}]`)}return s}}t.default=r,r.Z_MEM_LEVEL=9,r.MAX_DICTIONARY_SIZE=31744},40800:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BotInfo:()=>l,BrowserInfo:()=>s,NodeInfo:()=>o,ReactNativeInfo:()=>u,SearchBotDeviceInfo:()=>a,browserName:()=>g,detect:()=>p,detectOS:()=>y,getNodeVersion:()=>b,parseUserAgent:()=>v});var n=i(95704),r=function(e,t,i){if(i||2==arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){return function(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}}(),o=function(){return function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform}}(),a=function(){return function(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}}(),l=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),u=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),d=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?v(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?v(navigator.userAgent):b()}function m(e){return""!==e&&h.reduce(function(t,i){var n=i[0],r=i[1];if(t)return t;var s=r.exec(e);return!!s&&[n,s]},!1)}function g(e){var t=m(e);return t?t[0]:null}function v(e){var t=m(e);if(!t)return null;var i=t[0],n=t[1];if("searchbot"===i)return new l;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<c&&(o=r(r([],o,!0),S(c-o.length),!0)):o=[];var u=o.join("."),h=y(e),f=d.exec(e);return f&&f[1]?new a(i,u,h,f[1]):new s(i,u,h)}function y(e){for(var t=0,i=f.length;t<i;t++){var n=f[t],r=n[0];if(n[1].exec(e))return r}return null}function b(){return void 0!==n&&n.version?new o(n.version.slice(1)):null}function S(e){for(var t=[],i=0;i<e;i++)t.push("0");return t}},40944:(e,t,i)=>{"use strict";e.exports=s;var n=i(85073);(s.prototype=Object.create(n.prototype)).constructor=s;var r=i(25414);function s(){n.call(this)}function o(e,t,i){e.length<40?r.utf8.write(e,t,i):t.utf8Write?t.utf8Write(e,i):t.write(e,i)}s._configure=function(){s.alloc=r._Buffer_allocUnsafe,s.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}},s.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},41133:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V9c0-1.11-.9-2-2-2H9v2h4v2h-2c-1.1 0-2 .89-2 2v4h6z"}),"LooksTwoOutlined")},41873:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatAttributes=o,t.escapeSpecialCharacters=l,t.revertEscapedCharacters=u,t.formatDOM=d;var n=i(17663),r=i(32e3);function s(e){return r.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function o(e){for(var t={},i=0,n=e.length;i<n;i++){var r=e[i];t[r.name]=r.value}return t}function a(e){var t=s(e=e.toLowerCase());return t||e}function l(e){return e.replace(r.CARRIAGE_RETURN_REGEX,r.CARRIAGE_RETURN_PLACEHOLDER)}function u(e){return e.replace(r.CARRIAGE_RETURN_PLACEHOLDER_REGEX,r.CARRIAGE_RETURN)}function d(e,t,i){void 0===t&&(t=null);for(var r,s=[],l=0,c=e.length;l<c;l++){var h=e[l];switch(h.nodeType){case 1:var f=a(h.nodeName);(r=new n.Element(f,o(h.attributes))).children=d("template"===f?h.content.childNodes:h.childNodes,r);break;case 3:r=new n.Text(u(h.nodeValue));break;case 8:r=new n.Comment(h.nodeValue);break;default:continue}var p=s[l-1]||null;p&&(p.next=r),r.parent=t,r.prev=p,r.next=null,s.push(r)}return i&&((r=new n.ProcessingInstruction(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=s[0]||null,r.parent=t,s.unshift(r),s[1]&&(s[1].prev=s[0])),s}},42160:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(76234));class o extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveAudioInputTask"}run(){var e,t;return n(this,void 0,void 0,function*(){let i;if(!(null==(t=null==(e=this.context.meetingSessionConfiguration)?void 0:e.urls)?void 0:t.audioHostURL))return void this.context.logger.info("No audio connection: not acquiring audio input");if(this.context.activeAudioInput)return void this.context.logger.info("an active audio input exists");try{i=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch(e){this.context.logger.warn("could not acquire audio input from current device")}i?this.context.activeAudioInput=i:this.context.logger.warn("an audio input is not available")})}}t.default=o},42225:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static register(){"document"in i.g&&document.addEventListener&&n.shouldRegisterCSPMonitor&&!n.added&&(document.addEventListener("securitypolicyviolation",n.listener),n.added=!0)}static unregister(){"document"in i.g&&document.removeEventListener&&(document.removeEventListener("securitypolicyviolation",n.listener),n.loggers=new Set,n.added=!1)}static disable(){n.shouldRegisterCSPMonitor=!1,n.unregister()}static addLogger(e){e&&n.loggers.add(e)}static removeLogger(e){e&&n.loggers.delete(e)}}t.default=n,n.loggers=new Set,n.shouldRegisterCSPMonitor=!0,n.added=!1,n.listener=e=>{let t=`Security Policy Violation
Blocked URI: ${e.blockedURI}
Violated Directive: ${e.violatedDirective}
Original Policy: ${e.originalPolicy}
Document URI: ${e.documentURI}
Source File: ${e.sourceFile}
Line No.: ${e.lineNumber}
`;for(let e of n.loggers)e.error(t);0===n.loggers.size&&console.error(t)}},42271:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},42414:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var n,r=i(41873),s="html",o="head",a="body",l=/<([a-zA-Z]+[0-9]?)/,u=/<head[^]*>/i,d=/<body[^]*>/i,c=function(e,t){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},h=function(e,t){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},f="object"==typeof window&&window.DOMParser;if("function"==typeof f){var p=new f,m="text/html";c=h=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),p.parseFromString(e,m)}}if("object"==typeof document&&document.implementation){var g=document.implementation.createHTMLDocument();c=function(e,t){if(t){var i=g.documentElement.querySelector(t);return i&&(i.innerHTML=e),g}return g.documentElement.innerHTML=e,g}}var v="object"==typeof document&&document.createElement("template");function y(e){var t,i,f=(e=(0,r.escapeSpecialCharacters)(e)).match(l),p=f&&f[1]?f[1].toLowerCase():"";switch(p){case s:var m=h(e);if(!u.test(e)){var g=m.querySelector(o);null==(t=null==g?void 0:g.parentNode)||t.removeChild(g)}if(!d.test(e)){var g=m.querySelector(a);null==(i=null==g?void 0:g.parentNode)||i.removeChild(g)}return m.querySelectorAll(s);case o:case a:var v=c(e).querySelectorAll(p);if(d.test(e)&&u.test(e))return v[0].parentNode.childNodes;return v;default:if(n)return n(e);var g=c(e,a).querySelector(a);return g.childNodes}}v&&v.content&&(n=function(e){return v.innerHTML=e,v.content.childNodes})},42434:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994)),o=r(i(35270)),a=r(i(44435)),l=r(i(29826)),u=i(36243),d=r(i(71653)),c=r(i(73876)),h=i(96419),f=r(i(51305)),p=r(i(87644)),m=r(i(82306)),g=r(i(55906)),v=r(i(56099)),y=r(i(8699)),b=r(i(27607)),S=r(i(10106)),w=i(1704);class C{constructor(e,t,i=new s.default,n){this.logger=e,this.browserBehavior=i,this.eventController=n,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new l.default,this.videoInputTaskQueue=new l.default,this.muted=!1,this.mediaStreamMuteObserver=(e,t)=>{for(let i of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(i)&&i.audioInputMuteStateChanged&&i.audioInputMuteStateChanged(e,t)})},this.alreadyHandlingDeviceChange=!1;let{enableWebAudio:r=!1,useMediaConstraintsFallback:u=!0}=t||{};this.useWebAudio=r,this.useMediaConstraintsFallback=u,this.videoInputQualitySettings=new S.default(C.defaultVideoWidth,C.defaultVideoHeight,C.defaultVideoFrameRate);let d=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=d[0],this.videoInputQualitySettings.videoHeight=d[1],this.logger.info(`DefaultDeviceController video dimension ${this.videoInputQualitySettings.videoWidth} x ${this.videoInputQualitySettings.videoHeight}`);try{this.mediaDeviceWrapper=new o.default().create();let e=navigator.mediaDevices.getSupportedConstraints();this.logger.info(`Supported Constraints in this browser ${JSON.stringify(e)}`)}catch(t){e.error(t.message)}}isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},null==(e=this.mediaDeviceWrapper)||e.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var e;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),null==(e=this.mediaDeviceWrapper)||e.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return!!this.deviceChangeObservers.size||this.activeDevices.audio&&null!==this.activeDevices.audio.constraints||this.activeDevices.video&&null!==this.activeDevices.video.constraints||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return n(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.listDevicesOfKind("audioinput",e);return this.trace("listAudioInputDevices",e,t),t})}listVideoInputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.listDevicesOfKind("videoinput",e);return this.trace("listVideoInputDevices",e,t),t})}listAudioOutputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.listDevicesOfKind("audiooutput",e);return this.trace("listAudioOutputDevices",e,t),t})}pushAudioMeetingStateForPermissions(e){var t;null==(t=this.eventController)||t.publishEvent(void 0===e?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(e){var t;null==(t=this.eventController)||t.publishEvent(void 0===e?"videoInputUnselected":"videoInputSelected")}startAudioInput(e){return n(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(e))})}startAudioInputTask(e){var t;return n(this,void 0,void 0,function*(){if(void 0===e)return void this.logger.error("Audio input device cannot be undefined");try{if(h.isAudioTransformDevice(e)?(this.logger.info(`Choosing transform input device ${e}`),yield this.chooseAudioTransformInputDevice(e)):(this.logger.info(`Choosing intrinsic audio input device ${e}`),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",e)),this.trace("startAudioInputDevice",e,"success"),this.useWebAudio)return this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield null==(t=this.transform)?void 0:t.device.mute(this.muted),this.getMediaStreamDestinationNode().stream;return this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream}catch(e){throw e}})}stopAudioInput(){return n(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return n(this,void 0,void 0,function*(){try{if(this.useWebAudio)return void this.releaseAudioTransformStream();this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(e){var t;return n(this,void 0,void 0,function*(){let i;if((null==(t=this.transform)?void 0:t.device)===e)return;if(!this.useWebAudio)throw Error("Cannot apply transform device without enabling Web Audio.");let n=C.getAudioContext();if(n instanceof OfflineAudioContext);else switch(n.state){case"running":break;case"closed":throw Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield n.resume()}try{i=yield e.createAudioNode(n)}catch(e){throw this.logger.error(`Unable to create transform device node: ${e}.`),e}let r=yield e.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",r),this.logger.debug(`Got inner stream: ${r}.`),this.setTransform(e,i)})}chooseVideoTransformInputDevice(e){var t;return n(this,void 0,void 0,function*(){if(this.eventController&&e instanceof d.default&&e.passEventControllerToProcessors(this.eventController),e===this.chosenVideoTransformDevice)return void this.logger.info("Reselecting same VideoTransformDevice");let i=this.chosenVideoTransformDevice;i&&this.logger.info("Switched from previous VideoTransformDevice");let n=!!i,r=yield e.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId(null==(t=this.activeDevices.video)?void 0:t.stream,r)){this.logger.info("video transform device needs new intrinsic device"),n&&i.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=e,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",r),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=e,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield e.transformStream(this.activeDevices.video.stream)})}startVideoInput(e){return n(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(e))})}startVideoInputTask(e){return n(this,void 0,void 0,function*(){if(!e)return void this.logger.error("Invalid video input device");try{if(w.isVideoTransformDevice(e))return this.logger.info(`Choosing video transform device ${e}`),yield this.chooseVideoTransformInputDevice(e),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream;return this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",e),this.trace("startVideoInputDevice",e),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream}catch(e){throw e}})}stopVideoInput(){return n(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return n(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice())return void this.releaseVideoTransformStream();this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(e){return n(this,void 0,void 0,function*(){this.audioOutputDeviceId=e,this.watchForDeviceChangesIfNecessary();let t=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(t),this.trace("chooseAudioOutput",e,null)})}addDeviceChangeObserver(e){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(e),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(e),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var e,t;if(!this.activeDevices.audio)return null;let i=null==(t=null==(e=this.transform)?void 0:e.nodes)?void 0:t.end;if(i){let e=i.context.createAnalyser();return e.removeOriginalInputs=()=>{try{i.disconnect(e)}catch(e){}},i.connect(e),e}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(e){let t=C.getAudioContext(),i=t.createAnalyser(),n=t.createMediaStreamSource(e);return n.connect(i),this.trace("createAnalyserNodeForAudioInput"),i.removeOriginalInputs=()=>{try{n.disconnect(i)}catch(e){}},i}startVideoPreviewForVideoInput(e){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",e.id);return}c.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,e,!0),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){c.default.disconnectVideoStreamFromVideoElement(e,!1),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){if(this.deviceInfoCache){for(let e of this.deviceInfoCache)if(!e.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=e,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){let t=null;return this.useWebAudio?(t=C.getAudioContext().createMediaStreamSource(e)).connect(this.getMediaStreamOutputNode()):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,i){let n=this.browserBehavior.requiresResolutionAlignment(e,t);this.videoInputQualitySettings=new S.default(n[0],n[1],i)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return n(this,void 0,void 0,function*(){return(this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio)?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return n(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(e){return n(this,void 0,void 0,function*(){throw Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(e){let t=this.activeDevices[e];if(!t)return;let i=t.endedCallback,n=t.trackMuteCallback,r=t.trackUnmuteCallback;for(let s of t.stream.getTracks())s.stop(),i&&s.removeEventListener("ended",i),n&&s.removeEventListener("mute",n),r&&s.removeEventListener("unmute",r),delete t.endedCallback,delete t.trackMuteCallback,delete t.trackUnmuteCallback,delete this.activeDevices[e]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(e){var t;let i=this.activeDevices.audio;if(this.useWebAudio&&(i=this.getMediaStreamDestinationNode()),i){for(let t of i.stream.getTracks())t.enabled!==e&&(t.enabled=e);!e!==this.muted&&(this.muted=!e,null==(t=this.transform)||t.device.mute(this.muted))}}static getIntrinsicDeviceId(e){if(!e)return;if("string"==typeof e)return e;if(e.id)return e.id;let t=e.deviceId;if(!t)return;if("string"==typeof t||Array.isArray(t))return t;let i=t;if("string"==typeof i.exact||Array.isArray(i.exact))return i.exact}static createEmptyAudioDevice(){return C.synthesizeAudioDevice(0)}static synthesizeAudioDevice(e){let t=C.getAudioContext(),i=t.createMediaStreamDestination();if(e){let n=t.createGain();n.gain.value=.1,n.connect(i);let r=t.createOscillator();r.frequency.value=e,r.connect(n),r.start()}else{let e=t.createBufferSource();try{e.buffer=t.createBuffer(1,5*t.sampleRate,t.sampleRate)}catch(i){if(i&&"NotSupportedError"===i.name)e.buffer=t.createBuffer(1,5*C.defaultSampleRate,C.defaultSampleRate);else throw i}e.buffer.getChannelData(0)[0]=3e-4,e.loop=!0,e.connect(i),e.start()}return i.stream}listDevicesOfKind(e,t){return n(this,void 0,void 0,function*(){return(t||null===this.deviceInfoCache||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(e)})}updateDeviceInfoCacheFromBrowser(){var e;return n(this,void 0,void 0,function*(){if("undefined"==typeof MediaDeviceInfo){this.deviceInfoCache=[];return}let t=yield navigator.mediaDevices.enumerateDevices(),i=!0;for(let e of t)if(!e.label){i=!1;break}if(!i)try{this.logger.info("attempting to trigger media device labels since they are hidden");let e=yield this.deviceLabelTrigger();for(let i of(t=yield navigator.mediaDevices.enumerateDevices(),e.getTracks()))i.stop()}catch(t){this.logger.info("unable to get media device labels"),null==(e=this.eventController)||e.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(t)})}this.logger.debug(`Update device info cache with devices: ${JSON.stringify(t)}`),this.deviceInfoCache=t})}listCachedDevicesOfKind(e){let t=[];if(this.deviceInfoCache)for(let i of this.deviceInfoCache)i.kind===e&&t.push(i);return t}handleDeviceChange(){return n(this,void 0,void 0,function*(){if(null===this.deviceInfoCache)return;if(this.alreadyHandlingDeviceChange)return void a.default.nextTick(()=>{this.handleDeviceChange()});this.alreadyHandlingDeviceChange=!0;let e=this.listCachedDevicesOfKind("audioinput"),t=this.listCachedDevicesOfKind("videoinput"),i=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();let n=this.listCachedDevicesOfKind("audioinput"),r=this.listCachedDevicesOfKind("videoinput"),s=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(o=>{this.areDeviceListsEqual(e,n)||u.Maybe.of(o.audioInputsChanged).map(e=>e.bind(o)(n)),this.areDeviceListsEqual(t,r)||u.Maybe.of(o.videoInputsChanged).map(e=>e.bind(o)(r)),this.areDeviceListsEqual(i,s)||u.Maybe.of(o.audioOutputsChanged).map(e=>e.bind(o)(s))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(e,t){return n(this,void 0,void 0,function*(){try{"audio"===e?(this.useWebAudio&&this.browserBehavior.requiresAudioContextResetOnDeviceFailureForWebAudio()?(this.logger.warn("Audio input device which was active is no longer available, suspending and resuming audio context before resetting to empty device to ensure packets are sent"),yield this.stopAudioInput(),C.suspendAudioContext(),C.resumeAudioContext()):this.logger.warn("Audio input device which was active is no longer available, resetting to empty device to ensure packets are sent"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch(e){this.logger.error("Failed to choose null device after stream ended.")}"audio"===e?this.forEachObserver(e=>{u.Maybe.of(e.audioInputStreamEnded).map(i=>i.bind(e)(t))}):this.forEachObserver(e=>{u.Maybe.of(e.videoInputStreamEnded).map(i=>i.bind(e)(t))})})}forEachObserver(e){for(let t of this.deviceChangeObservers)a.default.nextTick(()=>{this.deviceChangeObservers.has(t)&&e(t)})}forEachMediaStreamBrokerObserver(e){for(let t of this.mediaStreamBrokerObservers)a.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(t)&&e(t)})}areDeviceListsEqual(e,t){return JSON.stringify(e.map(e=>JSON.stringify(e)).sort())===JSON.stringify(t.map(e=>JSON.stringify(e)).sort())}intrinsicDeviceAsMediaStream(e){return e&&e.id?e:null}hasSameMediaStreamId(e,t,i){var n,r,s,o;let a;return"audio"===e?!!(a=null==i?void 0:i.audio.streamId)&&a===(null==(r=null==(n=t.constraints)?void 0:n.audio)?void 0:r.streamId):!!(a=null==i?void 0:i.video.streamId)&&a===(null==(o=null==(s=null==t?void 0:t.constraints)?void 0:s.video)?void 0:o.streamId)}hasSameGroupId(e,t,i){if(""===e)return!0;let n=C.getIntrinsicDeviceId(i);return this.logger.debug(`Checking deviceIds ${n} of type ${typeof n} with groupId ${e}`),"string"==typeof n&&e===this.getGroupIdFromDeviceId(t,n)}getGroupIdFromDeviceId(e,t){if(null!==this.deviceInfoCache){let i=this.listCachedDevicesOfKind(`${e}input`).find(e=>e.deviceId===t);if(i&&i.groupId)return this.logger.debug(`GroupId of deviceId ${t} found in cache is ${i.groupId}`),i.groupId}return this.logger.debug(`GroupId of deviceId ${t} found in cache is empty`),""}handleGetUserMediaError(e,t){if(!e)throw new p.default(e);switch(e.name){case"NotReadableError":case"TrackStartError":throw new g.default(e);case"NotFoundError":case"DevicesNotFoundError":throw new m.default(e);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":if(t&&t<C.permissionDeniedOriginDetectionThresholdMs)throw new y.default(e,"Permission denied by browser");throw new y.default(e,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new v.default(e);case"TypeError":throw new b.default(e);default:throw new p.default(e)}}matchesDeviceSelection(e,t,i,n){return!!(i&&i.stream.active&&(this.hasSameMediaStreamId(e,i,n)||null!==i.groupId&&this.hasSameGroupId(i.groupId,e,t)))&&(this.logger.debug(`Compare current device constraint ${JSON.stringify(i.constraints)} to proposed constraints ${JSON.stringify(n)}`),i.matchesConstraints(n))}chooseInputIntrinsicDevice(e,t){var i,r;return n(this,void 0,void 0,function*(){let n=this.getMediaStreamConstraints(e,t);if(this.matchesDeviceSelection(e,t,this.activeDevices[e],n))return void this.logger.info(`reusing existing ${e} input device`);this.activeDevices[e]&&this.activeDevices[e].stream&&this.stopTracksAndRemoveCallbacks(e);let s=Date.now(),o=new f.default;try{this.logger.info(`requesting new ${e} device with constraint ${JSON.stringify(n)}`);let i=this.intrinsicDeviceAsMediaStream(t);"audio"===e&&null===t?(o.stream=C.createEmptyAudioDevice(),o.constraints=null):(i?(this.logger.info(`using media stream ${i.id} for ${e} device`),o.stream=i):o.stream=yield navigator.mediaDevices.getUserMedia(n),o.constraints=n),yield this.handleNewInputDevice(e,o)}catch(u){let a=this.getErrorMessage(u);"audio"===e?null==(i=this.eventController)||i.publishEvent("audioInputFailed",{audioInputErrorMessage:a}):null==(r=this.eventController)||r.publishEvent("videoInputFailed",{videoInputErrorMessage:a}),this.logger.error(`failed to get ${e} device for constraints ${JSON.stringify(n)}: ${a}`);let l=!0;if(u&&"constraint"in u&&(this.logger.error(`Over-constrained by constraint: ${u.constraint}`),this.useMediaConstraintsFallback)){let i=this.getMediaStreamConstraints(e,t,!0),r=JSON.stringify(i);if(r!==JSON.stringify(n)){this.logger.info(`retry requesting new ${e} device with minimal constraint ${r}`);try{o.stream=yield navigator.mediaDevices.getUserMedia(i),o.constraints=i,yield this.handleNewInputDevice(e,o),l=!1}catch(t){this.logger.error(`failed to get ${e} device for constraints ${r}: ${this.getErrorMessage(t)}`)}}}if(l){if("audio"===e){this.logger.info(`choosing null ${e} device instead`);try{o.stream=C.createEmptyAudioDevice(),o.constraints=null,yield this.handleNewInputDevice(e,o)}catch(t){this.logger.error(`failed to choose null ${e} device. ${t.name}: ${t.message}`)}}this.handleGetUserMediaError(u,Date.now()-s)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(e){return e?e.name&&e.message?`${e.name}: ${e.message}`:e.name?e.name:e.message?e.message:"UnknownError":"UnknownError"}handleNewInputDevice(e,t){var i;return n(this,void 0,void 0,function*(){this.logger.info(`got ${e} device for constraints ${JSON.stringify(t.constraints)}`);let n=null==(i=this.getMediaTrackSettings(t.stream))?void 0:i.deviceId;t.groupId=n?this.getGroupIdFromDeviceId(e,n):"",this.activeDevices[e]=t,this.logger.debug(`Set activeDevice to ${JSON.stringify(t)}`),this.watchForDeviceChangesIfNecessary();let r=t.stream.getTracks()[0];if(r&&(t.endedCallback=()=>{this.activeDevices[e]&&this.activeDevices[e].stream===t.stream&&(this.handleDeviceStreamEnded(e,n),delete t.endedCallback)},r.addEventListener("ended",t.endedCallback,{once:!0})),"audio"===e){let e=t.stream.getAudioTracks()[0];if(e){let i=e.getSettings().deviceId||t.stream;t.trackMuteCallback=()=>{this.mediaStreamMuteObserver(i,!0)},t.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(i,!1)},e.addEventListener("mute",t.trackMuteCallback,{once:!1}),e.addEventListener("unmute",t.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),e.muted?t.trackMuteCallback():t.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(e,t,i,n){if(n&&1===this.listCachedDevicesOfKind(`${e}input`).length)return!0;let r={};return(this.browserBehavior.requiresNoExactMediaStreamConstraints()?r.deviceId=t:r.deviceId={exact:t},i&&(r.groupId=i),n)?r:"video"===e?(r.width={ideal:this.videoInputQualitySettings.videoWidth},r.height={ideal:this.videoInputQualitySettings.videoHeight},r.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},r):(this.supportSampleRateConstraint()&&(r.sampleRate={ideal:C.defaultSampleRate}),this.supportSampleSizeConstraint()&&(r.sampleSize={ideal:C.defaultSampleSize}),this.supportChannelCountConstraint()&&(r.channelCount={ideal:C.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},r))}getMediaStreamConstraintsFromTrackConstraints(e,t){return"audio"===e?{audio:t}:{video:t}}getMediaStreamConstraints(e,t,i=!1){let n={};if(!t)return null;let r=this.intrinsicDeviceAsMediaStream(t);if(r)return n.streamId=r.id,this.getMediaStreamConstraintsFromTrackConstraints(e,n);if("string"==typeof t){let r="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(null!==this.deviceInfoCache?r=this.getGroupIdFromDeviceId(e,t):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),n=this.calculateMediaStreamConstraints(e,t,r,i),this.getMediaStreamConstraintsFromTrackConstraints(e,n)}return x(t)?n=this.calculateMediaStreamConstraints(e,t.deviceId,t.groupId,i):n=t,this.getMediaStreamConstraintsFromTrackConstraints(e,n)}deviceInfoFromDeviceId(e,t){if(null===this.deviceInfoCache)return null;for(let i of this.deviceInfoCache)if(i.kind===e&&i.deviceId===t)return i;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(e,t){if(!e||!e.active||!t)return!1;if(t.id)return e.id===t.id;let i=this.getMediaTrackSettings(e);if(!i.deviceId)return!1;let n=C.getIntrinsicDeviceId(t);return"string"==typeof n&&i.deviceId===n}getMediaTrackSettings(e){var t;return null==(t=e.getTracks()[0])?void 0:t.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();let e=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(e)}setTransform(e,t){var i,n;null==(n=null==(i=this.transform)?void 0:i.nodes)||n.end.disconnect(),this.transform={nodes:t,device:e};let r=null==t?void 0:t.end,s=this.getMediaStreamDestinationNode();this.logger.debug(`Connecting transform node ${r} to destination ${s}.`),null==r||r.connect(s),this.reconnectAudioInputs()}removeTransform(){var e;let t=this.transform;if(t)return null==(e=this.transform.nodes)||e.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),t}attachAudioInputStreamToAudioContext(e){var t;null==(t=this.audioInputSourceNode)||t.disconnect(),this.audioInputSourceNode=C.getAudioContext().createMediaStreamSource(e);let i=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(i)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=C.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var e,t;return(null==(t=null==(e=this.transform)?void 0:e.nodes)?void 0:t.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(e){C.defaultLatencyHint=e}static getAudioContext(){if(!C.audioContext){let e={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(e.sampleRate=C.defaultSampleRate),new s.default().requiresPlaybackLatencyHintForAudioContext()&&(e.latencyHint="playback"),C.defaultLatencyHint&&(e.latencyHint=C.defaultLatencyHint),C.audioContext=new(window.AudioContext||window.webkitAudioContext)(e)}return C.audioContext}static suspendAudioContext(){return n(this,void 0,void 0,function*(){return C.audioContext?C.audioContext.suspend():Promise.resolve()})}static resumeAudioContext(){return n(this,void 0,void 0,function*(){return C.audioContext?C.audioContext.resume():Promise.resolve()})}static closeAudioContext(){if(C.audioContext)try{C.audioContext.close()}catch(e){}C.audioContext=null}addMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.add(e)}removeMediaStreamBrokerObserver(e){this.mediaStreamBrokerObservers.delete(e)}publishVideoInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver(t=>{t.videoInputDidChange&&t.videoInputDidChange(e)}),this.pushVideoMeetingStateForPermissions(e)}publishAudioInputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver(t=>{t.audioInputDidChange&&t.audioInputDidChange(e)}),this.pushAudioMeetingStateForPermissions(e)}publishAudioOutputDidChangeEvent(e){this.forEachMediaStreamBrokerObserver(t=>{t.audioOutputDidChange&&t.audioOutputDidChange(e)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(e,t,i){let n=`API/DefaultDeviceController/${e}`;void 0!==t&&(n+=` ${JSON.stringify(t)}`),void 0!==i&&(n+=` -> ${JSON.stringify(i)}`),this.logger.info(n)}}function x(e){return"object"==typeof e&&"deviceId"in e&&"groupId"in e&&"kind"in e&&"label"in e}t.default=C,C.permissionDeniedOriginDetectionThresholdMs=500,C.defaultVideoWidth=960,C.defaultVideoHeight=540,C.defaultVideoFrameRate=15,C.defaultSampleRate=48e3,C.defaultSampleSize=16,C.defaultChannelCount=1,C.audioContext=null},42486:(e,t)=>{"use strict";function i(e){return e.map(e=>"object"==typeof e?JSON.stringify(e):`${e}`).join(" ")}Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.base=e}debug(...e){this.base.debug(i(e))}info(...e){this.base.info(i(e))}warn(...e){this.base.warn(i(e))}error(...e){this.base.error(i(e))}}t.default=n},42505:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900));class s extends r.default{constructor(e,t,i){super(t,i,"Sending Audio Health"),this.logger=e,this.sendingAudioFailureSamplesToConsider=t.sendingAudioFailureSamplesToConsider>0?t.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=t.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=t.maximumTimesToWarn,this.coolDownTimeMs=t.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}isSendingAudioUnhealthy(){let e=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),t=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return e&&t}health(){if(this.isSendingAudioUnhealthy()){let e=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return!(this.currentHealth>this.minimumHealth())||e?this.currentHealth:(this.logger.warn(`Sending Audio is unhealthy for ${this.sendingAudioFailureSamplesToConsider} seconds consecutively.`),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())}return this.maximumHealth()}}t.default=s},42531:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=i(95555);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=i(6162);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var s=i(89910);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var o=i(79649);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},42642:(e,t,i)=>{"use strict";var n=i(15376).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=i(90403),s=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},42992:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(1417)),o=r(i(44748)),a=r(i(5551)),l=r(i(40001)),u=i(19408),d=r(i(23521)),c=r(i(91357)),h=i(96119),f=i(50492),p=r(i(76234));class m extends p.default{constructor(e){super(e.logger),this.context=e,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new l.default(e.logger)}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return n(this,void 0,void 0,function*(){let e,t="";if(this.context.peer&&this.context.peer.localDescription&&(t=new a.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let e=0,t=0;this.context.videoCaptureAndEncodeParameter&&(e=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),t=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);let i={rid:"hi",maxBitrate:1e3*t,maxFramerate:e,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([i])}let i=this.fixUpSubscriptionOrder(t,this.context.videoSubscriptions),n=this.context.videoDuplexMode===h.SdkStreamServiceType.TX||this.context.videoDuplexMode===h.SdkStreamServiceType.DUPLEX,r=t;if(void 0!==this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()||(r=new a.default(r).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){let i=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";e=this.textCompressor.compress(r,i),this.context.logger.info(`Compressed the SDP message from ${r.length} to ${e.length} bytes.`),t=""}this.context.previousSdpOffer=new a.default(t);let s=new c.default(this.context.meetingSessionConfiguration.credentials.attendeeId,t,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,i,n,this.context.videoStreamIndex.localStreamDescriptions(),!0,e);void 0===this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption||u.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())||void 0===this.context.videoDownlinkBandwidthPolicy.getVideoPreferences||(s.videoSubscriptionConfiguration=f.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,i.map(e=>0===e?0:this.context.videoStreamIndex.groupIdForStreamId(e)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info(`sending subscribe: ${JSON.stringify(s)}`),this.context.signalingClient.subscribe(s);let o=yield this.receiveSubscribeAck();this.context.logger.info(`got subscribe ack: ${JSON.stringify(o)}`);let l="";o.compressedSdpAnswer&&o.compressedSdpAnswer.length?(0===(l=this.textCompressor.decompress(o.compressedSdpAnswer,this.context.previousSdpAnswerAsString)).length&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info(`Decompressed the SDP message from ${o.compressedSdpAnswer.length} to ${l.length} bytes.`),this.context.sdpAnswer=l):this.context.sdpAnswer=o.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(o)})}fixUpSubscriptionOrder(e,t){if(void 0===this.context.transceiverController.getMidForStreamId)return t;let i=new Map;for(let e of t){let t=this.context.transceiverController.getMidForStreamId(e);if(void 0===t){0!==e&&this.logger.warn(`Could not find MID for stream ID: ${e}`);continue}i.set(t,e)}let n=new a.default(e).mediaSections(),r=[];for(let e of n)if("video"===e.mediaType)if("recvonly"===e.direction){let t=i.get(e.mid);if(void 0===t){this.logger.warn(`Could not find stream ID for MID: ${e.mid}`);continue}r.push(t)}else r.push(0);return this.logger.info(`Fixed up ${JSON.stringify(t)} to ${JSON.stringify(r)} (may be same))}`),r}receiveSubscribeAck(){return new Promise((e,t)=>{let i=this.context;class n{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(t){if(t.isConnectionTerminated()){let e=`SubscribeAndReceiveSubscribeAckTask connection was terminated with code ${t.closeCode} and reason: ${t.closeReason}`;i.logger.warn(e);let n=o.default.TaskFailed;t.closeCode>=4500&&t.closeCode<4600&&(n=o.default.SignalingInternalServerError),i.audioVideoController.handleMeetingSessionStatus(new s.default(n),Error(e));return}t.type===d.default.ReceivedSignalFrame&&t.message.type===h.SdkSignalFrame.Type.SUBSCRIBE_ACK&&(this.signalingClient.removeObserver(this),e(t.message.suback))}}let r=new n(this.context.signalingClient);this.context.signalingClient.registerObserver(r),this.taskCanceler=r})}}t.default=m},43307:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(27471);function r(e,t){if((i=e.length)>0){for(var i,r=0,s=e[t[0]],o=s.length;r<o;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;s[r][1]+=s[r][0]=-l/2}(0,n.A)(e,t)}}},43661:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(17627),o=i(79018),a=i(1188),l=r(i(61994)),u=r(i(77541)),d=i(25927),c=r(i(99789)),h=r(i(45595)),f=i(99038),p=i(14816),m=i(13404),g=i(93026);class v{constructor(e,t=m.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,i){this.logger=e,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new h.default(this.outputCanvas),this.videoFxSpec=m.DEFAULT_VIDEO_FX_SPEC;try{this.validateProcessingBudgetPerFrame(t)}catch(e){throw this.logger.error(e),Error(`Cannot instantiate VideoFxProcessor due to invalid processingBudgetPerFrame of ${t}`)}i&&(this.eventController=i),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new f.DeferredPromise,this.segmentationRateManager=new g.VideoFxSegmentationRateManager(this.logger,t),this.streamParameters={framerate:m.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:m.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:m.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:m.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},v.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info(`VideoFx supports Shared Array Buffer: ${v.isSharedArrayBufferSupported}`),this.canvasOpsManager=new p.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info(`VideoFxProcessor instantiated with a processingBudgetPerFrame of ${t}`)}process(e){return n(this,void 0,void 0,function*(){return e})}fxProcess(e){return n(this,void 0,void 0,function*(){let t=e[0].asCanvasElement();this.didStreamParametersChange(t)&&(yield this.adjustProcessorForNewStreamParameters(t));try{yield this.manageSegmentationMask(t)}catch(e){throw this.logger.error(e),Error("Video stream could not be processed")}return yield this.renderer.render(t,this.segmentationMask),e[0]=this.canvasVideoFrameBuffer,e})}noOpProcess(e){return n(this,void 0,void 0,function*(){return e})}didStreamParametersChange(e){return e.width!==this.streamParameters.width||e.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(e){return n(this,void 0,void 0,function*(){this.streamParameters.width=e.width,this.streamParameters.height=e.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return n(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new f.DeferredPromise,this.engineWorker.postMessage({msg:m.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:m.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(e){return n(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();let t=this.canvasOpsManager.getInferenceInputData(e);this.segmentationMask=yield this.generateSegmentationMask(t),this.segmentationRateManager.completeSegmentation()}}catch(e){throw this.logger.error(e.toString()),Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(e){return n(this,void 0,void 0,function*(){v.isSharedArrayBufferSupported?(this.sharedImageData.set(e.data),this.engineWorker.postMessage({msg:m.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:m.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:e},[e.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(e){throw this.logger.error(e.toString()),Error("Segmentation mask could not be generated")}})}cloneConfigFrom(e){return{backgroundBlur:{isEnabled:e.backgroundBlur.isEnabled,strength:e.backgroundBlur.strength},backgroundReplacement:{isEnabled:e.backgroundReplacement.isEnabled,backgroundImageURL:e.backgroundReplacement.backgroundImageURL,defaultColor:e.backgroundReplacement.defaultColor}}}setVideoFxSpec(e){e.paths&&(this.videoFxSpec.paths=e.paths)}setEffectConfig(e){return n(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(e,this.effectConfig))return;let t=this.cloneConfigFrom(e);try{yield this.validateEffectConfig(t)}catch(e){throw this.logger.error(e.toString()),Error("Provided effect config is invalid, not updating VideoFxProcessor")}t.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(t),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,t),this.effectConfig=t,this.effectConfig.backgroundBlur.isEnabled||this.effectConfig.backgroundReplacement.isEnabled?this.process=this.fxProcess:this.process=this.noOpProcess,this.logger.info(`VideoFxProcessor effect configuration updated to: ${JSON.stringify(this.effectConfig)}`),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(e){return n(this,void 0,void 0,function*(){if(e.backgroundBlur.isEnabled&&e.backgroundReplacement.isEnabled)throw Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");e.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(e))})}validateReplacementConfig(e){return n(this,void 0,void 0,function*(){if(e.backgroundReplacement.backgroundImageURL&&e.backgroundReplacement.defaultColor)throw Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!e.backgroundReplacement.backgroundImageURL&&!e.backgroundReplacement.defaultColor)throw Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{e.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(e.backgroundReplacement.backgroundImageURL))}catch(e){throw this.logger.error(e.toString()),Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}let t=e.backgroundReplacement.defaultColor;if(t&&"black"!==t&&"#000000"!==t&&"#000"!==t){if(t.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(t))throw Error(`Invalid hexadecimal color code for default replacement background: ${t}`);let e=document.createElement("canvas").getContext("2d"),i=e.fillStyle;if(e.fillStyle=t,e.fillStyle===i)throw Error(`Invalid color for default replacement background: ${t}`)}})}validateProcessingBudgetPerFrame(e){if(e<m.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||e>m.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw Error(`Invalid resource constraint: cycle percentage must be within range of ${m.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET} and ${m.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET}`)}loadAssets(){return n(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{let e=this.getVideoFxAssetParams();yield this.loadEngineWorker(e),yield this.buildEngine(e),yield this.loadFxLib(e),this.renderer=constructRenderer(m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(e){throw this.logger.error(e.toString()),Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){let e=d.getDefaultAssetSpec();return{assetGroup:e.assetGroup,revisionID:e.revisionID,sdk:encodeURIComponent(c.default.sdkVersion),ua:encodeURIComponent(c.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(e,t){let i=new URL(e);for(let[e,n]of Object.entries(t))if(void 0!==n){let t=encodeURIComponent(e),r=encodeURIComponent(n);i.searchParams.set(t,r)}return i.toString()}loadEngineWorker(e){return n(this,void 0,void 0,function*(){try{let t=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.workerPath,e);this.engineWorker=yield o.loadWorker(t,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",e=>this.engineWorkerReceiver(e))}catch(e){throw this.logger.error(e.toString()),Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(e){return n(this,void 0,void 0,function*(){this.buildEnginePromise=new f.DeferredPromise,this.engineWorker.postMessage({msg:m.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:this.videoFxSpec.paths.cdnBasePath,sdkVersioningParams:e}});try{yield this.buildEnginePromise.getPromise()}catch(e){throw this.logger.error(e.toString()),Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(e){return n(this,void 0,void 0,function*(){let t=this.getPathFromVideoFxAssetParams(this.videoFxSpec.paths.cdnBasePath+this.videoFxSpec.paths.fxLibPath,e),i={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{let e=yield s.fetchWithBehavior(t,i,{});if(!e.ok)throw Error("Fetch failed.");let n=window.URL.createObjectURL((yield e.blob()));yield new Promise((e,t)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",n),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",e),this.fxLibScript.addEventListener("error",t),document.body.appendChild(this.fxLibScript)})}catch(e){throw this.logger.error(e.toString()),Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(e){let t=e.data;switch(t.msg){case m.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(t.payload);break;case m.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(t.payload.output);break;case m.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case m.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info(`VideoFx worker received unknown event msg: ${JSON.stringify(t)}`)}}settleEngineBuildPromise(e){e!==m.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(e){e?this.segmentationRequestPromise.resolveAndReplacePromise(e):this.segmentationRequestPromise.rejectAndReplacePromise(Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{let e=new ImageData(new Uint8ClampedArray(this.sharedImageData),m.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,m.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(e)}catch(e){this.segmentationRequestPromise.rejectAndReplacePromise(Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(e=new u.default,t=!0){return n(this,void 0,void 0,function*(){let i=!0,r=(t,n)=>{t&&(e.info(n),i=!1)};r("undefined"==typeof globalThis,"Browser does not have globalThis."),r(!a.supportsWorker(globalThis,e),"Browser does not support web workers."),r(!a.supportsWASM(globalThis,e),"Browser does not support wasm."),r(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl."),r(!new l.default().isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");let s=()=>n(this,void 0,void 0,function*(){if(t)try{let t=new v(e);yield t.loadAssets(),yield t.destroy()}catch(t){return e.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)});return Promise.resolve(!!i&&(yield s()))})}static create(e,t,i=m.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,r){return n(this,void 0,void 0,function*(){let n=new v(e,i);r&&n.setVideoFxSpec(r);try{return yield n.loadAssets(),yield n.setEffectConfig(t),n}catch(t){throw e.error(t.toString()),n.setToNoOpProcess(),Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){let e={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}sameVideoFxConfig(e,t){return e.backgroundBlur.isEnabled===t.backgroundBlur.isEnabled&&e.backgroundBlur.strength===t.backgroundBlur.strength&&e.backgroundReplacement.backgroundImageURL===t.backgroundReplacement.backgroundImageURL&&e.backgroundReplacement.defaultColor===t.backgroundReplacement.defaultColor&&e.backgroundReplacement.isEnabled===t.backgroundReplacement.isEnabled}}t.default=v,v.isSharedArrayBufferSupported="undefined"!=typeof SharedArrayBuffer},43783:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unread="unread",e.LastMessageTimestamp="last-message-timestamp"}(i||(i={})),t.default=i},43988:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.VideoInputRequestFailed=1]="VideoInputRequestFailed",e[e.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.VideoNotSent=4]="VideoNotSent"}(i=t.CheckVideoConnectivityFeedback||(t.CheckVideoConnectivityFeedback={})),t.default=i},44425:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(48)),o=r(i(12741)),a=r(i(13952)),l=r(i(42505)),u=r(i(68756)),d=r(i(53510)),c=r(i(1417)),h=r(i(44748)),f=r(i(44495)),p=r(i(23521)),m=i(96119),g=r(i(58817)),v=i(36243),y=r(i(76234));class b extends y.default{constructor(e,t,i){for(let n of(super(e.logger),this.context=e,this.initialConnectionHealthData=i,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.videoEncodingHealthPolicies=[],this.checkAndSendWeakSignalEvent=e=>{let t=e<1,i=this.prevSignalStrength<1,n=t?i?null:g.default.RedmicStartLoss:i?g.default.RedmicEndLoss:null;n&&this.context.statsCollector.logAudioEvent(n),this.prevSignalStrength=e},this.realtimeFatalErrorCallback=e=>{this.logger.error(`realtime error: ${e}: ${e.stack}`),this.context.audioVideoController.handleMeetingSessionStatus(new c.default(h.default.RealtimeApiFailed),e)},this.realtimeAttendeeIdPresenceHandler=(e,t)=>{var i;let n=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info(`attendeePresenceReceived: ${n}`),n===e&&t&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,null==(i=this.context.eventController)||i.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{let{signalingOpenDurationMs:e,startTimeMs:t,iceGatheringDurationMs:i,attendeePresenceDurationMs:n,meetingStartDurationMs:r}=this.context;return{meetingDurationMs:null===t?0:Math.round(Date.now()-t),signalingOpenDurationMs:e,iceGatheringDurationMs:i,attendeePresenceDurationMs:n,meetingStartDurationMs:r}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>Object.assign(Object.assign({},this.generateBaseAudioVideoEventAttributes()),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount}),this.reconnectionHealthPolicy=new a.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new u.default(Object.assign({},t),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new l.default(e.logger,Object.assign({},t),this.initialConnectionHealthData.clone()),t.videoEncodingHealthPolicies))this.videoEncodingHealthPolicies.push(new n(Object.assign({},t),this.initialConnectionHealthData.clone()))}removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return n(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(e){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(e){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=e;return}this.pendingMetricsReport=void 0;let t=e.getObservableMetrics(),i=t.availableOutgoingBitrate,n=t.nackCountReceivedPerSecond,r=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(e);let s=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(r=r||s,s){let e=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=e.truncate(this.context.videoSubscriptionLimit),e.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.logger.info(`trigger resubscribe for down=${s}; videosToReceive=[${this.context.videosToReceive.array()}]`)}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:i/1e3,nackCountPerSecond:n});let e=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();r=r||e,e&&(this.logger.info(`trigger resubscribe for up=${e}; videosToReceive=[${this.context.videosToReceive.array()}]`),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters())}return r}metricsDidReceive(e){if(this.checkResubscribe(e)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;let t=e.streamMetricReports,i=new Map;for(let e in t)t[e].mediaType===o.default.VIDEO&&t[e].direction===s.default.DOWNSTREAM&&i.set(t[e].streamId,t[e])}connectionHealthDidChange(e){for(let t of(0===e.consecutiveMissedPongs&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,e,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new c.default(h.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,e,()=>{var e;this.context.poorConnectionCount+=1;let t=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null==(e=this.context.eventController)||e.publishEvent("receivingAudioDropped",t),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(e=>{v.Maybe.of(e.connectionDidSuggestStopVideo).map(t=>t.bind(e)())}):this.context.audioVideoController.forEachObserver(e=>{v.Maybe.of(e.connectionDidBecomePoor).map(t=>t.bind(e)())})},()=>{this.context.audioVideoController.forEachObserver(e=>{v.Maybe.of(e.connectionDidBecomeGood).map(t=>t.bind(e)())})}),this.videoEncodingHealthPolicies))this.applyHealthPolicy(t,e,()=>{switch(this.degradeVideoCodec(t.name),t.name){case d.default.VideoEncodingCpuHealth:this.context.statsCollector.videoCodecDegradationHighEncodeCpuDidReceive();break;case d.default.VideoEncodingFramerateHealth:this.context.statsCollector.videoCodecDegradationEncodeFailureDidReceive();break;case d.default.VideoConcurrentSendersHealth:this.context.statsCollector.videoCodecDegradationConcurrentSendersDidReceive()}});this.context.isSessionConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,e,()=>{var e;let t=this.generateBaseAudioVideoEventAttributes();null==(e=this.context.eventController)||e.publishEvent("sendingAudioFailed",t)},()=>{var e;let t=this.generateBaseAudioVideoEventAttributes();null==(e=this.context.eventController)||e.publishEvent("sendingAudioRecovered",t)})}applyHealthPolicy(e,t,i,n){e.update(t);let r=e.healthIfChanged();null!==r&&(this.logger.info(`${e.name} value is now ${r}`),r<=e.minimumHealth()?v.Maybe.of(i).map(e=>e.bind(this)()):v.Maybe.of(n).map(e=>e.bind(this)()))}handleBitrateFrame(e){this.currentAvailableStreamAvgBitrates=e,e.serverAvailableOutgoingBitrate>0&&(this.logger.info(`Received server side estimation of available incoming bitrate ${e.serverAvailableOutgoingBitrate}kbps`),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",1e3*e.serverAvailableOutgoingBitrate))}handleSignalingClientEvent(e){var t;if(e.type===p.default.WebSocketClosed&&this.isUnexpectedWebsocketCloseCode(e.closeCode)||e.type===p.default.WebSocketError||e.type===p.default.WebSocketFailed){if(e.type===p.default.WebSocketClosed&&this.context.logger.info(`The signaling connection was closed with code ${e.closeCode} and reason: ${e.closeReason}`),!this.hasSignalingError){let e=this.generateAudioVideoEventAttributesForReceivingAudioDropped();null==(t=this.context.eventController)||t.publishEvent("signalingDropped",e),this.hasSignalingError=!0}this.context.isSessionConnected&&this.context.audioVideoController.handleMeetingSessionStatus(new c.default(this.isInternalServerFailureCloseCode(e.closeCode)?h.default.SignalingInternalServerError:h.default.SignalingChannelClosedUnexpectedly),null)}else e.type===p.default.WebSocketOpen&&(this.hasSignalingError=!1);if(e.type===p.default.ReceivedSignalFrame){if(e.message.type===m.SdkSignalFrame.Type.NOTIFICATION){switch(e.message.notification.level){case m.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info(`Received notification from server: ${e.message.notification.message}`);break;case m.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn(`Received warning from server: ${e.message.notification.message}`);break;case m.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error(`Received error from server: ${e.message.notification.message}`);break;default:this.logger.error(`Received notification from server with unknown level ${e.message.notification.level}: ${e.message.notification.message}`)}return}if(e.message.bitrates){let t=e.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(t),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(e.message.bitrates)}let t=c.default.fromSignalFrame(e.message);e.message.type!==m.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&t.statusCode()!==h.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(t,null)}}isUnexpectedWebsocketCloseCode(e){return 1006===e||this.isInternalServerFailureCloseCode(e)}isInternalServerFailureCloseCode(e){return e>=4500&&e<4600}degradeVideoCodec(e){if(void 0!==this.context.meetingSupportedVideoSendCodecPreferences&&this.context.meetingSupportedVideoSendCodecPreferences.length>1&&!(this.context.meetingSupportedVideoSendCodecPreferences[0].equals(f.default.h264ConstrainedBaselineProfile())||this.context.meetingSupportedVideoSendCodecPreferences[0].equals(f.default.vp8()))){let t=[];for(let e of this.context.videoSendCodecPreferences)e.equals(this.context.meetingSupportedVideoSendCodecPreferences[0])||t.push(e);t.length>0?(this.context.logger.info(`Downgrading codec from ${this.context.meetingSupportedVideoSendCodecPreferences[0].codecName} to ${t[0].codecName} due to ${e}`),this.context.degradedVideoSendCodecs.push(this.context.meetingSupportedVideoSendCodecPreferences[0]),this.context.meetingSupportedVideoSendCodecPreferences=t,this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),this.context.audioVideoController.update({needsRenegotiation:!0})):this.context.logger.warn(`Degrading video codec failed since there is no alternative codec to select. Currently degraded codecs: ${this.context.degradedVideoSendCodecs.map(e=>e.codecName).join(",")}`)}}}t.default=b},44435:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(52654));class s extends r.default{constructor(){super(0)}static nextTick(e){setTimeout(e,0)}}t.default=s},44495:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(96119);class r{constructor(e,t){this.codecName=e,this.codecCapability=t}equals(e){return void 0!==e&&this.codecName===e.codecName&&this.codecCapability.mimeType===e.codecCapability.mimeType&&this.codecCapability.clockRate===e.codecCapability.clockRate&&(this.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(this.codecCapability.sdpFmtpLine,this.codecName):"")===(e.codecCapability.sdpFmtpLine?this.cleanupFmtpLine(e.codecCapability.sdpFmtpLine,e.codecName):"")}fmtpLineMatches(e,t){let i=this.codecCapability.sdpFmtpLine;if(!i)return!1;let n=`a=fmtp:${t} `;if(!e.startsWith(n))return!1;let r=e.substring(n.length);return this.cleanupFmtpLine(r,this.codecName)===this.cleanupFmtpLine(i,this.codecName)}cleanupFmtpLine(e,t){let i=/;x-google-start-bitrate=\d+/g,n=e.replace(i,"");if("H264"===t){let e=/profile-level-id=([0-9a-f]{4})[0-9a-f]{2}/i;n=n.replace(e,"profile-level-id=$1")}return n}static vp8(){return new r("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264BaselineProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"})}static h264ConstrainedBaselineProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264MainProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f"})}static h264HighProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f"})}static h264ConstrainedHighProfile(){return new r("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f"})}static h264(){return r.h264ConstrainedBaselineProfile()}static vp9Profile0(){return new r("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static vp9(){return r.vp9Profile0()}static av1Main(){return new r("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static av1(){return r.av1Main()}static fromSignaled(e){switch(e){case n.SdkVideoCodecCapability.VP8:return r.vp8();case n.SdkVideoCodecCapability.H264_BASELINE_PROFILE:return r.h264BaselineProfile();case n.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return r.h264ConstrainedBaselineProfile();case n.SdkVideoCodecCapability.H264_MAIN_PROFILE:return r.h264MainProfile();case n.SdkVideoCodecCapability.H264_HIGH_PROFILE:return r.h264HighProfile();case n.SdkVideoCodecCapability.H264_CONSTRAINED_HIGH_PROFILE:return r.h264ConstrainedHighProfile();case n.SdkVideoCodecCapability.VP9_PROFILE_0:return r.vp9Profile0();case n.SdkVideoCodecCapability.AV1_MAIN_PROFILE:return r.av1Main();default:return}}}t.default=r},44748:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.Left=1]="Left",e[e.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",e[e.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",e[e.AudioCallAtCapacity=4]="AudioCallAtCapacity",e[e.MeetingEnded=5]="MeetingEnded",e[e.AudioInternalServerError=6]="AudioInternalServerError",e[e.AudioServiceUnavailable=7]="AudioServiceUnavailable",e[e.AudioDisconnected=8]="AudioDisconnected",e[e.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",e[e.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",e[e.SignalingBadRequest=11]="SignalingBadRequest",e[e.SignalingInternalServerError=12]="SignalingInternalServerError",e[e.SignalingRequestFailed=13]="SignalingRequestFailed",e[e.SignalingChannelClosedUnexpectedly=14]="SignalingChannelClosedUnexpectedly",e[e.ICEGatheringTimeoutWorkaround=15]="ICEGatheringTimeoutWorkaround",e[e.ConnectionHealthReconnect=16]="ConnectionHealthReconnect",e[e.RealtimeApiFailed=17]="RealtimeApiFailed",e[e.TaskFailed=18]="TaskFailed",e[e.IncompatibleSDP=19]="IncompatibleSDP",e[e.TURNCredentialsForbidden=20]="TURNCredentialsForbidden",e[e.NoAttendeePresent=21]="NoAttendeePresent",e[e.AudioAttendeeRemoved=22]="AudioAttendeeRemoved",e[e.AudioVideoWasRemovedFromPrimaryMeeting=23]="AudioVideoWasRemovedFromPrimaryMeeting",e[e.AudioVideoDisconnectedWhilePromoted=24]="AudioVideoDisconnectedWhilePromoted",e[e.AudioDisconnectAudio=25]="AudioDisconnectAudio"}(i=t.MeetingSessionStatusCode||(t.MeetingSessionStatusCode={})),t.default=i},44881:(e,t,i)=>{"use strict";e.exports=r;var n=i(25414);function r(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!i}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,i,r,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,i,r,s);if(!a.rpcImpl)return void setTimeout(function(){o(Error("already ended"))},0);try{return a.rpcImpl(t,i[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,i){if(e)return a.emit("error",e,t),o(e);if(null===i)return void a.end(!0);if(!(i instanceof r))try{i=r[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",i,t),o(null,i)})}catch(e){a.emit("error",e,t),setTimeout(function(){o(e)},0);return}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},44958:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=l;var r=n(i(9725));t.htmlToDOM=r.default,t.attributesToProps=n(i(85724)).default;var s=n(i(18266));t.domToReact=s.default;var o=i(17663);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var a={lowerCaseAttributeNames:!1};function l(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");return e?(0,s.default)((0,r.default)(e,(null==t?void 0:t.htmlparser2)||a),t):[]}},45274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceFocusAudioWorkletNode=void 0;class i extends("undefined"!=typeof globalThis&&globalThis.AudioWorkletNode||class{}){}t.VoiceFocusAudioWorkletNode=i},45351:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,C:()=>a});var n=i(63067),r=i(91358),s=i(6256),o=i(15569);function a(e){var t=e.domain;return e.ticks=function(e){var i=t();return(0,n.Ay)(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,i){var n=t();return(0,o.A)(n[0],n[n.length-1],null==e?10:e,i)},e.nice=function(i){null==i&&(i=10);var r,s,o=t(),a=0,l=o.length-1,u=o[a],d=o[l],c=10;for(d<u&&(s=u,u=d,d=s,s=a,a=l,l=s);c-- >0;){if((s=(0,n.lq)(u,d,i))===r)return o[a]=u,o[l]=d,t(o);if(s>0)u=Math.floor(u/s)*s,d=Math.ceil(d/s)*s;else if(s<0)u=Math.ceil(u*s)/s,d=Math.floor(d*s)/s;else break;r=s}return e},e}function l(){var e=(0,r.Ay)();return e.copy=function(){return(0,r.C)(e,l())},s.C.apply(e,arguments),a(e)}},45408:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(76234)),o=r(i(33605));class a extends s.default{constructor(e,t,i){for(let n of(super(e),this.taskName=t,this.tasksToRunSerially=i,this.currentTask=null,i))n.setParent(this)}cancel(){this.currentTask&&(this.logger.info(`canceling serial group task ${this.name()} subtask ${this.currentTask.name()}`),this.currentTask.cancel())}run(){return n(this,void 0,void 0,function*(){for(let e of this.tasksToRunSerially){this.getStatus()===o.default.CANCELED&&this.logAndThrow(`serial group task ${this.name()} was canceled`);try{this.logger.info(`serial group task ${this.name()} running subtask ${e.name()}`),this.currentTask=e,yield e.run(),this.logger.info(`serial group task ${this.name()} completed subtask ${e.name()}`)}catch(e){this.logAndThrow(`serial group task ${this.name()} was canceled due to subtask ${this.currentTask.name()} error: ${e.message}`)}finally{this.currentTask=null}}this.logger.info(`serial group task ${this.name()} completed`)})}}t.default=a},45493:e=>{"use strict";e.exports=(e,t,i,n)=>{let r=65535&e,s=e>>>16&65535,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do s=s+(r=r+t[n++]|0)|0;while(--o);r%=65521,s%=65521}return r|s<<16}},45595:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.canvas=e,this.destroyed=!1}destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return i(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}}t.default=n},45994:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PRONUNCIATION="pronunciation",e.PUNCTUATION="punctuation"}(i||(i={})),t.default=i},46426:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(15514),o=i(24059),a=r(i(62983)),l=r(i(4509)),u=r(i(74886)),d=r(i(44435)),c=r(i(99789)),h=r(i(19902));class f{constructor(e,t,i){var n,r,o,a,l,u,d;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=t,this.configuration=e,this.setupEventReporter(e,t,i);try{this.parserResult=navigator&&navigator.userAgent?new s.UAParser(navigator.userAgent).getResult():null}catch(e){this.logger.error(e.message)}this.browserMajorVersion=(null==(o=null==(r=null==(n=this.parserResult)?void 0:n.browser)?void 0:r.version)?void 0:o.split(".")[0])||f.UNAVAILABLE,this.browserName=(null==(a=this.parserResult)?void 0:a.browser.name)||f.UNAVAILABLE,this.browserVersion=(null==(l=this.parserResult)?void 0:l.browser.version)||f.UNAVAILABLE,this.deviceName=[(null==(u=this.parserResult)?void 0:u.device.vendor)||"",(null==(d=this.parserResult)?void 0:d.device.model)||""].join(" ").trim()||f.UNAVAILABLE}addObserver(e){this.observerSet.add(e)}removeObserver(e){this.observerSet.delete(e)}forEachObserver(e){for(let t of this.observerSet)d.default.nextTick(()=>{this.observerSet.has(t)&&e(t)})}publishEvent(e,t){return n(this,void 0,void 0,function*(){let i=Date.now();this.meetingHistoryStates.push({name:e,timestampMs:i});let n=Object.freeze(Object.assign(this.getAttributes(i),t));this.forEachObserver(t=>{t.eventDidReceive(e,n)}),this.reportEvent(e,i,t)})}reportEvent(e,t,i){var r;return n(this,void 0,void 0,function*(){let n;try{i&&(n=h.default(i)),yield null==(r=this.eventReporter)?void 0:r.reportEvent(t,e,n)}catch(e){this.logger.error(`Error reporting event ${e}`)}})}setupEventReporter(e,t,i){if(i)this._eventReporter=i;else if(e.urls){let i=e.urls.eventIngestionURL;if(i){this.logger.info("Event ingestion URL is present in the configuration");let{meetingId:n,credentials:{attendeeId:r,joinToken:s}}=e,o=new u.default(n,r,s),d=new a.default(o,i);this._eventReporter=new l.default(d,t)}}}getAttributes(e){var t,i;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:"string"==typeof this.configuration.externalMeetingId?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:(null==(t=this.parserResult)?void 0:t.os.name)||f.UNAVAILABLE,osVersion:(null==(i=this.parserResult)?void 0:i.os.version)||f.UNAVAILABLE,sdkVersion:c.default.sdkVersion,sdkName:c.default.sdkName,timestampMs:e}}get eventReporter(){return this._eventReporter}destroy(){return n(this,void 0,void 0,function*(){o.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}}t.default=f,f.UNAVAILABLE="Unavailable"},46429:(e,t,i)=>{"use strict";i.d(t,{Wx:()=>f});var n=i(12115),r=Object.defineProperty,s=new Map,o=new WeakMap,a=0,l=void 0;function u(e){return e?(o.has(e)||(a+=1,o.set(e,a.toString())),o.get(e)):"0"}function d(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>"".concat(t,"_").concat("root"===t?u(e.root):e[t])).toString()}function c(e){let t=d(e),i=s.get(t);if(!i){let n,r=new Map,o=new IntersectionObserver(t=>{t.forEach(t=>{var i;let s=t.isIntersecting&&n.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(i=r.get(t.target))||i.forEach(e=>{e(s,t)})})},e);n=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:o,elements:r},s.set(t,i)}return i}function h(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;if(void 0===window.IntersectionObserver&&void 0!==n){let r=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof i.threshold?i.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}let{id:r,observer:o,elements:a}=c(i),u=a.get(e)||[];return a.has(e)||a.set(e,u),u.push(t),o.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(a.delete(e),o.unobserve(e)),0===a.size&&(o.disconnect(),s.delete(r))}}function f(){var e;let{threshold:t,delay:i,trackVisibility:r,rootMargin:s,root:o,triggerOnce:a,skip:l,initialInView:u,fallbackInView:d,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[f,p]=n.useState(null),m=n.useRef(c),[g,v]=n.useState({inView:!!u,entry:void 0});m.current=c,n.useEffect(()=>{let e;if(!l&&f)return e=h(f,(t,i)=>{v({inView:t,entry:i}),m.current&&m.current(t,i),i.isIntersecting&&a&&e&&(e(),e=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d),()=>{e&&e()}},[Array.isArray(t)?t.toString():t,f,o,s,a,l,r,d,i]);let y=null==(e=g.entry)?void 0:e.target,b=n.useRef(void 0);f||!y||a||l||b.current===y||(b.current=y,v({inView:!!u,entry:void 0}));let S=[p,g.inView,g.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}n.Component},47036:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=i(90778),r=i(49913),s=i(5770);t.Sha256=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!(0,n.isEmptyData)(e)){var t=(0,n.convertToBuffer)(e),i=new Uint8Array(this.toHash.byteLength+t.byteLength);i.set(this.toHash,0),i.set(t,this.toHash.byteLength),this.toHash=i}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return(0,s.locateWindow)().crypto.subtle.sign(r.SHA_256_HMAC_ALGO,t,e.toHash).then(function(e){return new Uint8Array(e)})}):(0,n.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,s.locateWindow)().crypto.subtle.digest(r.SHA_256_HASH,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(t,i){(0,s.locateWindow)().crypto.subtle.importKey("raw",(0,n.convertToBuffer)(e.secret),r.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,i)}),this.key.catch(function(){}))},e}()},47164:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$Command:()=>iR.uB,AllowNotifications:()=>nx.ku,AssociateChannelFlowCommand:()=>nC,BadRequestException:()=>nx.ep,BatchChannelMembershipsFilterSensitiveLog:()=>nx.vw,BatchCreateChannelMembershipCommand:()=>nk,BatchCreateChannelMembershipResponseFilterSensitiveLog:()=>nx.bT,ChannelAssociatedWithFlowSummaryFilterSensitiveLog:()=>nx.og,ChannelBanFilterSensitiveLog:()=>nx.fD,ChannelBanSummaryFilterSensitiveLog:()=>nx.fy,ChannelFilterSensitiveLog:()=>nx.q,ChannelFlowCallbackCommand:()=>nA,ChannelFlowCallbackRequestFilterSensitiveLog:()=>nx.qs,ChannelFlowFilterSensitiveLog:()=>nx._o,ChannelFlowSummaryFilterSensitiveLog:()=>nx.aO,ChannelMembershipFilterSensitiveLog:()=>nx.GK,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog:()=>nx.Uk,ChannelMembershipPreferencesFilterSensitiveLog:()=>nx.qb,ChannelMembershipSummaryFilterSensitiveLog:()=>nx.m_,ChannelMembershipType:()=>nx.Ih,ChannelMessageCallbackFilterSensitiveLog:()=>nx.wR,ChannelMessageFilterSensitiveLog:()=>nx.DC,ChannelMessagePersistenceType:()=>nx.W7,ChannelMessageStatus:()=>nx.FG,ChannelMessageSummaryFilterSensitiveLog:()=>nx.Vs,ChannelMessageType:()=>nx.RP,ChannelMode:()=>nx.Vz,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog:()=>nx.Zx,ChannelModeratorFilterSensitiveLog:()=>nx.Hq,ChannelModeratorSummaryFilterSensitiveLog:()=>nx.$J,ChannelPrivacy:()=>nx.MH,ChannelSummaryFilterSensitiveLog:()=>nx.Yz,ChimeSDKMessaging:()=>rc,ChimeSDKMessagingClient:()=>nS,ChimeSDKMessagingServiceException:()=>rD.P,ConflictException:()=>nx.cb,CreateChannelBanCommand:()=>nE,CreateChannelBanResponseFilterSensitiveLog:()=>nx.Ob,CreateChannelCommand:()=>nM,CreateChannelFlowCommand:()=>nT,CreateChannelFlowRequestFilterSensitiveLog:()=>nx.nL,CreateChannelMembershipCommand:()=>n_,CreateChannelMembershipResponseFilterSensitiveLog:()=>nx.H_,CreateChannelModeratorCommand:()=>nP,CreateChannelModeratorResponseFilterSensitiveLog:()=>nx.aS,CreateChannelRequestFilterSensitiveLog:()=>nx.tW,DeleteChannelBanCommand:()=>nI,DeleteChannelCommand:()=>nR,DeleteChannelFlowCommand:()=>nO,DeleteChannelMembershipCommand:()=>nD,DeleteChannelMessageCommand:()=>nL,DeleteChannelModeratorCommand:()=>nN,DeleteMessagingStreamingConfigurationsCommand:()=>nF,DescribeChannelBanCommand:()=>nB,DescribeChannelBanResponseFilterSensitiveLog:()=>nx.vs,DescribeChannelCommand:()=>nV,DescribeChannelFlowCommand:()=>nU,DescribeChannelFlowResponseFilterSensitiveLog:()=>nx.o$,DescribeChannelMembershipCommand:()=>nz,DescribeChannelMembershipForAppInstanceUserCommand:()=>nj,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog:()=>nx.qj,DescribeChannelMembershipResponseFilterSensitiveLog:()=>nx.U1,DescribeChannelModeratedByAppInstanceUserCommand:()=>nH,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>nx.Ry,DescribeChannelModeratorCommand:()=>n$,DescribeChannelModeratorResponseFilterSensitiveLog:()=>nx.pG,DescribeChannelResponseFilterSensitiveLog:()=>nx.yc,DisassociateChannelFlowCommand:()=>nW,ErrorCode:()=>nx.O4,ExpirationCriterion:()=>nx.n,FallbackAction:()=>nx.nT,ForbiddenException:()=>nx.ZT,GetChannelMembershipPreferencesCommand:()=>nq,GetChannelMembershipPreferencesResponseFilterSensitiveLog:()=>nx.rq,GetChannelMessageCommand:()=>nG,GetChannelMessageResponseFilterSensitiveLog:()=>nx.Sp,GetChannelMessageStatusCommand:()=>nK,GetMessagingSessionEndpointCommand:()=>nX,GetMessagingStreamingConfigurationsCommand:()=>nY,IdentityFilterSensitiveLog:()=>nx.Vv,InvocationType:()=>nx.x$,ListChannelBansCommand:()=>nJ,ListChannelBansRequestFilterSensitiveLog:()=>nx.x9,ListChannelBansResponseFilterSensitiveLog:()=>nx.FK,ListChannelFlowsCommand:()=>nQ,ListChannelFlowsRequestFilterSensitiveLog:()=>nx.aH,ListChannelFlowsResponseFilterSensitiveLog:()=>nx.Sz,ListChannelMembershipsCommand:()=>nZ,ListChannelMembershipsForAppInstanceUserCommand:()=>n0,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog:()=>nx.aw,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog:()=>nx.gZ,ListChannelMembershipsRequestFilterSensitiveLog:()=>nx.o0,ListChannelMembershipsResponseFilterSensitiveLog:()=>nx.g6,ListChannelMessagesCommand:()=>n1,ListChannelMessagesRequestFilterSensitiveLog:()=>nx.zJ,ListChannelMessagesResponseFilterSensitiveLog:()=>nx.F5,ListChannelModeratorsCommand:()=>n2,ListChannelModeratorsRequestFilterSensitiveLog:()=>nx.RA,ListChannelModeratorsResponseFilterSensitiveLog:()=>nx.Zb,ListChannelsAssociatedWithChannelFlowCommand:()=>n5,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog:()=>nx.Dk,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog:()=>nx.vf,ListChannelsCommand:()=>n3,ListChannelsModeratedByAppInstanceUserCommand:()=>n4,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog:()=>nx.jl,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog:()=>nx.f,ListChannelsRequestFilterSensitiveLog:()=>nx.M8,ListChannelsResponseFilterSensitiveLog:()=>nx.AG,ListSubChannelsCommand:()=>n6,ListSubChannelsRequestFilterSensitiveLog:()=>nx.IY,ListSubChannelsResponseFilterSensitiveLog:()=>nx.Qy,ListTagsForResourceCommand:()=>n8,ListTagsForResourceResponseFilterSensitiveLog:()=>nx.k9,MessageAttributeValueFilterSensitiveLog:()=>nx.LX,MessagingDataType:()=>nx.lp,NotFoundException:()=>nx.X6,ProcessorFilterSensitiveLog:()=>nx.TU,PushNotificationConfigurationFilterSensitiveLog:()=>nx.Sg,PushNotificationPreferencesFilterSensitiveLog:()=>nx.WO,PushNotificationType:()=>nx.uP,PutChannelExpirationSettingsCommand:()=>n9,PutChannelMembershipPreferencesCommand:()=>n7,PutChannelMembershipPreferencesRequestFilterSensitiveLog:()=>nx.E_,PutChannelMembershipPreferencesResponseFilterSensitiveLog:()=>nx.ul,PutMessagingStreamingConfigurationsCommand:()=>re,RedactChannelMessageCommand:()=>rt,ResourceLimitExceededException:()=>nx.kA,SearchChannelsCommand:()=>ri,SearchChannelsRequestFilterSensitiveLog:()=>nx.QQ,SearchChannelsResponseFilterSensitiveLog:()=>nx.O3,SearchFieldKey:()=>nx.a9,SearchFieldOperator:()=>nx.jG,SendChannelMessageCommand:()=>rn,SendChannelMessageRequestFilterSensitiveLog:()=>nx.hj,ServiceFailureException:()=>nx.L4,ServiceUnavailableException:()=>nx.ld,SortOrder:()=>nx.xB,TagFilterSensitiveLog:()=>nx.VP,TagResourceCommand:()=>rr,TagResourceRequestFilterSensitiveLog:()=>nx.Er,ThrottledClientException:()=>nx.RQ,UnauthorizedClientException:()=>nx.VG,UntagResourceCommand:()=>rs,UntagResourceRequestFilterSensitiveLog:()=>nx.hx,UpdateChannelCommand:()=>ro,UpdateChannelFlowCommand:()=>ra,UpdateChannelFlowRequestFilterSensitiveLog:()=>nx.G8,UpdateChannelMessageCommand:()=>rl,UpdateChannelMessageRequestFilterSensitiveLog:()=>nx.VD,UpdateChannelReadMarkerCommand:()=>ru,UpdateChannelRequestFilterSensitiveLog:()=>nx.KS,__Client:()=>iR.Kj,paginateListChannelBans:()=>rf,paginateListChannelFlows:()=>rm,paginateListChannelMemberships:()=>rb,paginateListChannelMembershipsForAppInstanceUser:()=>rv,paginateListChannelMessages:()=>rw,paginateListChannelModerators:()=>rx,paginateListChannels:()=>r_,paginateListChannelsAssociatedWithChannelFlow:()=>rA,paginateListChannelsModeratedByAppInstanceUser:()=>rM,paginateListSubChannels:()=>rI,paginateSearchChannels:()=>rO});var n,r,s,o,a=i(55360);function l(e){return e}let u=e=>t=>async i=>{if(!a.Kd.isInstance(i.request))return t(i);let{request:n}=i,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let e=n.hostname;null!=n.port&&(e+=`:${n.port}`),n.headers.host=e}return t(i)},d={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},c=e=>({applyToStack:t=>{t.add(u(e),d)}}),h=()=>(e,t)=>async i=>{try{let n=await e(i),{clientName:r,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,d=l??t.inputFilterSensitiveLog,c=u??t.outputFilterSensitiveLog,{$metadata:h,...f}=n.output;return o?.info?.({clientName:r,commandName:s,input:d(i.input),output:c(f),metadata:h}),n}catch(l){let{clientName:e,commandName:n,logger:r,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:o}=s,a=o??t.inputFilterSensitiveLog;throw r?.error?.({clientName:e,commandName:n,input:a(i.input),error:l,metadata:l.$metadata}),l}},f={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},p=e=>({applyToStack:e=>{e.add(h(),f)}});var m=i(95704);let g="X-Amzn-Trace-Id",v="AWS_LAMBDA_FUNCTION_NAME",y="_X_AMZN_TRACE_ID",b=e=>t=>async i=>{let{request:n}=i;if(!a.Kd.isInstance(n)||"node"!==e.runtime||n.headers.hasOwnProperty(g))return t(i);let r=m.env[v],s=m.env[y],o=e=>"string"==typeof e&&e.length>0;return o(r)&&o(s)&&(n.headers[g]=s),t({...i,request:n})},S={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},w=e=>({applyToStack:t=>{t.add(b(e),S)}}),C=(e,t,i)=>{let n,r,s,o=!1,a=async()=>{r||(r=e());try{n=await r,s=!0,o=!1}finally{r=void 0}return n};return void 0===t?async e=>((!s||e?.forceRefresh)&&(n=await a()),n):async e=>((!s||e?.forceRefresh)&&(n=await a()),o||(i&&!i(n)?o=!0:t(n)&&await a()),n)};i(84269);let x={},k={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),x[e]=t,k[t]=e}function A(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2){let n=e.slice(i,i+2).toLowerCase();if(n in k)t[i/2]=k[n];else throw Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function E(e){let t="";for(let i=0;i<e.byteLength;i++)t+=x[e[i]];return t}class M{constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let i=7,n=Math.abs(Math.round(e));i>-1&&n>0;i--,n/=256)t[i]=n;return e<0&&T(t),new M(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&T(e),parseInt(E(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function T(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class _{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){let t=[];for(let i of Object.keys(e)){let n=this.fromUtf8(i);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[i]))}let i=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),n=0;for(let e of t)i.set(e,n),n+=e.byteLength;return i}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,e.value,!1),new Uint8Array(i.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(r.buffer);return s.set(e.value,3),s;case"string":let o=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let l=new Uint8Array(a.buffer);return l.set(o,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(M.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!V.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(A(e.value.replace(/\-/g,"")),1),d}}parse(e){let t={},i=0;for(;i<e.byteLength;){let n=e.getUint8(i++),r=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,n));switch(i+=n,e.getUint8(i++)){case 0:t[r]={type:P,value:!0};break;case 1:t[r]={type:P,value:!1};break;case 2:t[r]={type:I,value:e.getInt8(i++)};break;case 3:t[r]={type:R,value:e.getInt16(i,!1)},i+=2;break;case 4:t[r]={type:O,value:e.getInt32(i,!1)},i+=4;break;case 5:t[r]={type:D,value:new M(new Uint8Array(e.buffer,e.byteOffset+i,8))},i+=8;break;case 6:let s=e.getUint16(i,!1);i+=2,t[r]={type:L,value:new Uint8Array(e.buffer,e.byteOffset+i,s)},i+=s;break;case 7:let o=e.getUint16(i,!1);i+=2,t[r]={type:N,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,o))},i+=o;break;case 8:t[r]={type:F,value:new Date(new M(new Uint8Array(e.buffer,e.byteOffset+i,8)).valueOf())},i+=8;break;case 9:let a=new Uint8Array(e.buffer,e.byteOffset+i,16);i+=16,t[r]={type:B,value:`${E(a.subarray(0,4))}-${E(a.subarray(4,6))}-${E(a.subarray(6,8))}-${E(a.subarray(8,10))}-${E(a.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return t}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(n||(n={}));let P="boolean",I="byte",R="short",O="integer",D="long",L="binary",N="string",F="timestamp",B="uuid",V=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;let U={},z={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),U[e]=t,z[t]=e}function j(e){let t="";for(let i=0;i<e.byteLength;i++)t+=U[e[i]];return t}var H=i(98295);let $=e=>e[H.Vf]||(e[H.Vf]={}),W=e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t};var q=i(90458),G=i(31783);let K=e=>"string"==typeof e?(0,G.a)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),X="X-Amz-Algorithm",Y="X-Amz-Credential",J="X-Amz-Date",Q="X-Amz-SignedHeaders",Z="X-Amz-Expires",ee="X-Amz-Signature",et="X-Amz-Security-Token",ei="authorization",en=J.toLowerCase(),er=[ei,en,"date"],es=ee.toLowerCase(),eo="x-amz-content-sha256",ea=et.toLowerCase(),el={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},eu=/^proxy-/,ed=/^sec-/,ec="AWS4-HMAC-SHA256",eh="AWS4-HMAC-SHA256-PAYLOAD",ef="UNSIGNED-PAYLOAD",ep=50,em="aws4_request",eg=604800,ev={},ey=[],eb=(e,t,i)=>`${e}/${t}/${i}/${em}`,eS=async(e,t,i,n,r)=>{let s=await ew(e,t.secretAccessKey,t.accessKeyId),o=`${i}:${n}:${r}:${j(s)}:${t.sessionToken}`;if(o in ev)return ev[o];for(ey.push(o);ey.length>ep;)delete ev[ey.shift()];let a=`AWS4${t.secretAccessKey}`;for(let t of[i,n,r,em])a=await ew(e,a,t);return ev[o]=a},ew=(e,t,i)=>{let n=new e(t);return n.update(K(i)),n.digest()},eC=({headers:e},t,i)=>{let n={};for(let r of Object.keys(e).sort()){if(void 0==e[r])continue;let s=r.toLowerCase();(!(s in el||t?.has(s)||eu.test(s)||ed.test(s))||i&&(!i||i.has(s)))&&(n[s]=e[r].trim().replace(/\s+/g," "))}return n};var ex=i(15137);let ek=({query:e={}})=>{let t=[],i={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===es)continue;t.push(n);let r=e[n];"string"==typeof r?i[n]=`${(0,ex.o)(n)}=${(0,ex.o)(r)}`:Array.isArray(r)&&(i[n]=r.slice(0).reduce((e,t)=>e.concat([`${(0,ex.o)(n)}=${(0,ex.o)(t)}`]),[]).sort().join("&"))}return t.map(e=>i[e]).filter(e=>e).join("&")},eA=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),eE=async({headers:e,body:t},i)=>{for(let t of Object.keys(e))if(t.toLowerCase()===eo)return e[t];if(void 0==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||eA(t)){let e=new i;return e.update(K(t)),j(await e.digest())}return ef},eM=(e,t)=>{for(let i of(e=e.toLowerCase(),Object.keys(t)))if(e===i.toLowerCase())return!0;return!1},eT=({headers:e,query:t,...i})=>({...i,headers:{...e},query:t?e_(t):void 0}),e_=e=>Object.keys(e).reduce((t,i)=>{let n=e[i];return{...t,[i]:Array.isArray(n)?[...n]:n}},{}),eP=(e,t={})=>{let{headers:i,query:n={}}="function"==typeof e.clone?e.clone():eT(e);for(let e of Object.keys(i)){let r=e.toLowerCase();"x-amz-"!==r.slice(0,6)||t.unhoistableHeaders?.has(r)||(n[e]=i[e],delete i[e])}return{...e,headers:i,query:n}},eI=e=>{for(let t of Object.keys((e="function"==typeof e.clone?e.clone():eT(e)).headers))er.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},eR=e=>eO(e).toISOString().replace(/\.\d{3}Z$/,"Z"),eO=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?new Date(Number(e)?1e3*Number(e):e):e;class eD{constructor({applyChecksum:e,credentials:t,region:i,service:n,sha256:r,uriEscapePath:s=!0}){this.headerMarshaller=new _(q.P,G.a),this.service=n,this.sha256=r,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=W(i),this.credentialProvider=W(t)}async presign(e,t={}){let{signingDate:i=new Date,expiresIn:n=3600,unsignableHeaders:r,unhoistableHeaders:s,signableHeaders:o,signingRegion:a,signingService:l}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);let d=a??await this.regionProvider(),{longDate:c,shortDate:h}=eL(i);if(n>eg)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let f=eb(h,d,l??this.service),p=eP(eI(e),{unhoistableHeaders:s});u.sessionToken&&(p.query[et]=u.sessionToken),p.query[X]=ec,p.query[Y]=`${u.accessKeyId}/${f}`,p.query[J]=c,p.query[Z]=n.toString(10);let m=eC(p,r,o);return p.query[Q]=eN(m),p.query[ee]=await this.getSignature(c,f,this.getSigningKey(u,d,h,l),this.createCanonicalRequest(p,m,await eE(e,this.sha256))),p}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:i=new Date,priorSignature:n,signingRegion:r,signingService:s}){let o=r??await this.regionProvider(),{shortDate:a,longDate:l}=eL(i),u=eb(a,o,s??this.service),d=await eE({headers:{},body:t},this.sha256),c=new this.sha256;c.update(e);let h=[eh,l,u,n,j(await c.digest()),d].join("\n");return this.signString(h,{signingDate:i,signingRegion:o,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:i,signingService:n}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:i,signingService:n,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:i,signingService:n}={}){let r=await this.credentialProvider();this.validateResolvedCredentials(r);let s=i??await this.regionProvider(),{shortDate:o}=eL(t),a=new this.sha256(await this.getSigningKey(r,s,o,n));return a.update(K(e)),j(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:i,unsignableHeaders:n,signingRegion:r,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=r??await this.regionProvider(),l=eI(e),{longDate:u,shortDate:d}=eL(t),c=eb(d,a,s??this.service);l.headers[en]=u,o.sessionToken&&(l.headers[ea]=o.sessionToken);let h=await eE(l,this.sha256);!eM(eo,l.headers)&&this.applyChecksum&&(l.headers[eo]=h);let f=eC(l,n,i),p=await this.getSignature(u,c,this.getSigningKey(o,a,d,s),this.createCanonicalRequest(l,f,h));return l.headers[ei]=`${ec} Credential=${o.accessKeyId}/${c}, SignedHeaders=${eN(f)}, Signature=${p}`,l}createCanonicalRequest(e,t,i){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${ek(e)}
${n.map(e=>`${e}:${t[e]}`).join("\n")}

${n.join(";")}
${i}`}async createStringToSign(e,t,i){let n=new this.sha256;n.update(K(i));let r=await n.digest();return`${ec}
${e}
${t}
${j(r)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let i of e.split("/"))i?.length!==0&&"."!==i&&(".."===i?t.pop():t.push(i));return encodeURIComponent(`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`).replace(/%2F/g,"/")}return e}async getSignature(e,t,i,n){let r=await this.createStringToSign(e,t,n),s=new this.sha256(await i);return s.update(K(r)),j(await s.digest())}getSigningKey(e,t,i,n){return eS(this.sha256,e,i,t,n||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}}let eL=e=>{let t=eR(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},eN=e=>Object.keys(e).sort().join(";"),eF=3e5,eB=e=>{let t,i=e.credentials?eV(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e;return t=e.signer?W(e.signer):e.regionInfoProvider?()=>W(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,r])=>{let{signingRegion:o,signingService:a}=t;e.signingRegion=e.signingRegion||o||r,e.signingName=e.signingName||a||e.serviceId;let l={...e,credentials:i,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||eD)(l)}):async t=>{let r=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await W(e.region)(),properties:{}},t)).signingRegion,o=t.signingName;e.signingRegion=e.signingRegion||r,e.signingName=e.signingName||o||e.serviceId;let a={...e,credentials:i,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||eD)(a)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:i,signer:t}},eV=e=>"function"==typeof e?C(e,e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<eF,e=>void 0!==e.expiration):W(e),eU=e=>new Date(Date.now()+e),ez=(e,t)=>Math.abs(eU(t).getTime()-e)>=3e5,ej=(e,t)=>{let i=Date.parse(e);return ez(i,t)?i-Date.now():t},eH=e=>(t,i)=>async function(n){let r;if(!a.Kd.isInstance(n.request))return t(n);let s=i.endpointV2?.properties?.authSchemes?.[0],o=s?.name==="sigv4a"?s?.signingRegionSet?.join(","):void 0,l=await e.signer(s),u={signingDate:eU(e.systemClockOffset),signingRegion:o||i.signing_region,signingService:i.signing_service};if(i.s3ExpressIdentity){let e=l;if((r=await e.signWithCredentials(n.request,i.s3ExpressIdentity,u)).headers["X-Amz-Security-Token"]||r.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.")}else r=await l.sign(n.request,u);let d=await t({...n,request:r}).catch(t=>{let i=t.ServerTime??e$(t.$response);throw i&&(e.systemClockOffset=ej(i,e.systemClockOffset)),t}),c=e$(d.response);return c&&(e.systemClockOffset=ej(c,e.systemClockOffset)),d},e$=e=>a.cS.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,eW={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},eq=e=>({applyToStack:t=>{t.addRelativeTo(eH(e),eW)}});function eG(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}let eK=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),eX=e=>eK.test(e)||e.startsWith("[")&&e.endsWith("]"),eY=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),eJ=(e,t=!1)=>{if(!t)return eY.test(e);for(let t of e.split("."))if(!eJ(t))return!1;return!0},eQ={},eZ="endpoints";function e0(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${e0(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(e0).join(", ")})`:JSON.stringify(e,null,2)}class e1 extends Error{constructor(e){super(e),this.name="EndpointError"}}let e2=(e,t)=>e===t,e5=e=>{let t=e.split("."),i=[];for(let n of t){let t=n.indexOf("[");if(-1!==t){if(n.indexOf("]")!==n.length-1)throw new e1(`Path: '${e}' does not end with ']'`);let r=n.slice(t+1,-1);if(Number.isNaN(parseInt(r)))throw new e1(`Invalid array index: '${r}' in path: '${e}'`);0!==t&&i.push(n.slice(0,t)),i.push(r)}else i.push(n)}return i},e3=(e,t)=>e5(t).reduce((i,n)=>{if("object"!=typeof i)throw new e1(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(i)?i[parseInt(n)]:i[n]},e),e4=e=>null!=e,e6=e=>!e,e8={[H.Ue.HTTP]:80,[H.Ue.HTTPS]:443},e9={booleanEquals:e2,getAttr:e3,isSet:e4,isValidHostLabel:eJ,not:e6,parseURL:e=>{let t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:t,port:i,protocol:n="",path:r="",query:s={}}=e,o=new URL(`${n}//${t}${i?`:${i}`:""}${r}`);return o.search=Object.entries(s).map(([e,t])=>`${e}=${t}`).join("&"),o}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let i=t.href,{host:n,hostname:r,pathname:s,protocol:o,search:a}=t;if(a)return null;let l=o.slice(0,-1);if(!Object.values(H.Ue).includes(l))return null;let u=eX(r),d=i.includes(`${n}:${e8[l]}`)||"string"==typeof e&&e.includes(`${n}:${e8[l]}`),c=`${n}${d?`:${e8[l]}`:""}`;return{scheme:l,authority:c,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,i,n)=>t>=i||e.length<i?null:n?e.substring(e.length-i,e.length-t):e.substring(t,i),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},e7=(e,t)=>{let i=[],n={...t.endpointParams,...t.referenceRecord},r=0;for(;r<e.length;){let t=e.indexOf("{",r);if(-1===t){i.push(e.slice(r));break}i.push(e.slice(r,t));let s=e.indexOf("}",t);if(-1===s){i.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[s+1]&&(i.push(e.slice(t+1,s)),r=s+2);let o=e.substring(t+1,s);if(o.includes("#")){let[e,t]=o.split("#");i.push(e3(n[e],t))}else i.push(n[o]);r=s+1}return i.join("")},te=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],tt=(e,t,i)=>{if("string"==typeof e)return e7(e,i);if(e.fn)return ti(e,i);if(e.ref)return te(e,i);throw new e1(`'${t}': ${String(e)} is not a string, function or reference.`)},ti=({fn:e,argv:t},i)=>{let n=t.map(e=>["boolean","number"].includes(typeof e)?e:tt(e,"arg",i)),r=e.split(".");return r[0]in eQ&&null!=r[1]?eQ[r[0]][r[1]](...n):e9[e](...n)},tn=({assign:e,...t},i)=>{if(e&&e in i.referenceRecord)throw new e1(`'${e}' is already defined in Reference Record.`);let n=ti(t,i);return i.logger?.debug?.(eZ,`evaluateCondition: ${e0(t)} = ${e0(n)}`),{result:""===n||!!n,...null!=e&&{toAssign:{name:e,value:n}}}},tr=(e=[],t)=>{let i={};for(let n of e){let{result:e,toAssign:r}=tn(n,{...t,referenceRecord:{...t.referenceRecord,...i}});if(!e)return{result:e};r&&(i[r.name]=r.value,t.logger?.debug?.(eZ,`assign: ${r.name} := ${e0(r.value)}`))}return{result:!0,referenceRecord:i}},ts=(e,t)=>Object.entries(e).reduce((e,[i,n])=>({...e,[i]:n.map(e=>{let n=tt(e,"Header value entry",t);if("string"!=typeof n)throw new e1(`Header '${i}' value '${n}' is not a string`);return n})}),{}),to=(e,t)=>{if(Array.isArray(e))return e.map(e=>to(e,t));switch(typeof e){case"string":return e7(e,t);case"object":if(null===e)throw new e1(`Unexpected endpoint property: ${e}`);return ta(e,t);case"boolean":return e;default:throw new e1(`Unexpected endpoint property type: ${typeof e}`)}},ta=(e,t)=>Object.entries(e).reduce((e,[i,n])=>({...e,[i]:to(n,t)}),{}),tl=(e,t)=>{let i=tt(e,"Endpoint URL",t);if("string"==typeof i)try{return new URL(i)}catch(e){throw console.error(`Failed to construct URL with ${i}`,e),e}throw new e1(`Endpoint URL must be a string, got ${typeof i}`)},tu=(e,t)=>{let{conditions:i,endpoint:n}=e,{result:r,referenceRecord:s}=tr(i,t);if(!r)return;let o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return t.logger?.debug?.(eZ,`Resolving endpoint from template: ${e0(n)}`),{...void 0!=u&&{headers:ts(u,o)},...void 0!=l&&{properties:ta(l,o)},url:tl(a,o)}},td=(e,t)=>{let{conditions:i,error:n}=e,{result:r,referenceRecord:s}=tr(i,t);if(r)throw new e1(tt(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},tc=(e,t)=>{let{conditions:i,rules:n}=e,{result:r,referenceRecord:s}=tr(i,t);if(r)return th(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},th=(e,t)=>{for(let i of e)if("endpoint"===i.type){let e=tu(i,t);if(e)return e}else if("error"===i.type)td(i,t);else if("tree"===i.type){let e=tc(i,t);if(e)return e}else throw new e1(`Unknown endpoint rule: ${i}`);throw new e1("Rules evaluation failed")},tf=(e,t)=>{let{endpointParams:i,logger:n}=t,{parameters:r,rules:s}=e;t.logger?.debug?.(`${eZ} Initial EndpointParams: ${e0(i)}`);let o=Object.entries(r).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(o.length>0)for(let[e,t]of o)i[e]=i[e]??t;for(let e of Object.entries(r).filter(([,e])=>e.required).map(([e])=>e))if(null==i[e])throw new e1(`Missing required parameter: '${e}'`);let a=th(s,{endpointParams:i,logger:n,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{let{protocol:e,port:i}=new URL(t.endpointParams.Endpoint);a.url.protocol=e,a.url.port=i}catch(e){}return t.logger?.debug?.(`${eZ} Resolved endpoint: ${e0(a)}`),a},tp=(e,t=!1)=>{if(t){for(let t of e.split("."))if(!tp(t))return!1;return!0}return!(!eJ(e)||e.length<3||e.length>63||e!==e.toLowerCase()||eX(e))},tm=e=>{let t=e.split(":");if(t.length<6)return null;let[i,n,r,s,o,...a]=t;return"arn"!==i||""===n||""===r||""===a[0]?null:{partition:n,service:r,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},tg=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}'),tv="",ty=()=>tv;eQ.aws={isVirtualHostableS3Bucket:tp,parseArn:tm,partition:e=>{let{partitions:t}=tg;for(let i of t){let{regions:t,outputs:n}=i;for(let[i,r]of Object.entries(t))if(i===e)return{...n,...r}}for(let i of t){let{regionRegex:t,outputs:n}=i;if(new RegExp(t).test(e))return{...n}}let i=t.find(e=>"aws"===e.id);if(!i)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...i.outputs}}};let tb="user-agent",tS="x-amz-user-agent",tw=" ",tC="/",tx=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,tk=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,tA="-",tE=e=>(t,i)=>async n=>{let{request:r}=n;if(!a.Kd.isInstance(r))return t(n);let{headers:s}=r,o=i?.userAgent?.map(tM)||[],l=(await e.defaultUserAgentProvider()).map(tM),u=e?.customUserAgent?.map(tM)||[],d=ty(),c=(d?[d]:[]).concat([...l,...o,...u]).join(tw),h=[...l.filter(e=>e.startsWith("aws-sdk-")),...u].join(tw);return"browser"!==e.runtime?(h&&(s[tS]=s[tS]?`${s[tb]} ${h}`:h),s[tb]=c):s[tS]=c,t({...n,request:r})},tM=e=>{let t=e[0].split(tC).map(e=>e.replace(tx,tA)).join(tC),i=e[1]?.replace(tk,tA),n=t.indexOf(tC),r=t.substring(0,n),s=t.substring(n+1);return"api"===r&&(s=s.toLowerCase()),[r,s,i].filter(e=>e&&e.length>0).reduce((e,t,i)=>{switch(i){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},tT={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},t_=e=>({applyToStack:t=>{t.add(tE(e),tT)}});!function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}));let tP=!1,tI=!1,tR=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),tO=e=>tR(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,tD=e=>{let{region:t,useFipsEndpoint:i}=e;if(!t)throw Error("Region is missing");return{...e,region:async()=>"string"==typeof t?tO(t):tO(await t()),useFipsEndpoint:async()=>!!tR("string"==typeof t?t:await t())||("function"!=typeof i?Promise.resolve(!!i):i())}},tL="content-length";function tN(e){return t=>async i=>{let n=i.request;if(a.Kd.isInstance(n)){let{body:t,headers:i}=n;if(t&&-1===Object.keys(i).map(e=>e.toLowerCase()).indexOf(tL))try{let i=e(t);n.headers={...n.headers,[tL]:String(i)}}catch(e){}}return t({...i,request:n})}}let tF={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},tB=e=>({applyToStack:t=>{t.add(tN(e.bodyLengthChecker),tF)}}),tV=async e=>{let t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),t$(t)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else tH(t)&&(-1===t.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&t.toLowerCase()===t&&!(t.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},tU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tz=/(\d+\.){3}\d+/,tj=/\.\./,tH=e=>tU.test(e)&&!tz.test(e)&&!tj.test(e),t$=e=>{let[t,i,n,r,s,o]=e.split(":"),a="arn"===t&&e.split(":").length>=6,l=5===[t,i,n,s,o].filter(Boolean).length;if(a&&!l)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return"arn"===t&&!!i&&!!n&&!!s&&!!o},tW=(e,t,i)=>{let n=async()=>{let n=i[e]??i[t];return"function"==typeof n?n():n};return"endpoint"===e||"endpoint"===t?async()=>{let e=await n();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:t,hostname:i,port:n,path:r}=e;return`${t}//${i}${n?":"+n:""}${r}`}}return e}:n},tq=async e=>void 0;function tG(e){let t={};if(e=e.replace(/^\?/,""))for(let i of e.split("&")){let[e,n=null]=i.split("=");e=decodeURIComponent(e),n&&(n=decodeURIComponent(n)),e in t?Array.isArray(t[e])?t[e].push(n):t[e]=[t[e],n]:t[e]=n}return t}let tK=e=>{let t;if("string"==typeof e)return tK(new URL(e));let{hostname:i,pathname:n,port:r,protocol:s,search:o}=e;return o&&(t=tG(o)),{hostname:i,port:r?parseInt(r):void 0,protocol:s,path:n,query:t}},tX=e=>"object"==typeof e?"url"in e?tK(e.url):e:tK(e),tY=async(e,t,i,n)=>{if(!i.endpoint){let e=await tq(i.serviceId||"");e&&(i.endpoint=()=>Promise.resolve(tX(e)))}let r=await tJ(e,t,i);if("function"!=typeof i.endpointProvider)throw Error("config.endpointProvider is not set.");return i.endpointProvider(r,n)},tJ=async(e,t,i)=>{let n={},r=t?.getEndpointParameterInstructions?.()||{};for(let[t,s]of Object.entries(r))switch(s.type){case"staticContextParams":n[t]=s.value;break;case"contextParams":n[t]=e[s.name];break;case"clientContextParams":case"builtInParams":n[t]=await tW(s.name,t,i)();break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return 0===Object.keys(r).length&&Object.assign(n,i),"s3"===String(i.serviceId).toLowerCase()&&await tV(n),n},tQ=({config:e,instructions:t})=>(i,n)=>async r=>{let s=await tY(r.input,{getEndpointParameterInstructions:()=>t},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let e=$(n),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return i({...r})},tZ=(e,t)=>(i,n)=>async n=>{let{response:r}=await i(n);try{let i=await t(r,e);return{response:r,output:i}}catch(e){if(Object.defineProperty(e,"$response",{value:r}),!("$metadata"in e)){let t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}},t0=(e,t)=>(i,n)=>async r=>{let s=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw Error("No valid endpoint provider available.");let o=await t(r.input,{...e,endpoint:s});return i({...r,request:o})},t1={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},t2={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function t5(e,t,i){return{applyToStack:n=>{n.add(tZ(e,i),t1),n.add(t0(e,t),t2)}}}let t3={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:t2.name},t4=(e,t)=>({applyToStack:i=>{i.addRelativeTo(tQ({config:e,instructions:t}),t3)}}),t6=e=>{let t=e.tls??!0,{endpoint:i}=e,n=null!=i?async()=>tX(await W(i)()):void 0,r=!!i;return{...e,endpoint:n,tls:t,isCustomEndpoint:r,useDualstackEndpoint:W(e.useDualstackEndpoint??!1),useFipsEndpoint:W(e.useFipsEndpoint??!1)}};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(s||(s={}));let t8=3,t9=s.STANDARD,t7=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ie=["TimeoutError","RequestTimeout","RequestTimeoutException"],it=[500,502,503,504],ii=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ir=e=>e.$metadata?.httpStatusCode===429||t7.includes(e.name)||e.$retryable?.throttling==!0,is=e=>ie.includes(e.name)||ii.includes(e?.code||"")||it.includes(e.$metadata?.httpStatusCode||0),io=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;if(500<=t&&t<=599&&!is(e))return!0}return!1};class ia{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>setTimeout(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),ir(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let i=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(i)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let t=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(t*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}}let il=100,iu=2e4,id=500,ic=500,ih=5,ip=10,im=1,ig="amz-sdk-invocation-id",iv="amz-sdk-request",iy=()=>{let e=il;return{computeNextBackoffDelay:t=>Math.floor(Math.min(iu,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}},ib=({retryDelay:e,retryCount:t,retryCost:i})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(iu,e),getRetryCost:()=>i});class iS{constructor(e){this.maxAttempts=e,this.mode=s.STANDARD,this.capacity=ic,this.retryBackoffStrategy=iy(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return ib({retryDelay:il,retryCount:0})}async refreshRetryTokenForRetry(e,t){let i=await this.getMaxAttempts();if(this.shouldRetry(e,t,i)){let i=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===i?id:il);let n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),r=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,s=this.getCapacityCost(i);return this.capacity-=s,ib({retryDelay:r,retryCount:e.getRetryCount()+1,retryCost:s})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(ic,this.capacity+(e.getRetryCost()??im))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${t8}`),t8}}shouldRetry(e,t,i){return e.getRetryCount()+1<i&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?ip:ih}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class iw{constructor(e,t){this.maxAttemptsProvider=e,this.mode=s.ADAPTIVE;let{rateLimiter:i}=t??{};this.rateLimiter=i??new ia,this.standardRetryStrategy=new iS(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var iC=new Uint8Array(16);function ix(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(iC)}let ik=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,iA=function(e){return"string"==typeof e&&ik.test(e)};for(var iE=[],iM=0;iM<256;++iM)iE.push((iM+256).toString(16).substr(1));let iT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(iE[e[t+0]]+iE[e[t+1]]+iE[e[t+2]]+iE[e[t+3]]+"-"+iE[e[t+4]]+iE[e[t+5]]+"-"+iE[e[t+6]]+iE[e[t+7]]+"-"+iE[e[t+8]]+iE[e[t+9]]+"-"+iE[e[t+10]]+iE[e[t+11]]+iE[e[t+12]]+iE[e[t+13]]+iE[e[t+14]]+iE[e[t+15]]).toLowerCase();if(!iA(i))throw TypeError("Stringified UUID is invalid");return i},i_=function(e,t,i){var n=(e=e||{}).random||(e.rng||ix)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=n[r];return t}return iT(n)},iP=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`),iI=e=>{let{retryStrategy:t}=e,i=W(e.maxAttempts??t8);return{...e,maxAttempts:i,retryStrategy:async()=>t||(await W(e.retryMode)()===s.ADAPTIVE?new iw(i):new iS(i))}};var iR=i(4694);let iO=e=>e?.body instanceof ReadableStream,iD=e=>(t,i)=>async n=>{let r=await e.retryStrategy(),s=await e.maxAttempts();if(!iL(r))return r?.mode&&(i.userAgent=[...i.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(t,n);{let e=await r.acquireInitialRetryToken(i.partition_id),o=Error(),l=0,u=0,{request:d}=n,c=a.Kd.isInstance(d);for(c&&(d.headers[ig]=i_());;)try{c&&(d.headers[iv]=`attempt=${l+1}; max=${s}`);let{response:i,output:o}=await t(n);return r.recordSuccess(e),o.$metadata.attempts=l+1,o.$metadata.totalRetryDelay=u,{response:i,output:o}}catch(s){let t=iN(s);if(o=iP(s),c&&iO(d))throw(i.logger instanceof iR.N4?console:i.logger)?.warn("An error was encountered in a non-retryable streaming request."),o;try{e=await r.refreshRetryTokenForRetry(e,t)}catch(e){throw o.$metadata||(o.$metadata={}),o.$metadata.attempts=l+1,o.$metadata.totalRetryDelay=u,o}l=e.getRetryCount();let n=e.getRetryDelay();u+=n,await new Promise(e=>setTimeout(e,n))}}},iL=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,iN=e=>{let t={errorType:iF(e)},i=iU(e.$response);return i&&(t.retryAfterHint=i),t},iF=e=>ir(e)?"THROTTLING":is(e)?"TRANSIENT":io(e)?"SERVER_ERROR":"CLIENT_ERROR",iB={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},iV=e=>({applyToStack:t=>{t.add(iD(e),iB)}}),iU=e=>{if(!a.cS.isInstance(e))return;let t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;let i=e.headers[t],n=Number(i);return new Date(Number.isNaN(n)?i:1e3*n)},iz=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"chime"}),ij={rE:"3.468.0"};var iH=i(29184),i$=i(75478),iW=i.n(i$);let iq=({serviceId:e,clientVersion:t})=>async()=>{let i="undefined"!=typeof window&&window?.navigator?.userAgent?iW().parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${i?.os?.name||"other"}`,i?.os?.version],["lang/js"],["md/browser",`${i?.browser?.name??"unknown"}_${i?.browser?.version??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};var iG=i(3573);let iK=e=>()=>Promise.reject(e),iX="function"==typeof TextEncoder?new TextEncoder:null,iY=e=>{if("string"==typeof e){if(iX)return iX.encode(e).byteLength;let t=e.length;for(let i=t-1;i>=0;i--){let n=e.charCodeAt(i);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&i--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw Error(`Body Length computation failed for ${e}`)};var iJ=i(26911);let iQ="required",iZ="fn",i0="argv",i1="ref",i2="isSet",i5="booleanEquals",i3="error",i4="endpoint",i6="tree",i8="PartitionResult",i9={[iQ]:!1,type:"String"},i7={[iQ]:!0,default:!1,type:"Boolean"},ne={[i1]:"Endpoint"},nt={[iZ]:i5,[i0]:[{[i1]:"UseFIPS"},!0]},ni={[iZ]:i5,[i0]:[{[i1]:"UseDualStack"},!0]},nn={},nr={[iZ]:"getAttr",[i0]:[{[i1]:i8},"supportsFIPS"]},ns={[iZ]:i5,[i0]:[!0,{[iZ]:"getAttr",[i0]:[{[i1]:i8},"supportsDualStack"]}]},no=[nt],na=[ni],nl=[{[i1]:"Region"}],nu={version:"1.0",parameters:{Region:i9,UseDualStack:i7,UseFIPS:i7,Endpoint:i9},rules:[{conditions:[{[iZ]:i2,[i0]:[ne]}],rules:[{conditions:no,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:i3},{conditions:na,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:i3},{endpoint:{url:ne,properties:nn,headers:nn},type:i4}],type:i6},{conditions:[{[iZ]:i2,[i0]:nl}],rules:[{conditions:[{[iZ]:"aws.partition",[i0]:nl,assign:i8}],rules:[{conditions:[nt,ni],rules:[{conditions:[{[iZ]:i5,[i0]:[!0,nr]},ns],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nn,headers:nn},type:i4}],type:i6},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:i3}],type:i6},{conditions:no,rules:[{conditions:[{[iZ]:i5,[i0]:[nr,!0]}],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nn,headers:nn},type:i4}],type:i6},{error:"FIPS is enabled but this partition does not support FIPS",type:i3}],type:i6},{conditions:na,rules:[{conditions:[ns],rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nn,headers:nn},type:i4}],type:i6},{error:"DualStack is enabled but this partition does not support DualStack",type:i3}],type:i6},{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:nn,headers:nn},type:i4}],type:i6}],type:i6},{error:"Invalid Configuration: Missing Region",type:i3}]},nd=(e,t={})=>tf(nu,{endpointParams:e,logger:t.logger}),nc=e=>({apiVersion:"2021-05-15",base64Decoder:e?.base64Decoder??iJ.E,base64Encoder:e?.base64Encoder??iJ.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??nd,extensions:e?.extensions??[],logger:e?.logger??new iR.N4,serviceId:e?.serviceId??"Chime SDK Messaging",urlParser:e?.urlParser??tK,utf8Decoder:e?.utf8Decoder??G.a,utf8Encoder:e?.utf8Encoder??q.P}),nh=["in-region","cross-region","mobile","standard","legacy"],nf=({defaultsMode:e}={})=>C(async()=>{let t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(np()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${nh.join(", ")}, got ${t}`)}}),np=()=>{let e="undefined"!=typeof window&&window?.navigator?.userAgent?iW().parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t},nm=e=>{let t=nf(e),i=()=>t().then(iR.lT),n=nc(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??iY,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??iq({serviceId:n.serviceId,clientVersion:ij.rE}),maxAttempts:e?.maxAttempts??t8,region:e?.region??iK("Region is missing"),requestHandler:e?.requestHandler??new iG.NC(i),retryMode:e?.retryMode??(async()=>(await i()).retryMode||t9),sha256:e?.sha256??iH.Sha256,streamCollector:e?.streamCollector??iG.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(tP)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(tI))}},ng=e=>{let t=async()=>{if(void 0===e.region)throw Error("Region is missing from runtimeConfig");let t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}},nv=e=>({region:e.region()}),ny=e=>e,nb=(e,t)=>{let i={...ny(ng(e)),...ny((0,iR.xA)(e)),...ny((0,a.eS)(e))};return t.forEach(e=>e.configure(i)),{...e,...nv(i),...(0,iR.uv)(i),...(0,a.jt)(i)}};class nS extends iR.Kj{constructor(...[e]){let t=nb(eG(eB(l(iI(t6(tD(iz(nm(e||{})))))))),e?.extensions||[]);super(t),this.config=t,this.middlewareStack.use(iV(this.config)),this.middlewareStack.use(tB(this.config)),this.middlewareStack.use(c(this.config)),this.middlewareStack.use(p(this.config)),this.middlewareStack.use(w(this.config)),this.middlewareStack.use(eq(this.config)),this.middlewareStack.use(t_(this.config))}destroy(){super.destroy()}}var nw=i(69107);class nC extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nC.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"AssociateChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"AssociateChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.aq)(e,t)}deserialize(e,t){return(0,nw.Zl)(e,t)}}var nx=i(71414);class nk extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nk.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"BatchCreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.bT,[H.Vf]:{service:"ChimeMessagingService",operation:"BatchCreateChannelMembership"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.K3)(e,t)}deserialize(e,t){return(0,nw.bR)(e,t)}}class nA extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nA.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ChannelFlowCallbackCommand",inputFilterSensitiveLog:nx.qs,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"ChannelFlowCallback"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Hy)(e,t)}deserialize(e,t){return(0,nw.UC)(e,t)}}class nE extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nE.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.Ob,[H.Vf]:{service:"ChimeMessagingService",operation:"CreateChannelBan"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.RJ)(e,t)}deserialize(e,t){return(0,nw.ID)(e,t)}}class nM extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nM.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelCommand",inputFilterSensitiveLog:nx.tW,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"CreateChannel"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.iX)(e,t)}deserialize(e,t){return(0,nw.F9)(e,t)}}class nT extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nT.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelFlowCommand",inputFilterSensitiveLog:nx.nL,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"CreateChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.MS)(e,t)}deserialize(e,t){return(0,nw.pl)(e,t)}}class n_ extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n_.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.H_,[H.Vf]:{service:"ChimeMessagingService",operation:"CreateChannelMembership"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.kG)(e,t)}deserialize(e,t){return(0,nw.TI)(e,t)}}class nP extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nP.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"CreateChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.aS,[H.Vf]:{service:"ChimeMessagingService",operation:"CreateChannelModerator"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Pr)(e,t)}deserialize(e,t){return(0,nw.Eu)(e,t)}}class nI extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nI.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannelBan"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.C9)(e,t)}deserialize(e,t){return(0,nw.BM)(e,t)}}class nR extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nR.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannel"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.lG)(e,t)}deserialize(e,t){return(0,nw.sx)(e,t)}}class nO extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nO.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.p2)(e,t)}deserialize(e,t){return(0,nw.aG)(e,t)}}class nD extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nD.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannelMembership"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.jh)(e,t)}deserialize(e,t){return(0,nw.mu)(e,t)}}class nL extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nL.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannelMessage"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.ue)(e,t)}deserialize(e,t){return(0,nw.zA)(e,t)}}class nN extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nN.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteChannelModerator"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.gJ)(e,t)}deserialize(e,t){return(0,nw.PO)(e,t)}}class nF extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nF.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DeleteMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DeleteMessagingStreamingConfigurations"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.vm)(e,t)}deserialize(e,t){return(0,nw.ei)(e,t)}}class nB extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nB.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelBanCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.vs,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelBan"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.mk)(e,t)}deserialize(e,t){return(0,nw.D4)(e,t)}}class nV extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nV.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.yc,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannel"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.$O)(e,t)}deserialize(e,t){return(0,nw.qv)(e,t)}}class nU extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nU.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.o$,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.nA)(e,t)}deserialize(e,t){return(0,nw.OP)(e,t)}}class nz extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nz.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.U1,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelMembership"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Vl)(e,t)}deserialize(e,t){return(0,nw.Wh)(e,t)}}class nj extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nj.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelMembershipForAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.qj,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelMembershipForAppInstanceUser"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.v5)(e,t)}deserialize(e,t){return(0,nw.sF)(e,t)}}class nH extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nH.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.Ry,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelModeratedByAppInstanceUser"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.wZ)(e,t)}deserialize(e,t){return(0,nw.z3)(e,t)}}class n$ extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n$.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DescribeChannelModeratorCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.pG,[H.Vf]:{service:"ChimeMessagingService",operation:"DescribeChannelModerator"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Eq)(e,t)}deserialize(e,t){return(0,nw.$V)(e,t)}}class nW extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nW.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"DisassociateChannelFlowCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"DisassociateChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Se)(e,t)}deserialize(e,t){return(0,nw.ff)(e,t)}}class nq extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nq.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMembershipPreferencesCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.rq,[H.Vf]:{service:"ChimeMessagingService",operation:"GetChannelMembershipPreferences"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.yt)(e,t)}deserialize(e,t){return(0,nw.vA)(e,t)}}class nG extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nG.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.Sp,[H.Vf]:{service:"ChimeMessagingService",operation:"GetChannelMessage"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.H1)(e,t)}deserialize(e,t){return(0,nw.Go)(e,t)}}class nK extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nK.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetChannelMessageStatusCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"GetChannelMessageStatus"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.rU)(e,t)}deserialize(e,t){return(0,nw.cy)(e,t)}}class nX extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nX.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingSessionEndpointCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"GetMessagingSessionEndpoint"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.yq)(e,t)}deserialize(e,t){return(0,nw.Fm)(e,t)}}class nY extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nY.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"GetMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"GetMessagingStreamingConfigurations"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.oO)(e,t)}deserialize(e,t){return(0,nw.Rp)(e,t)}}class nJ extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nJ.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelBansCommand",inputFilterSensitiveLog:nx.x9,outputFilterSensitiveLog:nx.FK,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelBans"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Qt)(e,t)}deserialize(e,t){return(0,nw.T9)(e,t)}}class nQ extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nQ.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelFlowsCommand",inputFilterSensitiveLog:nx.aH,outputFilterSensitiveLog:nx.Sz,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelFlows"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.h$)(e,t)}deserialize(e,t){return(0,nw.o3)(e,t)}}class nZ extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,nZ.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsCommand",inputFilterSensitiveLog:nx.o0,outputFilterSensitiveLog:nx.g6,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelMemberships"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.vO)(e,t)}deserialize(e,t){return(0,nw.I1)(e,t)}}class n0 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n0.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMembershipsForAppInstanceUserCommand",inputFilterSensitiveLog:nx.aw,outputFilterSensitiveLog:nx.gZ,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelMembershipsForAppInstanceUser"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.vx)(e,t)}deserialize(e,t){return(0,nw.Yc)(e,t)}}class n1 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n1.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelMessagesCommand",inputFilterSensitiveLog:nx.zJ,outputFilterSensitiveLog:nx.F5,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelMessages"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.w0)(e,t)}deserialize(e,t){return(0,nw.hN)(e,t)}}class n2 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n2.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelModeratorsCommand",inputFilterSensitiveLog:nx.RA,outputFilterSensitiveLog:nx.Zb,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelModerators"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.cY)(e,t)}deserialize(e,t){return(0,nw.p$)(e,t)}}class n5 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n5.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsAssociatedWithChannelFlowCommand",inputFilterSensitiveLog:nx.Dk,outputFilterSensitiveLog:nx.vf,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelsAssociatedWithChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.UJ)(e,t)}deserialize(e,t){return(0,nw.dO)(e,t)}}class n3 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n3.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsCommand",inputFilterSensitiveLog:nx.M8,outputFilterSensitiveLog:nx.AG,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannels"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.ry)(e,t)}deserialize(e,t){return(0,nw.uK)(e,t)}}class n4 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n4.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListChannelsModeratedByAppInstanceUserCommand",inputFilterSensitiveLog:nx.jl,outputFilterSensitiveLog:nx.f,[H.Vf]:{service:"ChimeMessagingService",operation:"ListChannelsModeratedByAppInstanceUser"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.e8)(e,t)}deserialize(e,t){return(0,nw.Ly)(e,t)}}class n6 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n6.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListSubChannelsCommand",inputFilterSensitiveLog:nx.IY,outputFilterSensitiveLog:nx.Qy,[H.Vf]:{service:"ChimeMessagingService",operation:"ListSubChannels"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Xx)(e,t)}deserialize(e,t){return(0,nw.mY)(e,t)}}class n8 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n8.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:nx.k9,[H.Vf]:{service:"ChimeMessagingService",operation:"ListTagsForResource"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.jM)(e,t)}deserialize(e,t){return(0,nw.U6)(e,t)}}class n9 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n9.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelExpirationSettingsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"PutChannelExpirationSettings"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.fK)(e,t)}deserialize(e,t){return(0,nw.GG)(e,t)}}class n7 extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,n7.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutChannelMembershipPreferencesCommand",inputFilterSensitiveLog:nx.E_,outputFilterSensitiveLog:nx.ul,[H.Vf]:{service:"ChimeMessagingService",operation:"PutChannelMembershipPreferences"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Dl)(e,t)}deserialize(e,t){return(0,nw.e2)(e,t)}}class re extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,re.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"PutMessagingStreamingConfigurationsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"PutMessagingStreamingConfigurations"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.bN)(e,t)}deserialize(e,t){return(0,nw.Mb)(e,t)}}class rt extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,rt.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"RedactChannelMessageCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"RedactChannelMessage"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.mX)(e,t)}deserialize(e,t){return(0,nw.Hn)(e,t)}}class ri extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,ri.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"SearchChannelsCommand",inputFilterSensitiveLog:nx.QQ,outputFilterSensitiveLog:nx.O3,[H.Vf]:{service:"ChimeMessagingService",operation:"SearchChannels"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.fe)(e,t)}deserialize(e,t){return(0,nw.cJ)(e,t)}}class rn extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,rn.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"SendChannelMessageCommand",inputFilterSensitiveLog:nx.hj,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"SendChannelMessage"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.RF)(e,t)}deserialize(e,t){return(0,nw.ey)(e,t)}}class rr extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,rr.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:nx.Er,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"TagResource"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.xf)(e,t)}deserialize(e,t){return(0,nw.gm)(e,t)}}class rs extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,rs.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:nx.hx,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"UntagResource"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.i_)(e,t)}deserialize(e,t){return(0,nw._K)(e,t)}}class ro extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,ro.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelCommand",inputFilterSensitiveLog:nx.KS,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"UpdateChannel"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.tJ)(e,t)}deserialize(e,t){return(0,nw.ej)(e,t)}}class ra extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,ra.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelFlowCommand",inputFilterSensitiveLog:nx.G8,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"UpdateChannelFlow"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.ji)(e,t)}deserialize(e,t){return(0,nw.Wx)(e,t)}}class rl extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,rl.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelMessageCommand",inputFilterSensitiveLog:nx.VD,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"UpdateChannelMessage"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.Cp)(e,t)}deserialize(e,t){return(0,nw.t4)(e,t)}}class ru extends iR.uB{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,i){this.middlewareStack.use(t5(t,this.serialize,this.deserialize)),this.middlewareStack.use(t4(t,ru.getEndpointParameterInstructions()));let n=e.concat(this.middlewareStack),{logger:r}=t,s={logger:r,clientName:"ChimeSDKMessagingClient",commandName:"UpdateChannelReadMarkerCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e,[H.Vf]:{service:"ChimeMessagingService",operation:"UpdateChannelReadMarker"}},{requestHandler:o}=t;return n.resolve(e=>o.handle(e.request,i||{}),s)}serialize(e,t){return(0,nw.T3)(e,t)}deserialize(e,t){return(0,nw.g$)(e,t)}}let rd={AssociateChannelFlowCommand:nC,BatchCreateChannelMembershipCommand:nk,ChannelFlowCallbackCommand:nA,CreateChannelCommand:nM,CreateChannelBanCommand:nE,CreateChannelFlowCommand:nT,CreateChannelMembershipCommand:n_,CreateChannelModeratorCommand:nP,DeleteChannelCommand:nR,DeleteChannelBanCommand:nI,DeleteChannelFlowCommand:nO,DeleteChannelMembershipCommand:nD,DeleteChannelMessageCommand:nL,DeleteChannelModeratorCommand:nN,DeleteMessagingStreamingConfigurationsCommand:nF,DescribeChannelCommand:nV,DescribeChannelBanCommand:nB,DescribeChannelFlowCommand:nU,DescribeChannelMembershipCommand:nz,DescribeChannelMembershipForAppInstanceUserCommand:nj,DescribeChannelModeratedByAppInstanceUserCommand:nH,DescribeChannelModeratorCommand:n$,DisassociateChannelFlowCommand:nW,GetChannelMembershipPreferencesCommand:nq,GetChannelMessageCommand:nG,GetChannelMessageStatusCommand:nK,GetMessagingSessionEndpointCommand:nX,GetMessagingStreamingConfigurationsCommand:nY,ListChannelBansCommand:nJ,ListChannelFlowsCommand:nQ,ListChannelMembershipsCommand:nZ,ListChannelMembershipsForAppInstanceUserCommand:n0,ListChannelMessagesCommand:n1,ListChannelModeratorsCommand:n2,ListChannelsCommand:n3,ListChannelsAssociatedWithChannelFlowCommand:n5,ListChannelsModeratedByAppInstanceUserCommand:n4,ListSubChannelsCommand:n6,ListTagsForResourceCommand:n8,PutChannelExpirationSettingsCommand:n9,PutChannelMembershipPreferencesCommand:n7,PutMessagingStreamingConfigurationsCommand:re,RedactChannelMessageCommand:rt,SearchChannelsCommand:ri,SendChannelMessageCommand:rn,TagResourceCommand:rr,UntagResourceCommand:rs,UpdateChannelCommand:ro,UpdateChannelFlowCommand:ra,UpdateChannelMessageCommand:rl,UpdateChannelReadMarkerCommand:ru};class rc extends nS{}(0,iR.J1)(rd,rc);let rh=async(e,t,...i)=>await e.send(new nJ(t),...i);async function*rf(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rh(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rp=async(e,t,...i)=>await e.send(new nQ(t),...i);async function*rm(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rp(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rg=async(e,t,...i)=>await e.send(new n0(t),...i);async function*rv(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rg(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let ry=async(e,t,...i)=>await e.send(new nZ(t),...i);async function*rb(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await ry(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rS=async(e,t,...i)=>await e.send(new n1(t),...i);async function*rw(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rS(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rC=async(e,t,...i)=>await e.send(new n2(t),...i);async function*rx(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rC(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rk=async(e,t,...i)=>await e.send(new n5(t),...i);async function*rA(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rk(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rE=async(e,t,...i)=>await e.send(new n4(t),...i);async function*rM(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rE(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rT=async(e,t,...i)=>await e.send(new n3(t),...i);async function*r_(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rT(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rP=async(e,t,...i)=>await e.send(new n6(t),...i);async function*rI(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rP(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}let rR=async(e,t,...i)=>await e.send(new ri(t),...i);async function*rO(e,t,...i){let n,r=e.startingToken||void 0,s=!0;for(;s;){if(t.NextToken=r,t.MaxResults=e.pageSize,e.client instanceof nS)n=await rR(e.client,t,...i);else throw Error("Invalid client, expected ChimeSDKMessaging | ChimeSDKMessagingClient");yield n;let o=r;s=!!((r=n.NextToken)&&(!e.stopOnSameToken||r!==o))}}var rD=i(96041)},47730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),t.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],t.MAX_HASHABLE_LENGTH=0x1fffffffffffff},48266:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 10V8h-2v4H8l4 4 4-4z"}),"ArrowCircleDown")},49319:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(68590)),o=r(i(5551)),a=r(i(44495)),l=r(i(76234));class u extends l.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetRemoteDescriptionTask"}cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var e;return n(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let t=this.context.sdpAnswer;t=new o.default(t).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(t=new o.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new o.default(t).withStereoAudio().sdp)),void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(t=new o.default(t).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.prioritizedSendVideoCodecCapabilities=new o.default(t).prioritizedSendVideoCodecCapabilities(),this.context.currentVideoSendCodec=this.context.prioritizedSendVideoCodecCapabilities.length>0?this.context.prioritizedSendVideoCodecCapabilities[0]:void 0;let i=this.context.activeVideoInput;if(void 0!==i){let t=this.context.audioVideoController.configuration.credentials.attendeeId,n=new s.default(t).hasModality(s.default.MODALITY_CONTENT),r=i.getVideoTracks()[0];n&&((null==(e=this.context.currentVideoSendCodec)?void 0:e.codecName)===a.default.av1Main().codecName?(r.contentHint="text",this.logger.info(`Setting content hint to text for AV1, attendee: ${t}`)):this.context.audioVideoController.configuration.enableSVC&&(r.contentHint="motion",this.logger.info(`Setting content hint to motion to enable SVC, attendee: ${t}`)))}this.logger.info(`processed remote description is >>>${t}<<<`);let n={type:"answer",sdp:t,toJSON:null};try{yield this.createICEConnectionCompletedPromise(n)}catch(e){throw e}})}createICEConnectionCompletedPromise(e){return new Promise((t,i)=>n(this,void 0,void 0,function*(){let n=()=>{("connected"===this.context.peer.iceConnectionState||"completed"===this.context.peer.iceConnectionState)&&(this.context.peer.removeEventListener("iceconnectionstatechange",n),t())};this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",n),i(Error(`${this.name()} got canceled while waiting for the ICE connection state`))},this.context.peer.addEventListener("iceconnectionstatechange",n);try{yield this.context.peer.setRemoteDescription(e),this.logger.info("set remote description, waiting for ICE connection"),n()}catch(e){i(e)}}))}}t.default=u},49502:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s=(0,n.A)("message-circle-question-mark",r)},49603:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}createWorkerTimer(){try{let e=new Blob([`self.onmessage = async function(e){ 
            var timerID = null;
            const awaitTimeout = delay => new Promise( resolve => {
              timerID = setTimeout(resolve, delay);
            })
            await awaitTimeout(e.data);
            postMessage(timerID);
          }`],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(e))}catch(e){}}start(e,t){return i(this,void 0,void 0,function*(){this.callback=t,this.workerTimer?(this.workerTimer.onmessage=e=>{this.lastTimeout=e.data,this.callback()},this.workerTimer.postMessage(e)):this.lastTimeout=setTimeout(()=>{this.callback()},e)})}destroy(){return i(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}}t.default=n},49677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var i=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(e){return!e||r.test(e)||i.test(e)},l=function(e,t){return t.toUpperCase()},u=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return(void 0===t&&(t={}),a(e))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,u):e.replace(s,u)).replace(n,l))}},49913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},50211:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingSessionLifecycleEvent=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped"}(i=t.MeetingSessionLifecycleEvent||(t.MeetingSessionLifecycleEvent={})),t.default=i},50492:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPreferences=t.MutableVideoPreferences=t.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;let r=n(i(25743));t.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=function(e,t,i){if(void 0===e.transceiverController.getMidForGroupId||void 0===e.videoStreamIndex.attendeeIdForGroupId||void 0===i)return[];let n=[],s=new Map,o=new Map;for(let i of t){let t=e.transceiverController.getMidForGroupId(i);if(void 0===t)continue;let n=e.videoStreamIndex.attendeeIdForGroupId(i);s.set(n,t),o.set(n,i)}for(let e of i){let t=new r.default,i=s.get(e.attendeeId);void 0!==i&&(t.mid=i,t.attendeeId=e.attendeeId,t.groupId=o.get(e.attendeeId),t.priority=Number.MAX_SAFE_INTEGER-e.priority,t.targetBitrateKbps=e.targetSizeToBitrateKbps(e.targetSize),t.qualityAdaptationPreference=e.degradationPreference,n.push(t))}return n};class s{constructor(e=[]){this.items=e}static default(){return new s([])}[Symbol.iterator](){let e=0,t=this.items;return{next:()=>e<t.length?{done:!1,value:t[e++]}:{done:!0,value:null}}}first(){return this.items[0]}add(e){this.items.push(e)}replaceFirst(e,t){let i=this.items.findIndex(t);-1===i?this.items.push(e):this.has(e)?this.items.splice(i,1):this.items[i]=e}remove(e){this.items=this.items.filter(t=>!t.equals(e))}clear(){this.items=[]}isEmpty(){return 0===this.items.length}equals(e){if(e===this)return!0;if(e.items.length!==this.items.length)return!1;for(let t of this.items)if(!e.items.some(e=>e.equals(t)))return!1;return!0}has(e){return this.items.some(t=>t.equals(e))}some(e){return this.items.some(e)}clone(){return new s([...this.items])}sort(){this.items.sort((e,t)=>e.partialCompare(t))}modify(){return new o(this)}}class o{constructor(e=new s){this.items=e,this.copied=!1}cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(e){this.items.has(e)||(this.cow(),this.items.add(e))}replaceFirst(e,t){(!this.items.has(e)||this.items.some(t))&&(this.cow(),this.items.replaceFirst(e,t))}remove(e){this.items.has(e)&&(this.cow(),this.items.remove(e))}some(e){return this.items.some(e)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}class a{constructor(e){this.builder=e}add(e){this.builder.add(e)}replaceFirst(e,t){this.builder.replaceFirst(e,t)}remove(e){this.builder.remove(e)}some(e){return this.builder.some(e)}clear(){this.builder.clear()}build(){return new l(this.builder.build())}}t.MutableVideoPreferences=a;class l{constructor(e){this.items=e}static prepare(){return new a(new o)}static default(){return new l(s.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var e;return null==(e=this.items.first())?void 0:e.priority}sorted(){return this.items[Symbol.iterator]()}equals(e){return e===this||this.items.equals(e.items)}modify(){return new a(this.items.modify())}some(e){return this.items.some(e)}isEmpty(){return this.items.isEmpty()}clone(){let e=l.prepare();for(let t of this.items)e.add(t.clone());return e.build()}}t.VideoPreferences=l,t.default=l},50533:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")},51305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.groupId=""}matchesConstraints(e){return JSON.stringify(this.constraints)===JSON.stringify(e)}}t.default=i},51711:e=>{e.exports=function(e,t,i,n){var r=i?i.call(n,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var d=e[u],c=t[u];if(!1===(r=i?i.call(n,d,c,u):void 0)||void 0===r&&d!==c)return!1}return!0}},52041:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(23521)),o=i(96119),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=e=>{this.context.signalingClient.mute(e)}}run(){return n(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===s.default.ReceivedSignalFrame){if(e.message.type===o.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){let t=e.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(t)}else if(e.message.type===o.SdkSignalFrame.Type.AUDIO_METADATA){let t=e.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(t)}}}}t.default=l},52045:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(96119);class r{constructor(e,t,i,n,r){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=e,this.groupId=t,this.streamId=i,this.maxBitrateKbps=n,this.avgBitrateKbps=r}clone(){let e=new r;return e.attendeeId=this.attendeeId,e.groupId=this.groupId,e.streamId=this.streamId,e.ssrc=this.ssrc,e.trackLabel=this.trackLabel,e.maxBitrateKbps=this.maxBitrateKbps,e.avgBitrateKbps=this.avgBitrateKbps,e.maxFrameRate=this.maxFrameRate,e.timeEnabled=this.timeEnabled,e.disabledByUplinkPolicy=this.disabledByUplinkPolicy,e.width=this.width,e.height=this.height,e}toStreamDescriptor(){let e=n.SdkStreamDescriptor.create();return e.mediaType=n.SdkStreamMediaType.VIDEO,e.trackLabel=this.trackLabel,e.attendeeId=this.attendeeId,e.streamId=this.streamId,e.groupId=this.groupId,e.framerate=this.maxFrameRate,e.maxBitrateKbps=this.disabledByUplinkPolicy?0:this.maxBitrateKbps,e.avgBitrateBps=this.avgBitrateKbps,e}totalPixels(){return this.width*this.height}}t.default=r},52654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.timeoutMs=e,this.timer=null}start(e){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),e()},this.timeoutMs)}stop(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}}t.default=i},52905:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(27471);function r(e,t){if((r=e.length)>0){for(var i,r,s,o=0,a=e[0].length;o<a;++o){for(s=i=0;i<r;++i)s+=e[i][o][1]||0;if(s)for(i=0;i<r;++i)e[i][o][1]/=s}(0,n.A)(e,t)}}},53e3:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp")},53500:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(82599)),o=i(25708),a=r(i(86428));class l extends s.default{constructor(e,t){super("background blur",e,t,new a.default),this.blurAmount=0,this.setBlurStrength(t.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info(`BackgroundBlur spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundBlur options: { blurStrength: ${t.blurStrength}, filterCPUUtilization: ${t.filterCPUUtilization}, reportingPeriodMillis: ${t.reportingPeriodMillis}}`)}validateOptions(e){if(super.validateOptions(e),!e.blurStrength)throw Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);let{canvasCtx:i,targetCanvas:n}=this,{width:r,height:s}=n;i.save(),i.clearRect(0,0,r,s),i.drawImage(this.scaledCanvas,0,0,r,s),i.globalCompositeOperation="source-in",i.drawImage(e,0,0,r,s),i.globalCompositeOperation="destination-over",i.filter=`blur(${this.blurAmount}px)`,i.drawImage(e,0,0,n.width,n.height),i.restore()}setBlurStrength(e){this._blurStrength=e,this.logger.info(`blur strength set to ${this._blurStrength}`),this.setBlurPixels()}setBlurPixels(){this.blurAmount=o.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info(`background blur amount set to ${this.blurAmount}`)}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}static isSupported(){return n(this,void 0,void 0,function*(){let e=document.createElement("canvas"),t=void 0!==e.getContext("2d").filter;return e.remove(),t})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){let e={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}}t.default=l},53510:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoEncodingConnectionHealthPolicyName=void 0,function(e){e.VideoEncodingCpuHealth="Video Encoding CPU Health",e.VideoEncodingFramerateHealth="Video Encoding framerate Health",e.VideoConcurrentSendersHealth="Video Concurrent Senders Health"}(i=t.VideoEncodingConnectionHealthPolicyName||(t.VideoEncodingConnectionHealthPolicyName={})),t.default=i},54070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54185:function(e,t,i){"use strict";var n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(71729)),r=i(49677);function s(e,t){var i={};return e&&"string"==typeof e&&(0,n.default)(e,function(e,n){e&&n&&(i[(0,r.camelCase)(e,t)]=n)}),i}s.default=s,e.exports=s},54219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="class RedundantAudioEncoder {\n    constructor() {\n        // Each payload must be less than 1024 bytes to fit the 10 bit block length\n        this.maxRedPacketSizeBytes = 1 << 10;\n        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio\n        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio\n        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See\n        // https://crbug.com/1248479.\n        this.maxAudioPayloadSizeBytes = 1000;\n        // Each payload can encode a timestamp delta of 14 bits\n        this.maxRedTimestampOffset = 1 << 14;\n        // 4 byte RED header\n        this.redHeaderSizeBytes = 4;\n        // reduced size for last RED header\n        this.redLastHeaderSizeBytes = 1;\n        // P-Time for Opus 20 msec packets\n        // We do not support other p-times or clock rates\n        this.redPacketizationTime = 960;\n        // distance between redundant payloads, Opus FEC handles a distance of 1\n        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):\n        // Consider making this dynamic\n        this.redPacketDistance = 2;\n        // maximum number of redundant payloads per RTP packet\n        this.maxRedEncodings = 2;\n        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant\n        // payloads have FEC.\n        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;\n        // maximum history of prior payloads to keep\n        // generally we will expire old entries based on timestamp\n        // this limit is in place just to make sure the history does not\n        // grow too large in the case of erroneous timestamp inputs\n        this.maxEncodingHistorySize = 10;\n        // Current number of encodings we want to send\n        // to the remote end. This will be dynamically\n        // updated through the setNumEncodingsFromPacketloss API\n        this.numRedundantEncodings = 0;\n        // Used to enable or disable redundancy\n        // in response to very high packet loss events\n        this.redundancyEnabled = true;\n        // Loss stats are reported to the main thread every 5 seconds.\n        // Since timestamp differences between 2 consecutive packets\n        // give us the number of samples in each channel, 1 second\n        // is equivalent to 48000 samples:\n        // P-time * (1000ms/1s)\n        // = (960 samples/20ms) * (1000ms/1s)\n        // = 48000 samples/s\n        this.lossReportInterval = 48000 * 5;\n        // Maximum distance of a packet from the most recent packet timestamp\n        // that we will consider for recovery.\n        this.maxOutOfOrderPacketDistance = 16;\n        /**\n         * Below are Opus helper methods and constants.\n         */\n        this.OPUS_BAD_ARG = -1;\n        this.OPUS_INVALID_PACKET = -4;\n        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).\n        this.OPUS_MAX_OPUS_FRAMES = 48;\n        // Max number of bytes that any individual Opus frame can have.\n        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;\n        this.encodingHistory = new Array();\n        this.opusPayloadType = 0;\n        this.redPayloadType = 0;\n        this.initializePacketLogs();\n    }\n    /**\n     * Creates an instance of RedundantAudioEncoder and sets up callbacks.\n     */\n    static initializeWorker() {\n        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');\n        const encoder = new RedundantAudioEncoder();\n        // RED encoding is done using WebRTC Encoded Transform\n        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md\n        // Check the DedicatedWorkerGlobalScope for existence of\n        // RTCRtpScriptTransformer interface. If exists, then\n        // RTCRtpScriptTransform is supported by this browser.\n        // @ts-ignore\n        if (self.RTCRtpScriptTransformer) {\n            // @ts-ignore\n            self.onrtctransform = (event) => {\n                if (event.transformer.options.type === 'SenderTransform') {\n                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'ReceiverTransform') {\n                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'PassthroughTransform') {\n                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);\n                }\n            };\n        }\n        self.onmessage = (event) => {\n            if (event.data.msgType === 'StartRedWorker') {\n                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'PassthroughTransform') {\n                encoder.setupPassthroughTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupPassthroughTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'RedPayloadType') {\n                encoder.setRedPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'OpusPayloadType') {\n                encoder.setOpusPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {\n                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);\n            }\n            else if (event.data.msgType === 'Enable') {\n                encoder.setRedundancyEnabled(true);\n            }\n            else if (event.data.msgType === 'Disable') {\n                encoder.setRedundancyEnabled(false);\n            }\n        };\n    }\n    /**\n     * Post logs to the main thread\n     */\n    static log(msg) {\n        if (RedundantAudioEncoder.shouldLog) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'REDWorkerLog',\n                log: `[AudioRed] ${msg}`,\n            });\n        }\n    }\n    /**\n     * Returns the number of encodings based on packetLoss value. This is used by `DefaultTransceiverController` to\n     * determine when to alert the encoder to update the number of encodings. It also determines if we need to\n     * turn off red in cases of very high packet loss to avoid congestion collapse.\n     */\n    static getNumRedundantEncodingsForPacketLoss(packetLoss) {\n        let recommendedRedundantEncodings = 0;\n        let shouldTurnOffRed = false;\n        if (packetLoss <= 8) {\n            recommendedRedundantEncodings = 0;\n        }\n        else if (packetLoss <= 18) {\n            recommendedRedundantEncodings = 1;\n        }\n        else if (packetLoss <= 75) {\n            recommendedRedundantEncodings = 2;\n        }\n        else {\n            recommendedRedundantEncodings = 0;\n            shouldTurnOffRed = true;\n        }\n        return [recommendedRedundantEncodings, shouldTurnOffRed];\n    }\n    /**\n     * Sets up a passthrough (no-op) transform for the given streams.\n     */\n    setupPassthroughTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up passthrough transform');\n        readable.pipeTo(writable);\n    }\n    /**\n     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.\n     */\n    setupSenderTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up sender RED transform');\n        const transformStream = new TransformStream({\n            transform: this.senderTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.\n     */\n    setupReceiverTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up receiver RED transform');\n        const transformStream = new TransformStream({\n            transform: this.receivePacketLogTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Set the RED payload type ideally obtained from local offer.\n     */\n    setRedPayloadType(payloadType) {\n        this.redPayloadType = payloadType;\n        RedundantAudioEncoder.log(`red payload type set to ${this.redPayloadType}`);\n    }\n    /**\n     * Set the opus payload type ideally obtained from local offer.\n     */\n    setOpusPayloadType(payloadType) {\n        this.opusPayloadType = payloadType;\n        RedundantAudioEncoder.log(`opus payload type set to ${this.opusPayloadType}`);\n    }\n    /**\n     * Set the number of redundant encodings\n     */\n    setNumRedundantEncodings(numRedundantEncodings) {\n        this.numRedundantEncodings = numRedundantEncodings;\n        if (this.numRedundantEncodings > this.maxRedEncodings) {\n            this.numRedundantEncodings = this.maxRedEncodings;\n        }\n        RedundantAudioEncoder.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`);\n    }\n    /**\n     * Enable or disable redundancy in response to\n     * high packet loss event.\n     */\n    setRedundancyEnabled(enabled) {\n        this.redundancyEnabled = enabled;\n        RedundantAudioEncoder.log(`redundancy ${this.redundancyEnabled ? 'enabled' : 'disabled'}`);\n    }\n    /**\n     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by\n     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than\n     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will\n     * encounter this error and will permanently stop sending or receiving audio.\n     */\n    enqueueAudioFrameIfPayloadSizeIsValid(\n    // @ts-ignore\n    frame, controller) {\n        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)\n            return;\n        controller.enqueue(frame);\n    }\n    /**\n     * Receives encoded frames and modifies as needed before sending to transport.\n     */\n    senderTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);\n        if (!primaryPayloadBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);\n        /* istanbul ignore next */\n        if (!encodedBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        frame.data = encodedBuffer;\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n        return;\n    }\n    /**\n     * Get the primary payload from encoding\n     */\n    getPrimaryPayload(primaryTimestamp, frame) {\n        const encodings = this.splitEncodings(primaryTimestamp, frame);\n        if (!encodings || encodings.length < 1)\n            return null;\n        return encodings[encodings.length - 1].payload;\n    }\n    /**\n     * Split up the encoding received into primary and redundant encodings\n     * These will be ordered oldest to newest which is the same ordering\n     * in the RTP red payload.\n     */\n    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {\n        // process RED headers (according to RFC 2198)\n        //   0                   1                   2                   3\n        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //  |F|   block PT  |  timestamp offset         |   block length    |\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //\n        // last header\n        //   0 1 2 3 4 5 6 7\n        //  +-+-+-+-+-+-+-+-+\n        //  |0|   Block PT  |\n        //  +-+-+-+-+-+-+-+-+\n        const payload = new DataView(frame);\n        let payloadSizeBytes = payload.byteLength;\n        let totalPayloadSizeBytes = 0;\n        let totalHeaderSizeBytes = 0;\n        let primaryPayloadSizeBytes = 0;\n        let payloadOffset = 0;\n        let gotLastBlock = false;\n        const encodings = new Array();\n        const redundantEncodingBlockLengths = new Array();\n        const redundantEncodingTimestamps = new Array();\n        while (payloadSizeBytes > 0) {\n            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;\n            if (gotLastBlock) {\n                // Bits 1 through 7 are payload type\n                const payloadType = payload.getUint8(payloadOffset) & 0x7f;\n                // Unexpected payload type. This is a bad packet.\n                if (payloadType !== this.opusPayloadType) {\n                    return null;\n                }\n                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;\n                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This\n                // is a bad packet.\n                if (totalPayloadSizeBytes >= payload.byteLength) {\n                    return null;\n                }\n                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;\n                break;\n            }\n            else {\n                if (payloadSizeBytes < this.redHeaderSizeBytes) {\n                    return null;\n                }\n                // Bits 22 through 31 are payload length\n                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);\n                redundantEncodingBlockLengths.push(blockLength);\n                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;\n                const timestamp = primaryTimestamp - timestampOffset;\n                redundantEncodingTimestamps.push(timestamp);\n                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redHeaderSizeBytes;\n                payloadOffset += this.redHeaderSizeBytes;\n                payloadSizeBytes -= this.redHeaderSizeBytes;\n            }\n        }\n        // The last block was never found. The packet we received\n        // does not have a good RED payload.\n        if (!gotLastBlock) {\n            // Note that sequence numbers only exist for\n            // incoming audio frames.\n            if (primarySequenceNumber !== undefined) {\n                // This could be a possible padding packet used\n                // for BWE with a good sequence number.\n                // Create a dummy encoding to make sure loss values\n                // are calculated correctly by consuming sequence number.\n                // Note that for the receive side, we process packets only\n                // for loss/recovery calculations and forward the original\n                // packet without changing it even in the error case.\n                encodings.push({\n                    payload: frame,\n                    isRedundant: false,\n                    seq: primarySequenceNumber,\n                });\n                return encodings;\n            }\n            // This is a bad packet.\n            return null;\n        }\n        let redundantPayloadOffset = totalHeaderSizeBytes;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);\n            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);\n            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);\n            const encoding = {\n                timestamp: redundantEncodingTimestamps[i],\n                payload: redundantPayloadBuffer,\n                isRedundant: true,\n            };\n            if (getFecInfo) {\n                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);\n            }\n            encodings.push(encoding);\n            redundantPayloadOffset += redundantEncodingBlockLengths[i];\n        }\n        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;\n        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);\n        const primaryArray = new Uint8Array(primaryPayloadBuffer);\n        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);\n        const encoding = {\n            timestamp: primaryTimestamp,\n            payload: primaryPayloadBuffer,\n            isRedundant: false,\n            seq: primarySequenceNumber,\n        };\n        if (getFecInfo) {\n            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);\n        }\n        encodings.push(encoding);\n        return encodings;\n    }\n    /**\n     * Create a new encoding with current primary payload and the older payloads of choice.\n     */\n    encode(primaryTimestamp, primaryPayload) {\n        const primaryPayloadSize = primaryPayload.byteLength;\n        // Payload size needs to be valid.\n        if (primaryPayloadSize === 0 ||\n            primaryPayloadSize >= this.maxRedPacketSizeBytes ||\n            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {\n            return null;\n        }\n        const numRedundantEncodings = this.numRedundantEncodings;\n        let headerSizeBytes = this.redLastHeaderSizeBytes;\n        let payloadSizeBytes = primaryPayloadSize;\n        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;\n        const redundantEncodingTimestamps = new Array();\n        const redundantEncodingPayloads = new Array();\n        // If redundancy is disabled then only send the primary payload\n        if (this.redundancyEnabled) {\n            // Determine how much redundancy we can fit into our packet\n            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);\n            for (let i = 0; i < numRedundantEncodings; i++) {\n                // Do not add redundant encodings that are beyond the maximum timestamp offset.\n                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {\n                    break;\n                }\n                let findTimestamp = redundantTimestamp;\n                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                if (!encoding) {\n                    // If not found or not important then look for the previous packet.\n                    // The current packet may have included FEC for the previous, so just\n                    // use the previous packet instead provided that it has voice activity.\n                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);\n                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                }\n                if (encoding) {\n                    const redundantEncodingSizeBytes = encoding.payload.byteLength;\n                    // Only add redundancy if there are enough bytes available.\n                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)\n                        break;\n                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;\n                    headerSizeBytes += this.redHeaderSizeBytes;\n                    payloadSizeBytes += redundantEncodingSizeBytes;\n                    redundantEncodingTimestamps.unshift(encoding.timestamp);\n                    redundantEncodingPayloads.unshift(encoding.payload);\n                }\n                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;\n                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);\n            }\n        }\n        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);\n        const redPayloadView = new DataView(redPayloadBuffer);\n        // Add redundant encoding header(s) to new buffer\n        let redPayloadOffset = 0;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];\n            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);\n            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));\n            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);\n            redPayloadOffset += this.redHeaderSizeBytes;\n        }\n        // Add primary encoding header to new buffer\n        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);\n        redPayloadOffset += this.redLastHeaderSizeBytes;\n        // Add redundant payload(s) to new buffer\n        const redPayloadArray = new Uint8Array(redPayloadBuffer);\n        for (let i = 0; i < redundantEncodingPayloads.length; i++) {\n            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);\n            redPayloadOffset += redundantEncodingPayloads[i].byteLength;\n        }\n        // Add primary payload to new buffer\n        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);\n        redPayloadOffset += primaryPayload.byteLength;\n        /* istanbul ignore next */\n        // Sanity check that we got the expected total payload size.\n        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)\n            return null;\n        this.updateEncodingHistory(primaryTimestamp, primaryPayload);\n        return redPayloadBuffer;\n    }\n    /**\n     * Update the encoding history with the latest primary encoding\n     */\n    updateEncodingHistory(primaryTimestamp, primaryPayload) {\n        // Remove encodings from the history if they are too old.\n        for (const encoding of this.encodingHistory) {\n            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;\n            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {\n                this.encodingHistory.shift();\n            }\n            else {\n                break;\n            }\n        }\n        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is\n        // a CELT-only packet or contains voice activity.\n        const packet = new DataView(primaryPayload);\n        if (this.opusPacketIsCeltOnly(packet) ||\n            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {\n            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.\n            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory\n            // usage is bounded. In this case, just clear the history and start over from empty.\n            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)\n                this.encodingHistory.length = 0;\n            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });\n        }\n    }\n    /**\n     * Initialize packet logs and metric values.\n     */\n    initializePacketLogs() {\n        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for\n        // packets that have already been received but are outside of the max out-of-order distance.\n        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;\n        this.primaryPacketLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.redRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.fecRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.totalAudioPacketsExpected = 0;\n        this.totalAudioPacketsLost = 0;\n        this.totalAudioPacketsRecoveredRed = 0;\n        this.totalAudioPacketsRecoveredFec = 0;\n    }\n    /**\n     * Receives encoded frames from the server\n     * and adds the timestamps to a packet log\n     * to calculate an approximate recovery metric.\n     */\n    receivePacketLogTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        // @ts-ignore\n        const encodings = this.splitEncodings(frame.timestamp, frame.data, \n        /*getFecInfo*/ true, frameMetadata.sequenceNumber);\n        if (!encodings) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        for (let i = encodings.length - 1; i >= 0; i--) {\n            if (this.updateLossStats(encodings[i])) {\n                this.updateRedStats(encodings[i]);\n                this.updateFecStats(encodings[i]);\n            }\n        }\n        this.maybeReportLossStats(frameMetadata.synchronizationSource, encodings[encodings.length - 1].timestamp);\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n    }\n    /**\n     * Adds a timestamp to the primary packet log.\n     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking\n     * at the difference between timestamps.\n     *\n     * @param encoding : The encoding to be analyzed\n     * @returns false if sequence number was greater than max out of order distance\n     *          true otherwise\n     */\n    updateLossStats(encoding) {\n        if (encoding.isRedundant)\n            return true;\n        const timestamp = encoding.timestamp;\n        const seq = encoding.seq;\n        if (this.totalAudioPacketsExpected === 0) {\n            this.totalAudioPacketsExpected = 1;\n            this.newestSequenceNumber = seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n            return true;\n        }\n        const diff = this.int16(seq - this.newestSequenceNumber);\n        if (diff < -this.maxOutOfOrderPacketDistance)\n            return false;\n        if (diff < 0) {\n            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n                if (this.totalAudioPacketsLost > 0)\n                    this.totalAudioPacketsLost--;\n                this.addTimestamp(this.primaryPacketLog, timestamp);\n                this.removeFromRecoveryWindows(timestamp);\n            }\n        }\n        else if (diff > 1) {\n            this.totalAudioPacketsLost += diff - 1;\n        }\n        if (diff > 0) {\n            this.totalAudioPacketsExpected += diff;\n            this.newestSequenceNumber = encoding.seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n        }\n        return true;\n    }\n    /**\n     * Adds a timestamp to the red recovery log if it is not present in\n     * the primary packet log and if it's not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateRedStats(encoding) {\n        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)\n            return;\n        const timestamp = encoding.timestamp;\n        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {\n                this.totalAudioPacketsRecoveredRed++;\n                this.addTimestamp(this.redRecoveryLog, timestamp);\n            }\n            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {\n                /* istanbul ignore else */\n                if (this.totalAudioPacketsRecoveredFec > 0)\n                    this.totalAudioPacketsRecoveredFec--;\n            }\n        }\n    }\n    /**\n     * Adds a timestamp to the fec recovery log if it is not present in\n     * the primary packet log and red recovery log and if it is not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateFecStats(encoding) {\n        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)\n            return;\n        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;\n        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||\n            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||\n            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {\n            return;\n        }\n        this.totalAudioPacketsRecoveredFec++;\n        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);\n    }\n    /**\n     * Reports loss metrics to DefaultTransceiverController\n     *\n     * @param timestamp : Timestamp of most recent primary packet\n     */\n    maybeReportLossStats(ssrc, timestamp) {\n        if (timestamp === undefined ||\n            timestamp - this.lastLossReportTimestamp < this.lossReportInterval)\n            return;\n        /* istanbul ignore next */\n        if (RedundantAudioEncoder.shouldReportStats) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'RedundantAudioEncoderStats',\n                ssrc,\n                totalAudioPacketsLost: this.totalAudioPacketsLost,\n                totalAudioPacketsExpected: this.totalAudioPacketsExpected,\n                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,\n                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,\n            });\n        }\n        this.lastLossReportTimestamp = timestamp;\n    }\n    /**\n     * Adds a timestamp to a packet log\n     *\n     * @param packetLog : The packetlog to add the timestamp to\n     * @param timestamp : The timestamp that should be added\n     */\n    addTimestamp(packetLog, timestamp) {\n        if (timestamp === undefined) {\n            return;\n        }\n        packetLog.window[packetLog.index] = timestamp;\n        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;\n    }\n    /**\n     * Checks if a timestamp is in a packetlog\n     *\n     * @param packetLog : The packetlog to search\n     * @param timestamp : The timestamp to search for\n     * @returns true if timestamp is present, false otherwise\n     */\n    hasTimestamp(packetLog, timestamp) {\n        const element = packetLog.window.find(t => t === timestamp);\n        return !!element;\n    }\n    /**\n     * Removes a timestamp from a packet log\n     *\n     * @param packetLog : The packetlog from which the timestamp should be removed\n     * @param timestamp : The timestamp to be removed\n     * @returns true if timestamp was present in the log and removed, false otherwise\n     */\n    removeTimestamp(packetLog, timestamp) {\n        const index = packetLog.window.indexOf(timestamp);\n        if (index >= 0) {\n            packetLog.window[index] = undefined;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Removes a timestamp from red and fec recovery windows.\n     *\n     * @param timestamp : The timestamp to be removed\n     */\n    removeFromRecoveryWindows(timestamp) {\n        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredRed > 0)\n                this.totalAudioPacketsRecoveredRed--;\n        }\n        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredFec > 0)\n                this.totalAudioPacketsRecoveredFec--;\n        }\n    }\n    /**\n     * Converts the supplied argument to 32-bit unsigned integer\n     */\n    uint32WrapAround(num) {\n        const mod = 4294967296; // 2^32\n        let res = num;\n        if (num >= mod) {\n            res = num - mod;\n        }\n        else if (num < 0) {\n            res = mod + num;\n        }\n        return res;\n    }\n    /**\n     * Converts the supplied argument to 16-bit signed integer\n     */\n    int16(num) {\n        return (num << 16) >> 16;\n    }\n    /**\n     * Determines if an Opus packet is in CELT-only mode.\n     *\n     * @param packet Opus packet.\n     * @returns `true` if the packet is in CELT-only mode.\n     */\n    opusPacketIsCeltOnly(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1\n        // for CELT-only packets.\n        return !!(packet.getUint8(0) & 0x80);\n    }\n    /**\n     * Gets the number of samples per frame from an Opus packet.\n     *\n     * @param packet Opus packet. This must contain at least one byte of data.\n     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will\n     *                     be returned.\n     * @returns Number of samples per frame.\n     */\n    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {\n        // Sample rate must be a 32-bit integer.\n        sampleRateHz = Math.round(sampleRateHz);\n        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        let numSamples;\n        let frameSizeOption;\n        // Case for CELT-only packet.\n        if (this.opusPacketIsCeltOnly(packet)) {\n            // The lower 3 'config' bits indicate the frame size option.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes\n            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be\n            // calculated as follows:\n            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)\n            // = (sample/s) * (1s/400) * 2^(frameSizeOption)\n            // = (sample/s) * 2^(frameSizeOption) * (1s/400)\n            numSamples = (sampleRateHz << frameSizeOption) / 400;\n        }\n        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the\n        // above TOC byte diagram will both be 1.\n        else if ((packet.getUint8(0) & 0x60) === 0x60) {\n            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15\n            // correspond to a 20ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (20ms)\n            // = (sample/s) * (1s/50)\n            //\n            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14\n            // correspond to a 10ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (10ms)\n            // = (sample/s) * (1s/100)\n            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;\n        }\n        // Case for SILK-only packet.\n        else {\n            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            if (frameSizeOption === 3) {\n                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:\n                // (sample/s) * (1s/1000ms) * (60ms)\n                // = (sample/s) * (60ms) * (1s/1000ms)\n                numSamples = (sampleRateHz * 60) / 1000;\n            }\n            else {\n                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be\n                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:\n                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)\n                // = (sample/s) * (1s/100) * 2^(frameSizeOption)\n                // = (sample/s) * 2^(frameSizeOption) * (1s/100)\n                numSamples = (sampleRateHz << frameSizeOption) / 100;\n            }\n        }\n        return numSamples;\n    }\n    /**\n     * Gets the number of SILK frames per Opus frame.\n     *\n     * @param packet Opus packet.\n     * @returns Number of SILK frames per Opus frame.\n     */\n    opusNumSilkFrames(packet) {\n        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but\n        // any valid sample rate would work.\n        //\n        // To calculate the length of a frame (with a 48kHz sample rate) in ms:\n        // (samples/frame) * (1s/48000 samples) * (1000ms/s)\n        // = (samples/frame) * (1000ms/48000 samples)\n        // = (samples/frame) * (1ms/48 samples)\n        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;\n        if (frameLengthMs < 10)\n            frameLengthMs = 10;\n        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.\n        switch (frameLengthMs) {\n            case 10:\n            case 20:\n                return 1;\n            case 40:\n                return 2;\n            case 60:\n                return 3;\n            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,\n            // or 60 ms, so we ignore the default case for test coverage.\n            /* istanbul ignore next */\n            default:\n                return 0;\n        }\n    }\n    /**\n     * Gets the number of channels from an Opus packet.\n     *\n     * @param packet Opus packet.\n     * @returns Number of channels.\n     */\n    opusPacketGetNumChannels(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.\n        return packet.getUint8(0) & 0x4 ? 2 : 1;\n    }\n    /**\n     * Determine the size (in bytes) of an Opus frame.\n     *\n     * @param packet Opus packet.\n     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.\n     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.\n     * @param sizeBytes Variable to store the parsed frame size (in bytes).\n     * @returns Number of bytes that were parsed to determine the frame size.\n     */\n    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {\n        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.\n        // If there are no remaining bytes to parse the size from, then the size cannot be determined.\n        if (remainingBytes < 1) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // If the first byte is in the range 0...251, then this value is the size of the frame.\n        else if (packet.getUint8(byteOffset) < 252) {\n            sizeBytes[0] = packet.getUint8(byteOffset);\n            return 1;\n        }\n        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size\n        // cannot be determined.\n        else if (remainingBytes < 2) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // The total size of the frame given two size bytes is:\n        // (4 * secondSizeByte) + firstSizeByte\n        else {\n            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);\n            return 2;\n        }\n    }\n    /**\n     * Parse binary data containing an Opus packet into one or more Opus frames.\n     *\n     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the\n     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the\n     *             contained Opus packet.\n     * @param lenBytes Size of the data (in bytes).\n     * @param selfDelimited Indicates if the Opus packet is self-delimiting\n     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each\n     *                     Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the\n     *                      payload.\n     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).\n     * @returns Number of Opus frames.\n     */\n    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {\n        if (!frameSizes || lenBytes < 0)\n            return this.OPUS_BAD_ARG;\n        if (lenBytes === 0)\n            return this.OPUS_INVALID_PACKET;\n        // The number of Opus frames in the packet.\n        let numFrames;\n        // Intermediate storage for the number of bytes parsed to determine the size of a frame.\n        let numBytesParsed;\n        // The number of the padding bytes (excluding the padding count bytes) in the packet.\n        let paddingBytes = 0;\n        // Indicates whether CBR (constant bitrate) framing is used.\n        let cbr = false;\n        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).\n        const toc = data.getUint8(0);\n        // Store the TOC byte.\n        if (tocByte)\n            tocByte[0] = toc;\n        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the\n        // minus 1.\n        let remainingBytes = lenBytes - 1;\n        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.\n        let byteOffset = 1;\n        // The size of the last Opus frame in bytes.\n        let lastSizeBytes = remainingBytes;\n        // Read the `c` bits (i.e. code bits) from the TOC byte.\n        switch (toc & 0x3) {\n            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.\n            case 0:\n                numFrames = 1;\n                break;\n            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.\n            case 1:\n                numFrames = 2;\n                cbr = true;\n                if (!selfDelimited) {\n                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.\n                    if (remainingBytes & 0x1)\n                        return this.OPUS_INVALID_PACKET;\n                    // The sizes of both frames are equal (i.e. half of the number of data bytes).\n                    lastSizeBytes = remainingBytes / 2;\n                    // If `lastSizeBytes` is too large, we will catch it later.\n                    frameSizes[0][0] = lastSizeBytes;\n                }\n                break;\n            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.\n            case 2:\n                numFrames = 2;\n                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);\n                remainingBytes -= numBytesParsed;\n                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.\n                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                byteOffset += numBytesParsed;\n                // The size of the second frame is the remaining number of bytes after the first frame.\n                lastSizeBytes = remainingBytes - frameSizes[0][0];\n                break;\n            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to\n            // 120 ms).\n            default:\n                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).\n                if (remainingBytes < 1)\n                    return this.OPUS_INVALID_PACKET;\n                // Frame count byte format:\n                //  0\n                //  0 1 2 3 4 5 6 7\n                // +-+-+-+-+-+-+-+-+\n                // |v|p|     M     |\n                // +-+-+-+-+-+-+-+-+\n                //\n                // Read the frame count byte, which immediately follows the TOC byte.\n                const frameCountByte = data.getUint8(byteOffset++);\n                --remainingBytes;\n                // Read the 'M' bits of the frame count byte, which encode the number of frames.\n                numFrames = frameCountByte & 0x3f;\n                // The number of frames in a code 3 packet must not be 0.\n                if (numFrames <= 0)\n                    return this.OPUS_INVALID_PACKET;\n                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);\n                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded\n                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot\n                // exceed 2880 * 2 = 5760.\n                if (samplesPerFrame * numFrames > 5760)\n                    return this.OPUS_INVALID_PACKET;\n                // Parse padding bytes if the 'p' bit is 1.\n                if (frameCountByte & 0x40) {\n                    let paddingCountByte;\n                    let numPaddingBytes;\n                    // Remove padding bytes (including padding count bytes) from the remaining byte count.\n                    do {\n                        // Sanity check that there are enough bytes to parse and remove the padding.\n                        if (remainingBytes <= 0)\n                            return this.OPUS_INVALID_PACKET;\n                        // Get the next padding count byte.\n                        paddingCountByte = data.getUint8(byteOffset++);\n                        --remainingBytes;\n                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the\n                        // value in the padding count byte.\n                        //\n                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the\n                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.\n                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;\n                        remainingBytes -= numPaddingBytes;\n                        paddingBytes += numPaddingBytes;\n                    } while (paddingCountByte === 255);\n                }\n                // Sanity check that the remaining number of bytes is not negative after removing the padding.\n                if (remainingBytes < 0)\n                    return this.OPUS_INVALID_PACKET;\n                // Read the 'v' bit (i.e. VBR bit).\n                cbr = !(frameCountByte & 0x80);\n                // VBR case\n                if (!cbr) {\n                    lastSizeBytes = remainingBytes;\n                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)\n                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the\n                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);\n                        remainingBytes -= numBytesParsed;\n                        // The remaining number of data bytes must be enough to contain each frame.\n                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {\n                            return this.OPUS_INVALID_PACKET;\n                        }\n                        byteOffset += numBytesParsed;\n                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];\n                    }\n                    // Sanity check that the size of the last frame is not negative.\n                    if (lastSizeBytes < 0)\n                        return this.OPUS_INVALID_PACKET;\n                }\n                // CBR case\n                else if (!selfDelimited) {\n                    // The size of each frame is the number of data bytes divided by the number of frames.\n                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);\n                    // The number of data bytes must be a non-negative integer multiple of the number of frames.\n                    if (lastSizeBytes * numFrames !== remainingBytes)\n                        return this.OPUS_INVALID_PACKET;\n                    // All frames have equal size in the undelimited CBR case.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        frameSizes[i][0] = lastSizeBytes;\n                    }\n                }\n        }\n        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the\n        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and\n        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.\n        if (selfDelimited) {\n            // The extra frame size byte(s) will always indicate the size of the last frame.\n            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);\n            remainingBytes -= numBytesParsed;\n            // There must be enough data bytes for the last frame.\n            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {\n                return this.OPUS_INVALID_PACKET;\n            }\n            byteOffset += numBytesParsed;\n            // For CBR packets, the sizes of all the frames are equal.\n            if (cbr) {\n                // There must be enough data bytes for all the frames.\n                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                for (let i = 0; i < numFrames - 1; ++i) {\n                    frameSizes[i][0] = frameSizes[numFrames - 1][0];\n                }\n            }\n            // At this point, `lastSizeBytes` contains the size of the last frame plus the size of the extra frame size\n            // byte(s), so sanity check that `lastSizeBytes` is the upper bound for the size of the last frame.\n            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {\n                return this.OPUS_INVALID_PACKET;\n            }\n        }\n        // Undelimited case\n        else {\n            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet\n            // (or of all the packets, for the CBR case) is larger than maximum frame size.\n            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)\n                return this.OPUS_INVALID_PACKET;\n            frameSizes[numFrames - 1][0] = lastSizeBytes;\n        }\n        // Store the offset to the start of the payload.\n        if (payloadOffset)\n            payloadOffset[0] = byteOffset;\n        // Store the offsets to the start of each frame.\n        for (let i = 0; i < numFrames; ++i) {\n            if (frameOffsets)\n                frameOffsets[i][0] = byteOffset;\n            byteOffset += frameSizes[i][0];\n        }\n        // Store the length of the Opus packet.\n        if (packetLenBytes)\n            packetLenBytes[0] = byteOffset + paddingBytes;\n        return numFrames;\n    }\n    /**\n     * Parse a single undelimited Opus packet into one or more Opus frames.\n     *\n     * @param packet Opus packet to be parsed.\n     * @param lenBytes Size of the packet (in bytes).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of\n     *                     each Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the\n     *                      payload.\n     * @returns Number of Opus frames.\n     */\n    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {\n        return this.opusPacketParseImpl(packet, lenBytes, \n        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);\n    }\n    /**\n     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only\n     * packets that do not have VAD information, it returns -1.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  0: no frame had the VAD flag set.\n     *           1: at least one frame had the VAD flag set.\n     *          -1: VAD status could not be determined.\n     */\n    opusPacketHasVoiceActivity(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return 0;\n        // In CELT-only mode, we can not determine whether there is VAD.\n        if (this.opusPacketIsCeltOnly(packet))\n            return -1;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        // It is not possible for `opusNumSilkFrames()` to return 0, so we ignore the next sanity check for test coverage.\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return -1;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        // VAD status cannot be determined for invalid packets.\n        if (numOpusFrames < 0)\n            return -1;\n        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.\n        for (let i = 0; i < numOpusFrames; ++i) {\n            if (opusFrameSizes[i][0] < 1)\n                continue;\n            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):\n            //\n            // Mono case:\n            // +-----------------+----------+\n            // | 1 to 3 VAD bits | LBRR bit |\n            // +-----------------+----------+\n            //\n            // Stereo case:\n            // +---------------------+--------------+----------------------+---------------+\n            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |\n            // +---------------------+--------------+----------------------+---------------+\n            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of\n            // these VAD bits are 1, then voice activity is present.\n            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))\n                return 1;\n            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.\n            const channels = this.opusPacketGetNumChannels(packet);\n            if (channels === 2 &&\n                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {\n                return 1;\n            }\n        }\n        // No voice activity was detected.\n        return 0;\n    }\n    /**\n     * This method is based on Definition of the Opus Audio Codec\n     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on\n     * parsing the LP layer of an Opus packet, particularly the LBRR flag.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  true: packet has fec encoding about previous packet.\n     *           false: no fec encoding present.\n     */\n    opusPacketHasFec(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return false;\n        // In CELT-only mode, packets should not have FEC.\n        if (this.opusPacketIsCeltOnly(packet))\n            return false;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        if (numOpusFrames < 0)\n            return false;\n        /* istanbul ignore next */\n        if (opusFrameSizes[0][0] <= 1)\n            return false;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return false;\n        const channels = this.opusPacketGetNumChannels(packet);\n        /* istanbul ignore next */\n        if (channels !== 1 && channels !== 2)\n            return false;\n        // A frame starts with the LP layer. The LP layer begins with two to eight\n        // header bits.These consist of one VAD bit per SILK frame (up to 3),\n        // followed by a single flag indicating the presence of LBRR frames.\n        // For a stereo packet, these first flags correspond to the mid channel, and\n        // a second set of flags is included for the side channel. Because these are\n        // the first symbols decoded by the range coder and because they are coded\n        // as binary values with uniform probability, they can be extracted directly\n        // from the most significant bits of the first byte of compressed data.\n        for (let i = 0; i < channels; i++) {\n            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))\n                return true;\n        }\n        return false;\n    }\n}\nRedundantAudioEncoder.shouldLog = true;\nRedundantAudioEncoder.shouldReportStats = true;\nRedundantAudioEncoder.initializeWorker();\n"},54483:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n,r=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}let o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&o.test(e)};for(var l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));let d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i},c=function(e,t,i){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=n[r];return t}return d(n)}},54976:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerState=void 0,function(e){e[e.NotConnected=0]="NotConnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Updating=3]="Updating",e[e.Disconnecting=4]="Disconnecting"}(i=t.SessionStateControllerState||(t.SessionStateControllerState={})),t.default=i},55019:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckVideoInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(i=t.CheckVideoInputFeedback||(t.CheckVideoInputFeedback={})),t.default=i},55194:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketReadyState=void 0,function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(i=t.WebSocketReadyState||(t.WebSocketReadyState={})),t.default=i},55360:(e,t,i)=>{"use strict";i.d(t,{Kd:()=>s,cS:()=>a,eS:()=>n,jt:()=>r});let n=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,i){t.updateHttpClientConfig(e,i)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},r=e=>({httpHandler:e.httpHandler()});i(98295);class s{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;let t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){let e=new s({...this,headers:{...this.headers}});return e.query&&(e.query=o(e.query)),e}}function o(e){return Object.keys(e).reduce((t,i)=>{let n=e[i];return{...t,[i]:Array.isArray(n)?[...n]:n}},{})}class a{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},55611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n,r,s){this.timestampMs=e,this.topic=t,this.data=i,this.senderAttendeeId=n,this.senderExternalUserId=r,this.throttled=!!s}text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}}t.default=i},55621:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(76842)),s=n(i(97645)),o=n(i(63484));class a{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3,this.videoEncodingHealthPolicies=[r.default,s.default,o.default],this.consecutiveHighEncodeCpuThreshold=10,this.highEncodeCpuMsThreshold=500,this.highEncodeCpuMsPerFrameThreshold=15,this.consecutiveVideoEncodingFailureThreshold=5,this.concurrentVideoSendersThreshold=15}}t.default=a},55792:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var n=i(90643),r=i(42531),s=i(84269);t.AwsCrc32=function(){function e(){this.crc32=new s.Crc32}return e.prototype.update=function(e){(0,r.isEmptyData)(e)||this.crc32.update((0,r.convertToBuffer)(e))},e.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return[2,(0,r.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new s.Crc32},e}()},55906:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(87644));class s extends r.default{constructor(e){super(e),this.name="NotReadableError"}}t.default=s},56099:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(87644));class s extends r.default{constructor(e,t){super(e),this.constraint=t,this.name="OverconstrainedError"}}t.default=s},56506:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994)),o=r(i(44435));class a{constructor(e){this.logger=e,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new s.default,this.observers=new Set}bindAudioElement(e){return n(this,void 0,void 0,function*(){if(!e)throw Error(`Cannot bind audio element: ${e}`);return this.audioElement=e,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(e=>{this.audioStream&&e.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(e){return n(this,void 0,void 0,function*(){if(e){this.audioStream=e;try{yield this.bindAudioMix()}catch(e){this.logger&&this.logger.warn(`Failed to bind audio stream: ${e}`)}}})}bindAudioDevice(e){return n(this,void 0,void 0,function*(){if(e&&!this.browserBehavior.supportsSetSinkId())throw Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=e,this.bindAudioMix()})}forEachObserver(e){for(let t of this.observers)o.default.nextTick(()=>{e(t)})}bindAudioMix(){var e,t;return n(this,void 0,void 0,function*(){if(!this.audioElement)return;let i=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),i!==this.audioStream&&this.forEachObserver(e=>{i&&e.meetingAudioStreamBecameInactive(i),this.audioStream&&e.meetingAudioStreamBecameActive(this.audioStream)});let n=(null==(e=this.audioDevice)?void 0:e.deviceId)!==this.audioElement.sinkId;if(n&&void 0===this.audioElement.sinkId)throw Error("Cannot select audio output device. This browser does not support setSinkId.");let r=this.audioDevice?this.audioDevice.deviceId:"";if(r===this.audioElement.sinkId)return;let s=this.audioElement,o=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(s.srcObject=null),n)try{yield s.setSinkId(r)}catch(e){throw null==(t=this.logger)||t.error(`Failed to set sinkId for audio element: ${e}`),e}this.browserBehavior.hasChromiumWebRTC()&&(s.srcObject=o)})}getCurrentMeetingAudioStream(){return n(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(e){return n(this,void 0,void 0,function*(){this.observers.add(e)})}removeAudioMixObserver(e){return n(this,void 0,void 0,function*(){this.observers.delete(e)})}audioOutputDidChange(e){return n(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(e)})}}t.default=a},56539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i){this.type=e,this.headers=t,this.payload=i}}t.default=i},56599:(e,t,i)=>{"use strict";i.d(t,{q:()=>M});var n=i(15376).Buffer;class r extends Error{constructor(e,t,i,...s){for(let o of(Array.isArray(t)&&(t=t.join(" ").trim()),super(t),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,r),this.code=e,s))for(let e in o){let t=o[e];this[e]=n.isBuffer(t)?t.toString(i.encoding):null==t?t:JSON.parse(JSON.stringify(t))}}}let s=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},o=function(e){let t=[];for(let i=0,n=e.length;i<n;i++){let n=e[i];if(null==n||!1===n)t[i]={disabled:!0};else if("string"==typeof n)t[i]={name:n};else if(s(n)){if("string"!=typeof n.name)throw new r("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"]);t[i]=n}else throw new r("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${i}`])}return t};var a=i(15376).Buffer;class l{constructor(e=100){this.size=e,this.length=0,this.buf=a.allocUnsafe(e)}prepend(e){if(a.isBuffer(e)){let t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");let i=this.buf;this.buf=a.allocUnsafe(this.size),e.copy(this.buf,0),i.copy(this.buf,e.length),this.length+=e.length}else{let t=this.length++;t===this.size&&this.resize();let i=this.clone();this.buf[0]=e,i.copy(this.buf,1,0,t)}}append(e){let t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return a.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=2*this.size;let t=a.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}let u=l;var d=i(15376).Buffer;let c=12,h=13,f=10,p=32,m=9,g=function(e){return{bomSkipped:!1,bufBytesStart:0,castField:e.cast_function,commenting:!1,error:void 0,enabled:1===e.from_line,escaping:!1,escapeIsQuote:d.isBuffer(e.escape)&&d.isBuffer(e.quote)&&0===d.compare(e.escape,e.quote),expectedRecordLength:Array.isArray(e.columns)?e.columns.length:void 0,field:new u(20),firstLineToHeaders:e.cast_first_line_to_header,needMoreDataSize:Math.max(null!==e.comment?e.comment.length:0,...e.delimiter.map(e=>e.length),null!==e.quote?e.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new u(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===e.record_delimiter.length?0:Math.max(...e.record_delimiter.map(e=>e.length)),trimChars:[d.from(" ",e.encoding)[0],d.from("	",e.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[d.from(d.from([h],"utf8").toString(),e.encoding),d.from(d.from([f],"utf8").toString(),e.encoding),d.from(d.from([c],"utf8").toString(),e.encoding),d.from(d.from([p],"utf8").toString(),e.encoding),d.from(d.from([m],"utf8").toString(),e.encoding)]}},v=function(e){return e.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})};var y=i(15376).Buffer;let b=function(e){let t={};for(let i in e)t[v(i)]=e[i];if(void 0===t.encoding||!0===t.encoding)t.encoding="utf8";else if(null===t.encoding||!1===t.encoding)t.encoding=null;else if("string"!=typeof t.encoding&&null!==t.encoding)throw new r("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(void 0===t.bom||null===t.bom||!1===t.bom)t.bom=!1;else if(!0!==t.bom)throw new r("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,void 0===t.cast||null===t.cast||!1===t.cast||""===t.cast)t.cast=void 0;else if("function"==typeof t.cast)t.cast_function=t.cast,t.cast=!0;else if(!0!==t.cast)throw new r("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(void 0===t.cast_date||null===t.cast_date||!1===t.cast_date||""===t.cast_date)t.cast_date=!1;else if(!0===t.cast_date)t.cast_date=function(e){let t=Date.parse(e);return isNaN(t)?e:new Date(t)};else if("function"!=typeof t.cast_date)throw new r("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=void 0,!0===t.columns)t.cast_first_line_to_header=void 0;else if("function"==typeof t.columns)t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=o(t.columns);else if(void 0===t.columns||null===t.columns||!1===t.columns)t.columns=!1;else throw new r("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(void 0===t.group_columns_by_name||null===t.group_columns_by_name||!1===t.group_columns_by_name)t.group_columns_by_name=!1;else if(!0!==t.group_columns_by_name)throw new r("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);else if(!1===t.columns)throw new r("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t);if(void 0===t.comment||null===t.comment||!1===t.comment||""===t.comment)t.comment=null;else if("string"==typeof t.comment&&(t.comment=y.from(t.comment,t.encoding)),!y.isBuffer(t.comment))throw new r("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);if(void 0===t.comment_no_infix||null===t.comment_no_infix||!1===t.comment_no_infix)t.comment_no_infix=!1;else if(!0!==t.comment_no_infix)throw new r("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(t.comment_no_infix)}`],t);let i=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),0===t.delimiter.length)throw new r("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],t);if(t.delimiter=t.delimiter.map(function(e){if(null==e||!1===e)return y.from(",",t.encoding);if("string"==typeof e&&(e=y.from(e,t.encoding)),!y.isBuffer(e)||0===e.length)throw new r("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${i}`],t);return e}),void 0===t.escape||!0===t.escape?t.escape=y.from('"',t.encoding):"string"==typeof t.escape?t.escape=y.from(t.escape,t.encoding):(null===t.escape||!1===t.escape)&&(t.escape=null),null!==t.escape&&!y.isBuffer(t.escape))throw Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(void 0===t.from||null===t.from)t.from=1;else if("string"==typeof t.from&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(void 0===t.from_line||null===t.from_line)t.from_line=1;else if("string"==typeof t.from_line&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(void 0===t.ignore_last_delimiters||null===t.ignore_last_delimiters)t.ignore_last_delimiters=!1;else if("number"==typeof t.ignore_last_delimiters)t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),0===t.ignore_last_delimiters&&(t.ignore_last_delimiters=!1);else if("boolean"!=typeof t.ignore_last_delimiters)throw new r("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(!0===t.ignore_last_delimiters&&!1===t.columns)throw new r("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(void 0===t.info||null===t.info||!1===t.info)t.info=!1;else if(!0!==t.info)throw Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(void 0===t.max_record_size||null===t.max_record_size||!1===t.max_record_size)t.max_record_size=0;else if(Number.isInteger(t.max_record_size)&&t.max_record_size>=0);else if("string"==typeof t.max_record_size&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`);if(void 0===t.objname||null===t.objname||!1===t.objname)t.objname=void 0;else if(y.isBuffer(t.objname)){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty buffer");null===t.encoding||(t.objname=t.objname.toString(t.encoding))}else if("string"==typeof t.objname){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty string")}else if("number"==typeof t.objname);else throw Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(void 0!==t.objname){if("number"==typeof t.objname){if(!1!==t.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===t.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(void 0===t.on_record||null===t.on_record)t.on_record=void 0;else if("function"!=typeof t.on_record)throw new r("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(void 0!==t.on_skip&&null!==t.on_skip&&"function"!=typeof t.on_skip)throw Error(`Invalid Option: on_skip must be a function, got ${JSON.stringify(t.on_skip)}`);if(null===t.quote||!1===t.quote||""===t.quote)t.quote=null;else if(void 0===t.quote||!0===t.quote?t.quote=y.from('"',t.encoding):"string"==typeof t.quote&&(t.quote=y.from(t.quote,t.encoding)),!y.isBuffer(t.quote))throw Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(void 0===t.raw||null===t.raw||!1===t.raw)t.raw=!1;else if(!0!==t.raw)throw Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(void 0===t.record_delimiter)t.record_delimiter=[];else if("string"==typeof t.record_delimiter||y.isBuffer(t.record_delimiter)){if(0===t.record_delimiter.length)throw new r("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new r("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(e,i){if("string"==typeof e||y.isBuffer(e)){if(0===e.length)throw new r("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(e)}`],t)}else throw new r("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(e)}`],t);return"string"==typeof e&&(e=y.from(e,t.encoding)),e}),"boolean"==typeof t.relax_column_count);else if(void 0===t.relax_column_count||null===t.relax_column_count)t.relax_column_count=!1;else throw Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`);if("boolean"==typeof t.relax_column_count_less);else if(void 0===t.relax_column_count_less||null===t.relax_column_count_less)t.relax_column_count_less=!1;else throw Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`);if("boolean"==typeof t.relax_column_count_more);else if(void 0===t.relax_column_count_more||null===t.relax_column_count_more)t.relax_column_count_more=!1;else throw Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`);if("boolean"==typeof t.relax_quotes);else if(void 0===t.relax_quotes||null===t.relax_quotes)t.relax_quotes=!1;else throw Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`);if("boolean"==typeof t.skip_empty_lines);else if(void 0===t.skip_empty_lines||null===t.skip_empty_lines)t.skip_empty_lines=!1;else throw Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`);if("boolean"==typeof t.skip_records_with_empty_values);else if(void 0===t.skip_records_with_empty_values||null===t.skip_records_with_empty_values)t.skip_records_with_empty_values=!1;else throw Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`);if("boolean"==typeof t.skip_records_with_error);else if(void 0===t.skip_records_with_error||null===t.skip_records_with_error)t.skip_records_with_error=!1;else throw Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`);if(void 0===t.rtrim||null===t.rtrim||!1===t.rtrim)t.rtrim=!1;else if(!0!==t.rtrim)throw Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(void 0===t.ltrim||null===t.ltrim||!1===t.ltrim)t.ltrim=!1;else if(!0!==t.ltrim)throw Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(void 0===t.trim||null===t.trim||!1===t.trim)t.trim=!1;else if(!0!==t.trim)throw Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(!0===t.trim&&!1!==e.ltrim?t.ltrim=!0:!0!==t.ltrim&&(t.ltrim=!1),!0===t.trim&&!1!==e.rtrim?t.rtrim=!0:!0!==t.rtrim&&(t.rtrim=!1),void 0===t.to||null===t.to)t.to=-1;else if(-1!==t.to)if("string"==typeof t.to&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(void 0===t.to_line||null===t.to_line)t.to_line=-1;else if(-1!==t.to_line)if("string"==typeof t.to_line&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t};var S=i(15376).Buffer;let w=function(e){return e.every(e=>null==e||e.toString&&""===e.toString().trim())},C=13,x=10,k={utf8:S.from([239,187,191]),utf16le:S.from([255,254])},A=function(e={}){let t={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},i=b(e);return{info:t,original_options:e,options:i,state:g(i),__needMoreData:function(e,t,i){if(i)return!1;let{encoding:n,escape:r,quote:s}=this.options,{quoting:o,needMoreDataSize:a,recordDelimiterMaxLength:l}=this.state;return t-e-1<Math.max(a,0===l?S.from("\r\n",n).length:l,o?(null===r?0:r.length)+s.length:0,o?s.length+l:0)},parse:function(e,t,i,n){let s,o,{bom:a,comment_no_infix:l,encoding:u,from_line:d,ltrim:c,max_record_size:h,raw:f,relax_quotes:p,rtrim:m,skip_empty_lines:g,to:v,to_line:y}=this.options,{comment:w,escape:A,quote:E,record_delimiter:M}=this.options,{bomSkipped:T,previousBuf:_,rawBuffer:P,escapeIsQuote:I}=this.state;if(void 0===_)if(void 0===e)return void n();else s=e;else s=void 0!==_&&void 0===e?_:S.concat([_,e]);if(!1===T)if(!1===a)this.state.bomSkipped=!0;else if(s.length<3){if(!1===t){this.state.previousBuf=s;return}}else{for(let e in k)if(0===k[e].compare(s,0,k[e].length)){let t=k[e].length;this.state.bufBytesStart+=t,s=s.slice(t);let i=b({...this.original_options,encoding:e});for(let e in i)this.options[e]=i[e];({comment:w,escape:A,quote:E}=this.options);break}this.state.bomSkipped=!0}let R=s.length;for(o=0;o<R&&!this.__needMoreData(o,R,t);o++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==y&&this.info.lines>y){this.state.stop=!0,n();return}!1===this.state.quoting&&0===M.length&&this.__autoDiscoverRecordDelimiter(s,o)&&(M=this.options.record_delimiter);let e=s[o];if(!0===f&&P.append(e),(e===C||e===x)&&!1===this.state.wasRowDelimiter&&(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==A&&!0===this.state.quoting&&this.__isEscape(s,o,e)&&o+A.length<R)if(I){if(this.__isQuote(s,o+A.length)){this.state.escaping=!0,o+=A.length-1;continue}}else{this.state.escaping=!0,o+=A.length-1;continue}if(!1===this.state.commenting&&this.__isQuote(s,o))if(!0===this.state.quoting){let t=s[o+E.length],i=m&&this.__isCharTrimable(s,o+E.length),n=null!==w&&this.__compareBytes(w,s,o+E.length,t),a=this.__isDelimiter(s,o+E.length,t),l=0===M.length?this.__autoDiscoverRecordDelimiter(s,o+E.length):this.__isRecordDelimiter(t,s,o+E.length);if(null!==A&&this.__isEscape(s,o,e)&&this.__isQuote(s,o+A.length))o+=A.length-1;else if(!t||a||l||n||i){this.state.quoting=!1,this.state.wasQuoting=!0,o+=E.length-1;continue}else if(!1===p){let e=this.__error(new r("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(t)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==e)return e}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(E),o+=E.length-1}else if(0!==this.state.field.length){if(!1===p){let e=this.__infoField(),t=Object.keys(k).map(e=>!!k[e].equals(this.state.field.toString())&&e).filter(Boolean)[0],i=this.__error(new r("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(e.column)} at line ${e.lines}, value is ${JSON.stringify(this.state.field.toString(u))}`,t?`(${t} bom)`:void 0],this.options,e,{field:this.state.field}));if(void 0!==i)return i}}else{this.state.quoting=!0,o+=E.length-1;continue}if(!1===this.state.quoting){let t=this.__isRecordDelimiter(e,s,o);if(0!==t){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+ +(!0===this.state.wasRowDelimiter)>=d){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),o+=t-1;continue}if(!0===g&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,o+=t-1;continue}this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;this.info.bytes=this.state.bufBytesStart+o+t;let r=this.__onRecord(i);if(void 0!==r)return r;if(-1!==v&&this.info.records>=v){this.state.stop=!0,n();return}}this.state.commenting=!1,o+=t-1;continue}if(this.state.commenting)continue;if(null!==w&&(!1===l||0===this.state.record.length&&0===this.state.field.length)&&0!==this.__compareBytes(w,s,o,e)){this.state.commenting=!0;continue}let r=this.__isDelimiter(s,o,e);if(0!==r){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;o+=r-1;continue}}}if(!1===this.state.commenting&&0!==h&&this.state.record_length+this.state.field.length>h)return this.__error(new r("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${h}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let t=!1===c||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(s,o),a=!1===m||!1===this.state.wasQuoting;if(!0===t&&!0===a)this.state.field.append(e);else{if(!0===m&&!this.__isCharTrimable(s,o))return this.__error(new r("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));!1===t&&(o+=this.__isCharTrimable(s,o)-1);continue}}if(!0===t)if(!0===this.state.quoting){let e=this.__error(new r("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==e)return e}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;let t=this.__onRecord(i);if(void 0!==t)return t}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.bufBytesStart+=o,this.state.previousBuf=s.slice(o);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(e){let{columns:t,group_columns_by_name:i,encoding:n,info:s,from:o,relax_column_count:a,relax_column_count_less:l,relax_column_count_more:u,raw:d,skip_records_with_empty_values:c}=this.options,{enabled:h,record:f}=this.state;if(!1===h)return this.__resetRecord();let p=f.length;if(!0===t)return!0===c&&w(f)?void this.__resetRecord():this.__firstLineToColumns(f);if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=p),p!==this.state.expectedRecordLength){let e=!1===t?new r("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f}):new r("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${t.length},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f});if(!0===a||!0===l&&p<this.state.expectedRecordLength||!0===u&&p>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{let t=this.__error(e);if(t)return t}}if(!0===c&&w(f))return void this.__resetRecord();if(!0===this.state.recordHasError){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,1===o||this.info.records>=o){let{objname:r}=this.options;if(!1!==t){let o={};for(let e=0,n=f.length;e<n;e++)void 0===t[e]||t[e].disabled||(!0===i&&void 0!==o[t[e].name]?Array.isArray(o[t[e].name])?o[t[e].name]=o[t[e].name].concat(f[e]):o[t[e].name]=[o[t[e].name],f[e]]:o[t[e].name]=f[e]);if(!0===d||!0===s){let t=Object.assign({record:o},!0===d?{raw:this.state.rawBuffer.toString(n)}:{},!0===s?{info:this.__infoRecord()}:{}),i=this.__push(void 0===r?t:[o[r],t],e);if(i)return i}else{let t=this.__push(void 0===r?o:[o[r],o],e);if(t)return t}}else if(!0===d||!0===s){let t=Object.assign({record:f},!0===d?{raw:this.state.rawBuffer.toString(n)}:{},!0===s?{info:this.__infoRecord()}:{}),i=this.__push(void 0===r?t:[f[r],t],e);if(i)return i}else{let t=this.__push(void 0===r?f:[f[r],f],e);if(t)return t}}this.__resetRecord()},__firstLineToColumns:function(e){let{firstLineToHeaders:t}=this.state;try{let i=void 0===t?e:t.call(null,e);if(!Array.isArray(i))return this.__error(new r("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(i)}`],this.options,this.__infoField(),{headers:i}));let n=o(i);this.state.expectedRecordLength=n.length,this.options.columns=n,this.__resetRecord();return}catch(e){return e}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:e,encoding:t,rtrim:i,max_record_size:n}=this.options,{enabled:r,wasQuoting:s}=this.state;if(!1===r)return this.__resetField();let o=this.state.field.toString(t);if(!0===i&&!1===s&&(o=o.trimRight()),!0===e){let[e,t]=this.__cast(o);if(void 0!==e)return e;o=t}this.state.record.push(o),0!==n&&"string"==typeof o&&(this.state.record_length+=o.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(e,t){let{on_record:i}=this.options;if(void 0!==i){let t=this.__infoRecord();try{e=i.call(null,e,t)}catch(e){return e}if(null==e)return}t(e)},__cast:function(e){let{columns:t,relax_column_count:i}=this.options;if(!0===Array.isArray(t)&&i&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{let t=this.__infoField();return[void 0,this.state.castField.call(null,e,t)]}catch(e){return[e]}if(this.__isFloat(e))return[void 0,parseFloat(e)];if(!1!==this.options.cast_date){let t=this.__infoField();return[void 0,this.options.cast_date.call(null,e,t)]}return[void 0,e]},__isCharTrimable:function(e,t){return((e,t)=>{let{timchars:i}=this.state;i:for(let n=0;n<i.length;n++){let r=i[n];for(let i=0;i<r.length;i++)if(r[i]!==e[t+i])continue i;return r.length}return 0})(e,t)},__isFloat:function(e){return e-parseFloat(e)+1>=0},__compareBytes:function(e,t,i,n){if(e[0]!==n)return 0;let r=e.length;for(let n=1;n<r;n++)if(e[n]!==t[i+n])return 0;return r},__isDelimiter:function(e,t,i){let{delimiter:n,ignore_last_delimiters:r}=this.options;if(!0===r&&this.state.record.length===this.options.columns.length-1||!1!==r&&"number"==typeof r&&this.state.record.length===r-1)return 0;i:for(let r=0;r<n.length;r++){let s=n[r];if(s[0]===i){for(let i=1;i<s.length;i++)if(s[i]!==e[t+i])continue i;return s.length}}return 0},__isRecordDelimiter:function(e,t,i){let{record_delimiter:n}=this.options,r=n.length;i:for(let s=0;s<r;s++){let r=n[s],o=r.length;if(r[0]===e){for(let e=1;e<o;e++)if(r[e]!==t[i+e])continue i;return r.length}}return 0},__isEscape:function(e,t,i){let{escape:n}=this.options;if(null===n)return!1;let r=n.length;if(n[0]===i){for(let i=0;i<r;i++)if(n[i]!==e[t+i])return!1;return!0}return!1},__isQuote:function(e,t){let{quote:i}=this.options;if(null===i)return!1;let n=i.length;for(let r=0;r<n;r++)if(i[r]!==e[t+r])return!1;return!0},__autoDiscoverRecordDelimiter:function(e,t){let{encoding:i}=this.options,n=[S.from("\r\n",i),S.from("\n",i),S.from("\r",i)];n:for(let i=0;i<n.length;i++){let r=n[i].length;for(let s=0;s<r;s++)if(n[i][s]!==e[t+s])continue n;return this.options.record_delimiter.push(n[i]),this.state.recordDelimiterMaxLength=n[i].length,n[i].length}return 0},__error:function(e){let{encoding:t,raw:i,skip_records_with_error:n}=this.options,r="string"==typeof e?Error(e):e;if(!n)return r;if(this.state.recordHasError=!0,void 0!==this.options.on_skip)try{this.options.on_skip(r,i?this.state.rawBuffer.toString(t):void 0)}catch(e){return e}},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:e,raw:t,encoding:i}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===e,index:this.state.record.length,raw:t?this.state.rawBuffer.toString(i):void 0}},__infoField:function(){let{columns:e}=this.options,t=Array.isArray(e);return{...this.__infoRecord(),column:!0===t?e.length>this.state.record.length?e[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};var E=i(15376).Buffer;let M=function(e,t={}){"string"==typeof e&&(e=E.from(e));let i=t&&t.objname?{}:[],n=A(t),r=e=>{void 0===n.options.objname?i.push(e):i[e[0]]=e[1]},s=()=>{},o=n.parse(e,!0,r,s);if(void 0!==o)throw o;return i}},56716:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u="\n",d="/",c="*",h="",f="comment",p="declaration";function m(e){return e?e.replace(l,h):h}e.exports=function(e,l){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];l=l||{};var g=1,v=1;function y(e){var t=e.match(i);t&&(g+=t.length);var n=e.lastIndexOf(u);v=~n?e.length-n:v+e.length}function b(){var e={line:g,column:v};return function(t){return t.position=new S(e),k(),t}}function S(e){this.start=e,this.end={line:g,column:v},this.source=l.source}S.prototype.content=e;var w=[];function C(t){var i=Error(l.source+":"+g+":"+v+": "+t);if(i.reason=t,i.filename=l.source,i.line=g,i.column=v,i.source=e,l.silent)w.push(i);else throw i}function x(t){var i=t.exec(e);if(i){var n=i[0];return y(n),e=e.slice(n.length),i}}function k(){x(n)}function A(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var t=b();if(d==e.charAt(0)&&c==e.charAt(1)){for(var i=2;h!=e.charAt(i)&&(c!=e.charAt(i)||d!=e.charAt(i+1));)++i;if(i+=2,h===e.charAt(i-1))return C("End of comment missing");var n=e.slice(2,i-2);return v+=2,y(n),e=e.slice(i),v+=2,t({type:f,comment:n})}}function M(){var e=b(),i=x(r);if(i){if(E(),!x(s))return C("property missing ':'");var n=x(o),l=e({type:p,property:m(i[0].replace(t,h)),value:n?m(n[0].replace(t,h)):h});return x(a),l}}function T(){var e,t=[];for(A(t);e=M();)!1!==e&&(t.push(e),A(t));return t}return k(),T()}},56844:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(27471);function r(e,t){if((s=e.length)>0&&(r=(i=e[t[0]]).length)>0){for(var i,r,s,o=0,a=1;a<r;++a){for(var l=0,u=0,d=0;l<s;++l){for(var c=e[t[l]],h=c[a][1]||0,f=(h-(c[a-1][1]||0))/2,p=0;p<l;++p){var m=e[t[p]];f+=(m[a][1]||0)-(m[a-1][1]||0)}u+=h,d+=f*h}i[a-1][1]+=i[a-1][0]=o,u&&(o-=d/u)}i[a-1][1]+=i[a-1][0]=o,(0,n.A)(e,t)}}},57120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),i=0;i<e.length;)t[i]=e[i],i+=1;return t}return Uint32Array.from(e)}},57153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n){this.sequenceNumber=e,this.message=t,this.timestampMs=i,this.logLevel=n}}t.default=i},57380:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},57770:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(1704);class s{constructor(e,t,i,n,r,s){this.audioVideoController=e,this.videoTileController=t,this.realtimeController=i,this.audioMixController=n,this.deviceController=r,this.contentShareController=s}addObserver(e){this.audioVideoController.addObserver(e),this.trace("addObserver")}removeObserver(e){this.audioVideoController.removeObserver(e),this.trace("removeObserver")}setAudioProfile(e){this.trace("setAudioProfile",e),this.audioVideoController.setAudioProfile(e)}start(e){this.audioVideoController.start(e),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(e){return this.trace("getRTCPeerConnectionStats",e?e.id:null),this.audioVideoController.getRTCPeerConnectionStats(e)}bindAudioElement(e){let t=this.audioMixController.bindAudioElement(e);return this.trace("bindAudioElement",e.id,t),t}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(e){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(e)}removeAudioMixObserver(e){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(e)}bindVideoElement(e,t){this.videoTileController.bindVideoElement(e,t),this.trace("bindVideoElement",{tileId:e,videoElementId:t.id})}unbindVideoElement(e,t=!0){this.videoTileController.unbindVideoElement(e,t),this.trace("unbindVideoElement",{tileId:e,cleanUpVideoElement:t})}startLocalVideoTile(){let e=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,e),e}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){let e=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,e),e}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){let e=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),e}pauseVideoTile(e){this.videoTileController.pauseVideoTile(e),this.trace("pauseVideoTile",e)}unpauseVideoTile(e){this.videoTileController.unpauseVideoTile(e),this.trace("unpauseVideoTile",e)}getVideoTile(e){let t=this.videoTileController.getVideoTile(e);return this.trace("getVideoTile",e),t}getAllRemoteVideoTiles(){let e=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),e}getAllVideoTiles(){let e=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),e}addVideoTile(){let e=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,e.state()),e}removeVideoTile(e){this.videoTileController.removeVideoTile(e),this.trace("removeVideoTile",e)}removeVideoTilesByAttendeeId(e){let t=this.videoTileController.removeVideoTilesByAttendeeId(e);return this.trace("removeVideoTilesByAttendeeId",e,t),t}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(e){let t=this.videoTileController.captureVideoTile(e);return this.trace("captureVideoTile",e),t}realtimeSubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(e),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(e){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSetCanUnmuteLocalAudio(e),this.trace("realtimeSetCanUnmuteLocalAudio",e)}realtimeSubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){let e=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,e),e}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){let e=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),e}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){let e=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),e}realtimeSubscribeToVolumeIndicator(e,t){this.realtimeController.realtimeSubscribeToVolumeIndicator(e,t),this.trace("realtimeSubscribeToVolumeIndicator",e)}realtimeUnsubscribeFromVolumeIndicator(e,t){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(e,t),this.trace("realtimeUnsubscribeFromVolumeIndicator",e,t)}realtimeSubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(e){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(e),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(e,t,i){this.realtimeController.realtimeSendDataMessage(e,t,i),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(e,t){this.realtimeController.realtimeSubscribeToReceiveDataMessage(e,t),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(e){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(e),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(e){this.realtimeController.realtimeSubscribeToFatalError(e),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(e){this.realtimeController.realtimeUnsubscribeToFatalError(e),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(e,t,i,n){this.audioVideoController.activeSpeakerDetector.subscribe(e,t,i,n),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(e){this.audioVideoController.activeSpeakerDetector.unsubscribe(e),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.deviceController.listAudioInputDevices(e);return this.trace("listAudioInputDevices",e,t),t})}listVideoInputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.deviceController.listVideoInputDevices(e);return this.trace("listVideoInputDevices",e,t),t})}listAudioOutputDevices(e=!1){return n(this,void 0,void 0,function*(){let t=yield this.deviceController.listAudioOutputDevices(e);return this.trace("listAudioOutputDevices",e,t),t})}startAudioInput(e){return n(this,void 0,void 0,function*(){return this.trace("startAudioInput",e),this.deviceController.startAudioInput(e)})}stopAudioInput(){return n(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(e){return n(this,void 0,void 0,function*(){return r.isVideoTransformDevice(e)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",e),this.deviceController.startVideoInput(e)})}stopVideoInput(){return n(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(e){let t=this.deviceController.chooseAudioOutput(e);return this.trace("chooseAudioOutput",e),t}addDeviceChangeObserver(e){this.deviceController.addDeviceChangeObserver(e),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(e){this.deviceController.removeDeviceChangeObserver(e),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){let e=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),e}startVideoPreviewForVideoInput(e){this.deviceController.startVideoPreviewForVideoInput(e),this.trace("startVideoPreviewForVideoInput",e.id)}stopVideoPreviewForVideoInput(e){this.deviceController.stopVideoPreviewForVideoInput(e),this.trace("stopVideoPreviewForVideoInput",e.id)}setDeviceLabelTrigger(e){this.deviceController.setDeviceLabelTrigger(e),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(e){let t=this.deviceController.mixIntoAudioInput(e);return this.trace("mixIntoAudioInput",e.id),t}chooseVideoInputQuality(e,t,i){this.deviceController.chooseVideoInputQuality(e,t,i),this.trace("chooseVideoInputQuality",{width:e,height:t,frameRate:i})}setVideoMaxBandwidthKbps(e){this.audioVideoController.setVideoMaxBandwidthKbps(e),this.trace("setVideoMaxBandwidthKbps",e)}setVideoCodecSendPreferences(e){this.audioVideoController.setVideoCodecSendPreferences(e),this.trace("setVideoCodecSendPreferences",e)}getVideoInputQualitySettings(){let e=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),e}setContentAudioProfile(e){this.trace("setContentAudioProfile",e),this.contentShareController.setContentAudioProfile(e)}enableSimulcastForContentShare(e,t){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(e,t)}enableSVCForContentShare(e){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(e)}startContentShare(e){let t=this.contentShareController.startContentShare(e);return this.trace("startContentShare"),t}startContentShareFromScreenCapture(e,t){let i=this.contentShareController.startContentShareFromScreenCapture(e,t);return this.trace("startContentShareFromScreenCapture"),i}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(e){this.contentShareController.addContentShareObserver(e),this.trace("addContentShareObserver")}removeContentShareObserver(e){this.contentShareController.removeContentShareObserver(e),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(e){this.contentShareController.setContentShareVideoCodecPreferences(e),this.trace("setContentShareVideoCodecPreferences")}trace(e,t,i){let n=this.audioVideoController.configuration.meetingId,r=this.audioVideoController.configuration.credentials.attendeeId,s=`API/DefaultAudioVideoFacade/${n}/${r}/${e}`;void 0!==t&&(s+=` ${JSON.stringify(t)}`),void 0!==i&&(s+=` -> ${JSON.stringify(i)}`),this.audioVideoController.logger.info(s)}getRemoteVideoSources(){let e=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,e),e}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(e){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);let t=this.audioVideoController.promoteToPrimaryMeeting(e);return this.trace("promoteToPrimaryMeeting",null,t),t}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(e){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}t.default=s},57884:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(76234));class o extends s.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanRestartedSessionTask"}run(){return n(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}}t.default=o},57971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},58764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;class i{constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.prioritizedSendVideoCodecCapabilities=[],this.degradedVideoSendCodecs=[],this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null,this.isSessionConnected=!1}resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,void 0!==this.transceiverController&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=t.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null,this.isSessionConnected=!1}}t.default=i},58817:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioLogEvent=void 0,function(e){e[e.DeviceChanged=0]="DeviceChanged",e[e.MutedLocal=1]="MutedLocal",e[e.UnmutedLocal=2]="UnmutedLocal",e[e.Connected=3]="Connected",e[e.ConnectFailed=4]="ConnectFailed",e[e.RedmicStartLoss=5]="RedmicStartLoss",e[e.RedmicEndLoss=6]="RedmicEndLoss"}(i=t.AudioLogEvent||(t.AudioLogEvent={})),t.default=i},58989:(e,t,i)=>{"use strict";i.d(t,{Ag:()=>s,pz:()=>o});var n=i(70790),r=i(74095);let s=(0,n.f)(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*r.Tt-e.getMinutes()*r.rR)},(e,t)=>{e.setTime(+e+t*r.JJ)},(e,t)=>(t-e)/r.JJ,e=>e.getHours());s.range;let o=(0,n.f)(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*r.JJ)},(e,t)=>(t-e)/r.JJ,e=>e.getUTCHours());o.range},59111:(e,t,i)=>{"use strict";i.d(t,{A:()=>y,B:()=>v});var n=i(24134),r=i(98322),s=i(13063),o=i(27231),a=i(60671),l=i(58989),u=i(34819),d=i(80927),c=i(1855),h=i(91358),f=i(6256),p=i(24647);function m(e){return new Date(e)}function g(e){return e instanceof Date?+e:+new Date(+e)}function v(e,t,i,n,r,s,o,a,l,u){var d=(0,h.Ay)(),c=d.invert,f=d.domain,y=u(".%L"),b=u(":%S"),S=u("%I:%M"),w=u("%I %p"),C=u("%a %d"),x=u("%b %d"),k=u("%B"),A=u("%Y");function E(e){return(l(e)<e?y:a(e)<e?b:o(e)<e?S:s(e)<e?w:n(e)<e?r(e)<e?C:x:i(e)<e?k:A)(e)}return d.invert=function(e){return new Date(c(e))},d.domain=function(e){return arguments.length?f(Array.from(e,g)):f().map(m)},d.ticks=function(t){var i=f();return e(i[0],i[i.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?E:u(t)},d.nice=function(e){var i=f();return e&&"function"==typeof e.range||(e=t(i[0],i[i.length-1],null==e?10:e)),e?f((0,p.A)(i,e)):d},d.copy=function(){return(0,h.C)(d,v(e,t,i,n,r,s,o,a,l,u))},d}function y(){return f.C.apply(v(n.Cf,n.yE,r.he,s.Ui,o.YP,a.UA,l.Ag,u.wX,d.R,c.DC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},59705:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994));class o{constructor(e,t,i,n,r=!1,o,a=new s.default,l=new Map,u,d){this.device=e,this.voiceFocus=t,this.delegate=i,this.nodeOptions=n,this.failed=r,this.node=o,this.browserBehavior=a,this.farEndStreamToAudioSourceNode=l,this.mixDestNode=u,this.mixSourceNode=d}getInnerDevice(){return this.device}mute(e){return n(this,void 0,void 0,function*(){this.node&&(e?yield this.node.disable():yield this.node.enable())})}stop(){return n(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(e){return n(this,void 0,void 0,function*(){return this.device!==e||a(e)?new o(e,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode):this})}intrinsicDevice(){return n(this,void 0,void 0,function*(){let e;if(this.failed)return this.device;let t=this.nodeOptions.es,i={echoCancellation:!t,googEchoCancellation:!t,googEchoCancellation2:!t,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};return(i.autoGainControl=e=!this.nodeOptions||void 0===this.nodeOptions.agc||this.nodeOptions.agc.useBuiltInAGC,i.googAutoGainControl=e,i.googAutoGainControl2=e,this.device)?"string"==typeof this.device?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?i.deviceId=this.device:i.deviceId={exact:this.device},i):this.device.id?this.device:Object.assign(Object.assign({},this.device),i):i})}createAudioNode(e){var t,i;return n(this,void 0,void 0,function*(){if((null==(t=this.node)?void 0:t.context)===e)return{start:this.node,end:this.node};let n=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if(null==(i=this.node)||i.disconnect(),this.node=yield this.voiceFocus.createNode(e,n),this.nodeOptions.es){for(let t of(this.mixDestNode=new MediaStreamAudioDestinationNode(e,{channelCount:1,channelCountMode:"explicit"}),this.farEndStreamToAudioSourceNode.keys()))this.assignFarEndStreamToAudioSourceNode(t);this.createMixSourceNode()}let t=this.node,r=this.node;return{start:t,end:r}}catch(e){throw this.failed=!0,this.delegate.onFallback(this,e),e}})}observeMeetingAudio(e){return n(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;e.addAudioMixObserver(this);let t=yield e.getCurrentMeetingAudioStream();t&&this.addFarEndStream(t)})}unObserveMeetingAudio(e){return n(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;e.removeAudioMixObserver(this);let t=yield e.getCurrentMeetingAudioStream();t&&this.removeFarendStream(t)})}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}addFarEndStream(e){return n(this,void 0,void 0,function*(){!this.nodeOptions.es||!e||this.farEndStreamToAudioSourceNode.has(e)||(this.node?this.assignFarEndStreamToAudioSourceNode(e):this.farEndStreamToAudioSourceNode.set(e,null))})}removeFarendStream(e){var t;return n(this,void 0,void 0,function*(){null==(t=this.farEndStreamToAudioSourceNode.get(e))||t.disconnect(),this.farEndStreamToAudioSourceNode.delete(e)})}meetingAudioStreamBecameActive(e){return n(this,void 0,void 0,function*(){this.addFarEndStream(e)})}meetingAudioStreamBecameInactive(e){return n(this,void 0,void 0,function*(){this.removeFarendStream(e)})}assignFarEndStreamToAudioSourceNode(e){let t=this.node.context.createMediaStreamSource(e);t.channelCount=1,t.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(e,t),t.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}function a(e){return"default"===e||!!e&&"object"==typeof e&&("deviceId"in e&&"default"===e.deviceId||"id"in e&&"default"===e.id)}t.default=o},59985:(e,t,i)=>{"use strict";i.d(t,{A:()=>u,s:()=>l});var n=i(45351),r=i(91358),s=i(6256);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function a(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l(e){var t=1,i=e(o(1),a(t));return i.constant=function(i){return arguments.length?e(o(t=+i),a(t)):t},(0,n.C)(i)}function u(){var e=l((0,r.Gu)());return e.copy=function(){return(0,r.C)(e,u()).constant(e.constant())},s.C.apply(e,arguments)}},60087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(e){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}t.default=i},60554:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(75585));class s{constructor(e,t=r.default.WARN){this.name=e,this.level=t}info(e){this.log(r.default.INFO,e)}warn(e){this.log(r.default.WARN,e)}error(e){this.log(r.default.ERROR,e)}debug(e){r.default.DEBUG<this.level||("string"==typeof e?this.log(r.default.DEBUG,e):e?this.log(r.default.DEBUG,e()):this.log(r.default.DEBUG,""+e))}setLogLevel(e){this.level=e}getLogLevel(){return this.level}log(e,t){if(e<this.level)return;let i=new Date().toISOString(),n=`${i} [${r.default[e]}] ${this.name} - ${t}`;switch(e){case r.default.ERROR:console.error(n);break;case r.default.WARN:console.warn(n);break;case r.default.DEBUG:console.debug(n.replace(/\\r\\n/g,"\n"));break;case r.default.INFO:console.info(n)}}}t.default=s},60671:(e,t,i)=>{"use strict";i.d(t,{TW:()=>a,UA:()=>s,dA:()=>o});var n=i(70790),r=i(74095);let s=(0,n.f)(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r.rR)/r.Nm,e=>e.getDate()-1);s.range;let o=(0,n.f)(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/r.Nm,e=>e.getUTCDate()-1);o.range;let a=(0,n.f)(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/r.Nm,e=>Math.floor(e/r.Nm));a.range},60890:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],s=(0,n.A)("video",r)},61042:(e,t,i)=>{"use strict";i.d(t,{Vg:()=>k,xe:()=>N});var n=i(14766),r=i.n(n),s=function(e,t){var i,n=r()({},e,t);for(var s in e)e[s]&&"object"==typeof t[s]&&r()(n,((i={})[s]=r()(e[s],t[s]),i));return n},o=function(e){var t={};return Object.keys(e).sort(function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})}).forEach(function(i){t[i]=e[i]}),t},a={breakpoints:[40,52,64].map(function(e){return e+"em"})},l=function(e){return"@media screen and (min-width: "+e+")"},u=function(e,t){return d(t,e,e)},d=function(e,t,i,n,r){for(n=0,t=t&&t.split?t.split("."):[t];n<t.length;n++)e=e?e[t[n]]:r;return e===r?i:e},c=function e(t){var i={},n=function(e){var n={},u=!1,c=e.theme&&e.theme.disableStyledSystemCache;for(var p in e)if(t[p]){var m=t[p],g=e[p],v=d(e.theme,m.scale,m.defaults);if("object"==typeof g){if(i.breakpoints=!c&&i.breakpoints||d(e.theme,"breakpoints",a.breakpoints),Array.isArray(g)){i.media=!c&&i.media||[null].concat(i.breakpoints.map(l)),n=s(n,h(i.media,m,v,g,e));continue}null!==g&&(n=s(n,f(i.breakpoints,m,v,g,e)),u=!0);continue}r()(n,m(g,v,e))}return u&&(n=o(n)),n};n.config=t,n.propNames=Object.keys(t),n.cache=i;var u=Object.keys(t).filter(function(e){return"config"!==e});return u.length>1&&u.forEach(function(i){var r;n[i]=e(((r={})[i]=t[i],r))}),n},h=function(e,t,i,n,s){var o={};return n.slice(0,e.length).forEach(function(n,a){var l,u=e[a],d=t(n,i,s);u?r()(o,((l={})[u]=r()({},o[u],d),l)):r()(o,d)}),o},f=function(e,t,i,n,s){var o={};for(var a in n){var u=e[a],d=t(n[a],i,s);if(u){var c,h=l(u);r()(o,((c={})[h]=r()({},o[h],d),c))}else r()(o,d)}return o},p=function(e){var t=e.properties,i=e.property,n=e.scale,r=e.transform,s=void 0===r?u:r,o=e.defaultScale;t=t||[i];var a=function(e,i,n){var r={},o=s(e,i,n);if(null!==o)return t.forEach(function(e){r[e]=o}),r};return a.scale=n,a.defaults=o,a},m=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach(function(i){var n=e[i];if(!0===n){t[i]=p({property:i,scale:i});return}if("function"==typeof n){t[i]=n;return}t[i]=p(n)}),c(t)},g=function(){for(var e={},t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){t&&t.config&&r()(e,t.config)}),c(e)},v=function(e){return"number"==typeof e&&!isNaN(e)};let y=m({width:{property:"width",scale:"sizes",transform:function(e,t){return d(t,e,!v(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0});var b={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};b.bg=b.backgroundColor;let S=m(b),w=m({fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0}),C=m({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0});var x={space:[0,4,8,16,32,64,128,256,512]},k=m({gridGap:{property:"gridGap",scale:"space",defaultScale:x.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:x.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:x.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0});let A=k;var E={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"}};E.borderTopWidth={property:"borderTopWidth",scale:"borderWidths"},E.borderTopColor={property:"borderTopColor",scale:"colors"},E.borderTopStyle={property:"borderTopStyle",scale:"borderStyles"},E.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},E.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},E.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},E.borderBottomColor={property:"borderBottomColor",scale:"colors"},E.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},E.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},E.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},E.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},E.borderLeftColor={property:"borderLeftColor",scale:"colors"},E.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},E.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},E.borderRightColor={property:"borderRightColor",scale:"colors"},E.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};let M=m(E);var T={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};T.bgImage=T.backgroundImage,T.bgSize=T.backgroundSize,T.bgPosition=T.backgroundPosition,T.bgRepeat=T.backgroundRepeat;let _=m(T);var P={space:[0,4,8,16,32,64,128,256,512]};let I=m({position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:P.space},right:{property:"right",scale:"space",defaultScale:P.space},bottom:{property:"bottom",scale:"space",defaultScale:P.space},left:{property:"left",scale:"space",defaultScale:P.space}});var R={space:[0,4,8,16,32,64,128,256,512]},O=function(e){return"number"==typeof e&&!isNaN(e)},D=function(e,t){if(!O(e))return d(t,e,e);var i=e<0,n=Math.abs(e),r=d(t,n,n);return O(r)?r*(i?-1:1):i?"-"+r:r},L={};L.margin={margin:{property:"margin",scale:"space",transform:D,defaultScale:R.space},marginTop:{property:"marginTop",scale:"space",transform:D,defaultScale:R.space},marginRight:{property:"marginRight",scale:"space",transform:D,defaultScale:R.space},marginBottom:{property:"marginBottom",scale:"space",transform:D,defaultScale:R.space},marginLeft:{property:"marginLeft",scale:"space",transform:D,defaultScale:R.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:D,defaultScale:R.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:D,defaultScale:R.space}},L.margin.m=L.margin.margin,L.margin.mt=L.margin.marginTop,L.margin.mr=L.margin.marginRight,L.margin.mb=L.margin.marginBottom,L.margin.ml=L.margin.marginLeft,L.margin.mx=L.margin.marginX,L.margin.my=L.margin.marginY,L.padding={padding:{property:"padding",scale:"space",defaultScale:R.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:R.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:R.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:R.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:R.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:R.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:R.space}},L.padding.p=L.padding.padding,L.padding.pt=L.padding.paddingTop,L.padding.pr=L.padding.paddingRight,L.padding.pb=L.padding.paddingBottom,L.padding.pl=L.padding.paddingLeft,L.padding.px=L.padding.paddingX,L.padding.py=L.padding.paddingY;var N=g(m(L.margin),m(L.padding));function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}m({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});var B=function(e,t,i,n,r){for(n=0,t=t&&t.split?t.split("."):[t];n<t.length;n++)e=e?e[t[n]]:r;return e===r?i:e},V=[40,52,64].map(function(e){return e+"em"}),U={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},z={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},j={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},H={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},$=function(e,t){if("number"!=typeof t||t>=0)return B(e,t,t);var i=Math.abs(t),n=B(e,i,i);return"string"==typeof n?"-"+n:-1*n},W=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce(function(e,t){var i;return F({},e,((i={})[t]=$,i))},{}),q=function(e){return function(t){var i={},n=[null].concat(B(t,"breakpoints",V).map(function(e){return"@media screen and (min-width: "+e+")"}));for(var r in e){var s="function"==typeof e[r]?e[r](t):e[r];if(null!=s){if(!Array.isArray(s)){i[r]=s;continue}for(var o=0;o<s.slice(0,n.length).length;o++){var a=n[o];if(!a){i[r]=s[o];continue}i[a]=i[a]||{},null!=s[o]&&(i[a][r]=s[o])}}}return i}};let G=function e(t){return function(i){void 0===i&&(i={});var n=F({},U,{},i.theme||i),r={},s=q("function"==typeof t?t(n):t)(n);for(var o in s){var a=s[o],l="function"==typeof a?a(n):a;if("variant"===o){var u=e(B(n,l))(n);r=F({},r,{},u);continue}if(l&&"object"==typeof l){r[o]=e(l)(n);continue}var d=B(z,o,o),c=B(H,d),h=B(n,c,B(n,d,{})),f=B(W,d,B)(h,l,l);if(j[d])for(var p=j[d],m=0;m<p.length;m++)r[p[m]]=f;else r[d]=f}return r}};var K=function(e){var t,i,n=e.scale,r=e.prop,s=void 0===r?"variant":r,o=e.variants,a=void 0===o?{}:o,l=e.key;return(i=Object.keys(a).length?function(e,t,i){return G(d(t,e,null))(i.theme)}:function(e,t){return d(t,e,null)}).scale=n||l,i.defaults=a,c(((t={})[s]=i,t))};K({key:"buttons"}),K({key:"textStyles",prop:"textStyle"}),K({key:"colorStyles",prop:"colors"}),y.width,y.height,y.minWidth,y.minHeight,y.maxWidth,y.maxHeight,y.size,y.verticalAlign,y.display,y.overflow,y.overflowX,y.overflowY,S.opacity,w.fontSize,w.fontFamily,w.fontWeight,w.lineHeight,w.textAlign,w.fontStyle,w.letterSpacing,C.alignItems,C.alignContent,C.justifyItems,C.justifyContent,C.flexWrap,C.flexDirection,C.flex,C.flexGrow,C.flexShrink,C.flexBasis,C.justifySelf,C.alignSelf,C.order,A.gridGap,A.gridColumnGap,A.gridRowGap,A.gridColumn,A.gridRow,A.gridAutoFlow,A.gridAutoColumns,A.gridAutoRows,A.gridTemplateColumns,A.gridTemplateRows,A.gridTemplateAreas,A.gridArea,M.borderWidth,M.borderStyle,M.borderColor,M.borderTop,M.borderRight,M.borderBottom,M.borderLeft,M.borderRadius,_.backgroundImage,_.backgroundSize,_.backgroundPosition,_.backgroundRepeat,I.zIndex,I.top,I.right,I.bottom,I.left},61141:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(92473),r=i(6256);function s(){var e,t=[.5],i=[0,1],o=1;function a(r){return null!=r&&r<=r?i[(0,n.Ay)(t,r,0,o)]:e}return a.domain=function(e){return arguments.length?(o=Math.min((t=Array.from(e)).length,i.length-1),a):t.slice()},a.range=function(e){return arguments.length?(i=Array.from(e),o=Math.min(t.length,i.length-1),a):i.slice()},a.invertExtent=function(e){var n=i.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return s().domain(t).range(i).unknown(e)},r.C.apply(a,arguments)}},61785:(e,t,i)=>{"use strict";let n=i(77963),r=i(18413),s=i(21082),o=i(13452),a=i(83914),l=Object.prototype.toString,{Z_NO_FLUSH:u,Z_SYNC_FLUSH:d,Z_FULL_FLUSH:c,Z_FINISH:h,Z_OK:f,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:m,Z_DEFAULT_STRATEGY:g,Z_DEFLATED:v}=i(97453);function y(e){this.options=r.assign({level:m,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:g},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==f)throw Error(o[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=n.deflateSetDictionary(this.strm,e))!==f)throw Error(o[i]);this._dict_set=!0}}function b(e,t){let i=new y(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}function S(e,t){return(t=t||{}).raw=!0,b(e,t)}function w(e,t){return(t=t||{}).gzip=!0,b(e,t)}y.prototype.push=function(e,t){let i,r,o=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?h:u,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){if(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(r===d||r===c)&&o.avail_out<=6){this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;continue}if((i=n.deflate(o,r))===p)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===f;if(0===o.avail_out){this.onData(o.output);continue}if(r>0&&o.next_out>0){this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;continue}if(0===o.avail_in)break}return!0},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===f&&(this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=y,e.exports.deflate=b,e.exports.deflateRaw=S,e.exports.gzip=w,e.exports.constants=i(97453)},61994:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(40800),s=i(15514);class o{constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=r.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new s.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}version(){return this.browser.version}majorVersion(){return null!==this.version()?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(let e of this.chromeLike)if(e===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(let e of this.webkitBrowsers)if(e===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return -1!==navigator.userAgent.indexOf("Windows")}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=o.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=o.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return("safari"!==this.name()||15!==this.majorVersion())&&!!this.supportsCanvasCapturedStreamPlayback()}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&"Blink"===this.engine()&&this.engineMajorVersion()>=111}supportsAudioRedundancy(){return this.hasChromiumWebRTC()?this.engineMajorVersion()>=107:!this.hasFirefoxWebRTC()}requiresResolutionAlignment(e,t){return this.isAndroid()&&this.isPixel3()?[64*Math.ceil(e/64),64*Math.ceil(t/64)]:[e,t]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return"chromium-webview"===this.browser.name}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||"firefox"===this.browser.name&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return`${this.browserName.chrome} ${this.browserSupport.chrome}+, ${this.browserName.samsung} ${this.browserSupport.samsung}+`;let e=[];for(let t in this.browserSupport)e.push(`${this.browserName[t]} ${this.browserSupport[t]}+`);return e.join(", ")}supportedVideoCodecs(){return n(this,void 0,void 0,function*(){let e=new RTCPeerConnection;return e.addTransceiver("video",{direction:"inactive",streams:[]}),(yield e.createOffer({offerToReceiveVideo:!0})).sdp.split("\r\n").filter(e=>e.includes("a=rtpmap:")).map(e=>e.replace(/.* /,"").replace(/\/.*/,"")).filter((e,t,i)=>i.indexOf(e)===t).filter(e=>"rtx"!==e&&"red"!==e&&"ulpfec"!==e)})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return this.isIOS()&&("15.1.0"===this.version()||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}requiresAudioContextResetOnDeviceFailureForWebAudio(){return this.isIOS()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return"ios"===this.browser.name||"ios-webview"===this.browser.name||"safari"===this.browser.name&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return"safari"===this.browser.name||this.isIOSSafari()}isFirefox(){return"firefox"===this.browser.name}isIOSFirefox(){return"fxios"===this.browser.name}isIOSChrome(){return"crios"===this.browser.name}isChrome(){return"chrome"===this.browser.name}isEdge(){return"edge-chromium"===this.browser.name}isIOSEdge(){return"edge-ios"===this.browser.name}isSamsungInternet(){return"samsung"===this.browser.name}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}isIOS(){return this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox()}}t.default=o,o.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16,o.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106},62215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},62274:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(80826));class s{constructor(e,t){this.encodingParams=t,this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}updateConnectionMetric(e){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var e,t,i,n,s,o,a,l,u,d,c,h;let f=new Map,p=1e3,m=r.default.NAME_ARR_ASCENDING;return f.set(m[0],{rid:m[0],active:!0,scaleResolutionDownBy:(null==(t=null==(e=this.encodingParams)?void 0:e.low)?void 0:t.scaleResolutionDownBy)||2,maxBitrate:((null==(n=null==(i=this.encodingParams)?void 0:i.low)?void 0:n.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*p,maxFramerate:(null==(o=null==(s=this.encodingParams)?void 0:s.low)?void 0:o.maxFramerate)||5}),f.set(m[1],{rid:m[1],active:!0,scaleResolutionDownBy:(null==(l=null==(a=this.encodingParams)?void 0:a.high)?void 0:l.scaleResolutionDownBy)||1,maxBitrate:((null==(d=null==(u=this.encodingParams)?void 0:u.high)?void 0:d.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*p,maxFramerate:null==(h=null==(c=this.encodingParams)?void 0:c.high)?void 0:h.maxFramerate}),f}updateIndex(e){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}setHighResolutionFeatureEnabled(e){this.enableUhdContent=e,this.defaultHiTargetBitrateKbps=e?2e3:1200,this.defaultLowTargetBitrateKbps=e?500:300}addObserver(e){}removeObserver(e){}forEachObserver(e){}}t.default=s},62983:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(85321));class s{constructor(e,t,i=new r.default){this.eventsClientConfiguration=e,this.ingestionURL=t,this.eventBufferConfiguration=i}}t.default=s},63061:(e,t,i)=>{"use strict";t.Service=i(44881)},63067:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>a,lq:()=>l,sG:()=>u});let n=Math.sqrt(50),r=Math.sqrt(10),s=Math.sqrt(2);function o(e,t,i){let a,l,u,d=(t-e)/Math.max(0,i),c=Math.floor(Math.log10(d)),h=d/Math.pow(10,c),f=h>=n?10:h>=r?5:h>=s?2:1;return(c<0?(a=Math.round(e*(u=Math.pow(10,-c)/f)),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(a=Math.round(e/(u=Math.pow(10,c)*f)),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=i&&i<2)?o(e,t,2*i):[a,l,u]}function a(e,t,i){if(t*=1,e*=1,!((i*=1)>0))return[];if(e===t)return[e];let n=t<e,[r,s,a]=n?o(t,e,i):o(e,t,i);if(!(s>=r))return[];let l=s-r+1,u=Array(l);if(n)if(a<0)for(let e=0;e<l;++e)u[e]=-((s-e)/a);else for(let e=0;e<l;++e)u[e]=(s-e)*a;else if(a<0)for(let e=0;e<l;++e)u[e]=-((r+e)/a);else for(let e=0;e<l;++e)u[e]=(r+e)*a;return u}function l(e,t,i){return o(e*=1,t*=1,i*=1)[2]}function u(e,t,i){t*=1,e*=1,i*=1;let n=t<e,r=n?l(t,e,i):l(e,t,i);return(n?-1:1)*(r<0?-(1/r):r)}},63090:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(22877);function r(e){return(e=(0,n.f)(Math.abs(e)))?e[1]:NaN}},63177:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(76234));class o extends s.default{constructor(e,t,i){for(let n of(super(e),this.taskName=t,this.tasksToRunParallel=i,i))n.setParent(this)}cancel(){for(let e of this.tasksToRunParallel)this.logger.info(`canceling parallel group task ${this.name()} subtask ${e.name()}`),e.cancel()}run(){return n(this,void 0,void 0,function*(){let e=[];for(let t of this.tasksToRunParallel)this.logger.info(`parallel group task ${this.name()} running subtask ${t.name()}`),e.push(t.run());let t=[];for(let i=0;i<e.length;i++){try{yield e[i]}catch(e){t.push(`task ${this.tasksToRunParallel[i].name()} failed: ${e.message}`)}this.logger.info(`parallel group task ${this.name()} completed subtask ${this.tasksToRunParallel[i].name()}`)}if(t.length>0){let e=t.join(", ");this.logAndThrow(`parallel group task ${this.name()} failed for tasks: ${e}`)}this.logger.info(`parallel group task ${this.name()} completed`)})}}t.default=o},63484:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900)),s=n(i(53510));class o extends r.default{constructor(e,t){super(e,t,s.default.VideoEncodingFramerateHealth),this.consecutiveEncodeFailureCnt=0,this.consecutiveVideoEncodingFailureThreshold=e.consecutiveVideoEncodingFailureThreshold}health(){if(0===this.currentData.videoEncodeFps&&this.currentData.videoInputFps>0){if(this.consecutiveEncodeFailureCnt++,this.consecutiveEncodeFailureCnt>this.consecutiveVideoEncodingFailureThreshold)return this.consecutiveEncodeFailureCnt=0,this.minimumHealth()}else this.consecutiveEncodeFailureCnt=0;return this.maximumHealth()}}t.default=o},63975:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.inner=e}mute(e){return i(this,void 0,void 0,function*(){})}stop(){var e;return i(this,void 0,void 0,function*(){null==(e=this.node)||e.disconnect()})}intrinsicDevice(){return i(this,void 0,void 0,function*(){return this.inner})}createAudioNode(e){var t;return i(this,void 0,void 0,function*(){return null==(t=this.node)||t.disconnect(),this.node=yield this.createSingleAudioNode(e),{start:this.node,end:this.node}})}}t.default=n},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return a}});let i=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw i}getStore(){}run(){throw i}exit(){throw i}enterWith(){throw i}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return r?new r:new n}function o(e){return r?r.bind(e):n.bind(e)}function a(){return r?r.snapshot():function(e,...t){return e(...t)}}},64135:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connect="connect"}(i||(i={})),t.default=i},64152:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(61994)),s=n(i(52654)),o=i(96119),a=i(25927),l=n(i(99789)),u=n(i(91719)),d=n(i(55194)),c=i(19408),h=n(i(13897)),f=n(i(23521));class p{constructor(e,t){this.webSocket=e,this.logger=t,this.unloadHandler=null,this.closeEventHandler=e=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new h.default(this,f.default.WebSocketClosed,null,e.code,e.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}registerObserver(e){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(e)}openConnection(e){this.logger.info("adding connection request to queue: "+e.url()),this.connectionRequestQueue.push(e),this.closeConnection()}pingPong(e){this.logger.debug(()=>"sending ping");let t=o.SdkSignalFrame.create();return t.type=o.SdkSignalFrame.Type.PING_PONG,t.pingPong=e,this.sendMessage(t),t.timestampMs}join(e){this.logger.info("sending join");let t=o.SdkJoinFrame.create();t.protocolVersion=2,t.flags=o.SdkJoinFlags.HAS_STREAM_UPDATE;let i=new r.default,n={platformName:i.name(),platformVersion:i.version(),clientSource:l.default.sdkName,chimeSdkVersion:l.default.sdkVersion,clientUtcOffset:a.getFormattedOffset(new Date().getTimezoneOffset())};if(e.applicationMetadata){let{appName:t,appVersion:i}=e.applicationMetadata;n.appName=t,n.appVersion=i}t.clientDetails=o.SdkClientDetails.create(n),t.audioSessionId=this.audioSessionId,t.wantsCompressedSdp=p.CLIENT_SUPPORTS_COMPRESSION,t.disablePeriodicKeyframeRequestOnContentSender=e.disablePeriodicKeyframeRequestOnContentSender,t.serverSideNetworkAdaption=c.convertServerSideNetworkAdaptionEnumToSignaled(e.serverSideNetworkAdaption),t.supportedServerSideNetworkAdaptions=e.supportedServerSideNetworkAdaptions.map(c.convertServerSideNetworkAdaptionEnumToSignaled),t.wantsAllTemporalLayersInIndex=e.wantsAllTemporalLayersInIndex;let s=o.SdkSignalFrame.create();s.type=o.SdkSignalFrame.Type.JOIN,s.join=t,this.sendMessage(s)}subscribe(e){let t=o.SdkSubscribeFrame.create();if(t.sendStreams=[],t.sdpOffer=e.sdpOffer,e.connectionTypeHasVideo&&(t.receiveStreamIds=e.receiveStreamIds),e.audioHost&&(t.audioCheckin=e.audioCheckin,t.audioHost=e.audioHost,t.audioMuted=e.audioMuted,!e.audioCheckin)){let i=o.SdkStreamDescriptor.create();i.mediaType=o.SdkStreamMediaType.AUDIO,i.trackLabel="AmazonChimeExpressAudio",i.attendeeId=e.attendeeId,i.streamId=1,i.groupId=1,i.framerate=15,i.maxBitrateKbps=600,i.avgBitrateBps=4e5,t.sendStreams.push(i)}if(t.compressedSdpOffer=e.compressedSdpOffer,t.duplex=o.SdkStreamServiceType.RX,e.localVideoEnabled){t.duplex=o.SdkStreamServiceType.DUPLEX;for(let i=0;i<e.videoStreamDescriptions.length;i++){let n=e.videoStreamDescriptions[i].clone();n.attendeeId=e.attendeeId,t.sendStreams.push(n.toStreamDescriptor())}}e.videoSubscriptionConfiguration.length>0&&(t.videoSubscriptionConfiguration=e.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));let i=o.SdkSignalFrame.create();i.type=o.SdkSignalFrame.Type.SUBSCRIBE,i.sub=t,this.sendMessage(i)}remoteVideoUpdate(e,t){let i=o.SdkRemoteVideoUpdateFrame.create();i.addedOrUpdatedVideoSubscriptions=e.map(this.convertSignalingClientVideoSubscriptionConfiguration),i.removedVideoSubscriptionMids=t;let n=o.SdkSignalFrame.create();n.type=o.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,n.remoteVideoUpdate=i,this.sendMessage(n)}convertSignalingClientVideoSubscriptionConfiguration(e){let t=new o.SdkVideoSubscriptionConfiguration;switch(t.mid=e.mid,t.attendeeId=e.attendeeId,t.streamId=e.streamId,t.groupId=e.groupId,t.priority=e.priority,t.targetBitrateKbps=e.targetBitrateKbps,e.qualityAdaptationPreference){case u.default.Balanced:t.qualityAdaptationPreference=o.SdkVideoQualityAdaptationPreference.BALANCED;break;case u.default.MaintainFramerate:t.qualityAdaptationPreference=o.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case u.default.MaintainResolution:t.qualityAdaptationPreference=o.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:t.qualityAdaptationPreference=o.SdkVideoQualityAdaptationPreference.BALANCED}return t}leave(){let e=o.SdkSignalFrame.create();e.type=o.SdkSignalFrame.Type.LEAVE,e.leave=o.SdkLeaveFrame.create(),this.sendMessage(e),this.logger.debug(()=>"sent leave")}sendClientMetrics(e){let t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.CLIENT_METRIC,t.clientMetric=e,this.sendMessage(t)}sendDataMessage(e){let t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.DATA_MESSAGE,t.dataMessage=e,this.sendMessage(t)}closeConnection(){var e,t;if(this.webSocket.readyState()!==d.default.None&&this.webSocket.readyState()!==d.default.Closed){this.isClosing=!0,this.sendEvent(new h.default(this,f.default.WebSocketClosing,null));let i=new s.default(p.CLOSE_EVENT_TIMEOUT_MS),n=e=>{var t,r;null==(r=(t=this.webSocket).removeEventListener)||r.call(t,"close",n),i.stop(),this.closeEventHandler(e)};null==(t=(e=this.webSocket).removeEventListener)||t.call(e,"close",this.closeEventHandler),this.webSocket.addEventListener("close",n),i.start(()=>{n(new CloseEvent("close",{wasClean:!1,code:1005,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===d.default.Open&&!this.isClosing&&this.wasOpened}mute(e){let t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.AUDIO_CONTROL;let i=o.SdkAudioControlFrame.create();i.muted=e,t.audioControl=i,this.sendMessage(t)}pause(e){let t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.PAUSE,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resume(e){let t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.RESUME,t.pause=o.SdkPauseResumeFrame.create(),t.pause.streamIds=e,this.sendMessage(t)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(e){e.timestampMs=Date.now(),this.logger.debug(()=>`sending: ${JSON.stringify(e)}`);let t=this.prependWithFrameTypeRTC(o.SdkSignalFrame.encode(e).finish());if(this.ready()){if(!this.webSocket.send(t))return void this.sendEvent(new h.default(this,f.default.WebSocketSendMessageFailure,null));this.sendEvent(new h.default(this,f.default.WebSocketSentMessage,null))}else this.sendEvent(new h.default(this,f.default.WebSocketSkippedMessage,null))}receiveMessage(e){let t;try{t=o.SdkSignalFrame.decode(e)}catch(t){this.logger.info(`failed to decode: ${e}`),this.sendEvent(new h.default(this,f.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>`received: ${JSON.stringify(t)}`),this.webSocket.readyState()===d.default.Open?this.sendEvent(new h.default(this,f.default.ReceivedSignalFrame,t)):this.logger.info(`skipping notification of message since WebSocket is not open: ${JSON.stringify(t)}`)}stripFrameTypeRTC(e){let t=e[0];return t!==p.FRAME_TYPE_RTC&&2!==t&&this.logger.warn(`expected FrameTypeRTC for message but got ${t}`),e.slice(1)}prependWithFrameTypeRTC(e){let t=new Uint8Array(e.length+1);return t[0]=p.FRAME_TYPE_RTC,t.set(e,1),t}serviceConnectionRequestQueue(){if(0===this.connectionRequestQueue.length)return void this.logger.info("no connection requests to service");let e=this.connectionRequestQueue.shift();this.logger.info(`opening connection to ${e.url()}`),this.isClosing=!1,this.webSocket.create(e.url(),e.protocols()),this.setUpEventListeners(),this.sendEvent(new h.default(this,f.default.WebSocketConnecting,null))}sendEvent(e){switch(e.type){case f.default.WebSocketMessage:case f.default.ReceivedSignalFrame:case f.default.WebSocketSentMessage:this.logger.debug(()=>`notifying event: ${f.default[e.type]}`);break;case f.default.WebSocketSkippedMessage:this.logger.debug(()=>`notifying event: ${f.default[e.type]}, websocket state=${d.default[this.webSocket.readyState()]}`);break;case f.default.WebSocketClosed:this.logger.info(`notifying event: ${f.default[e.type]}, 
              code: ${e.closeCode} reason: ${e.closeReason}`);break;default:this.logger.info(`notifying event: ${f.default[e.type]}`)}for(let t of this.observerQueue)t.handleSignalingClientEvent(e)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new h.default(this,f.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",e=>{this.sendEvent(new h.default(this,f.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(e.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened)return void this.logger.info("Signaling WebSocket ignoring error closing while connecting");this.wasOpened?(this.logger.error("Signaling WebSocket received error while connected"),this.sendEvent(new h.default(this,f.default.WebSocketError,null))):(this.logger.error("Signaling WebSocket received error while connecting"),this.sendEvent(new h.default(this,f.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};let e=i.g;e.window&&e.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){let e=i.g;e.window&&e.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){let e=new Uint32Array(1);return a.getRandomValues(e),e[0]}promoteToPrimaryMeeting(e){let t=o.SdkMeetingSessionCredentials.create();t.attendeeId=e.attendeeId,t.externalUserId=e.externalUserId,t.joinToken=e.joinToken;let i=o.SdkPrimaryMeetingJoinFrame.create();i.credentials=t;let n=o.SdkSignalFrame.create();n.type=o.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,n.primaryMeetingJoin=i,this.sendMessage(n)}demoteFromPrimaryMeeting(){let e=o.SdkPrimaryMeetingLeaveFrame.create(),t=o.SdkSignalFrame.create();t.type=o.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,t.primaryMeetingLeave=e,this.sendMessage(t)}}t.default=p,p.FRAME_TYPE_RTC=5,p.CLOSE_EVENT_TIMEOUT_MS=2e3,p.CLIENT_SUPPORTS_COMPRESSION=!0},64631:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(21929)),o=r(i(68590)),a=r(i(44495)),l=r(i(23521)),u=i(96119),d=i(36243),c=r(i(76234));class h extends c.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return n(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(e){if(e.type!==l.default.ReceivedSignalFrame||e.message.type!==u.SdkSignalFrame.Type.INDEX)return;let t=e.message.index;this.context.logger.info(`received new index ${JSON.stringify(t)}`),this.handleIndexFrame(t)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(e){if(!e)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=e;return}this.pendingIndex=null;let t=this.context.audioVideoController.configuration.credentials.attendeeId;e.sources=e.sources.filter(e=>{let i=new o.default(e.attendeeId);return!(i.base()===t&&i.hasModality(o.default.MODALITY_CONTENT))});let{videoStreamIndex:i,videoDownlinkBandwidthPolicy:n,videoUplinkBandwidthPolicy:r}=this.context,s=i.allVideoSendingSourcesExcludingSelf(t);i.integrateIndexFrame(e),n.updateIndex(i),r.updateIndex(i),this.resubscribe(n,r),this.updateVideoAvailability(e),this.handleIndexVideosPausedAtSource(),e.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(e);let a=i.allVideoSendingSourcesExcludingSelf(t);this.areVideoSourcesEqual(s,a)||this.context.audioVideoController.forEachObserver(e=>{d.Maybe.of(e.remoteVideoSourcesDidChange).map(t=>t.bind(e)(a))})}areVideoSourcesEqual(e,t){if(e.length!==t.length)return!1;let i=(e,t)=>e.attendee.attendeeId.localeCompare(t.attendee.attendeeId),n=[...e].sort(i),r=[...t].sort(i);for(let e=0;e<n.length;e++)if(n[e].attendee.attendeeId!==r[e].attendee.attendeeId)return!1;return!0}resubscribe(e,t){let i=e.wantsResubscribe(),n=(this.context.videoDuplexMode===u.SdkStreamServiceType.TX||this.context.videoDuplexMode===u.SdkStreamServiceType.DUPLEX)&&t.wantsResubscribe(),r=i||n;if(this.logger.info(`should resubscribe: ${r} (downlink: ${i} uplink: ${n})`),!r)return;let s=e.chooseSubscriptions();this.context.videosToReceive=s.truncate(this.context.videoSubscriptionLimit),s.size()>this.context.videosToReceive.size()&&this.logger.warn(`Video receive limit exceeded. Limiting the videos to ${this.context.videosToReceive.size()}. Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.`),this.context.videoCaptureAndEncodeParameter=t.chooseCaptureAndEncodeParameters(),this.logger.info(`trigger resubscribe for up=${n} down=${i}; videosToReceive=[${this.context.videosToReceive.array()}] captureParams=${JSON.stringify(this.context.videoCaptureAndEncodeParameter)}`),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(e){if(!this.context.videosToReceive)return void this.logger.error("videosToReceive must be set in the meeting context.");let t=new s.default;t.remoteVideoAvailable=!this.context.videosToReceive.empty(),t.canStartLocalVideo=!e.atCapacity,this.context.lastKnownVideoAvailability&&this.context.lastKnownVideoAvailability.equal(t)||(this.context.lastKnownVideoAvailability=t.clone(),this.context.audioVideoController.forEachObserver(e=>{d.Maybe.of(e.videoAvailabilityDidChange).map(i=>i.bind(e)(t.clone()))}))}handleSupportedVideoReceiveCodecIntersection(e){if(void 0===this.context.videoSendCodecPreferences)return;let t=[],i=!1;for(let i of this.context.videoSendCodecPreferences){if(this.context.degradedVideoSendCodecs.some(e=>i.equals(e))){this.logger.info(`Skipping ${i.codecName} since the codec has been identfied as degraded`);continue}for(let n of e.supportedReceiveCodecIntersection)if(i.equals(a.default.fromSignaled(n))){t.push(i);break}}if(t.length>0){let e=t.find(e=>this.context.prioritizedSendVideoCodecCapabilities.some(t=>e.equals(t)));void 0===this.context.currentVideoSendCodec||void 0!==e&&this.context.currentVideoSendCodec.equals(e)||(i=!0),this.context.meetingSupportedVideoSendCodecPreferences=t}else this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0;this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),i&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){let e=this.context.videoStreamIndex.streamsPausedAtSource();for(let t of this.context.videoTileController.getAllVideoTiles()){let i=t.state();e.contain(i.streamId)?t.markPoorConnection()&&this.logger.info(`marks the tile ${i.tileId} as having a poor connection`):t.unmarkPoorConnection()&&this.logger.info(`unmarks the tile ${i.tileId} as having a poor connection`)}}}t.default=h},64632:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){if(this.devicePixelRatioSource=e,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(e=>{e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},"undefined"==typeof window)return;let i=matchMedia(`(resolution: ${this.devicePixelRatioSource.devicePixelRatio()}dppx)`);"function"==typeof i.addEventListener?(i.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=i):"function"==typeof i.addListener?(i.addListener(this.mediaQueryListener),this.mediaQueryList=i):t.warn("ignoring DefaultDevicePixelRatioMonitor")}destroy(){return i(this,void 0,void 0,function*(){this.mediaQueryList&&("function"==typeof this.mediaQueryList.addEventListener?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(e){this.observerQueue.add(e),e.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(e){this.observerQueue.delete(e)}}t.default=n},64735:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioInput=t.createAudioContext=t.VoiceFocus=void 0;let r=i(389),s=i(17627),o=i(79018),a=i(1188),l=i(74468),u=i(13696),d=i(71089),c={useVoiceFocusAGC:!1,useBuiltInAGC:!0},h="stable-v1",f="https://static.sdkassets.chime.aws",p={processors:`${f}/processors/`,workers:`${f}/workers/`,wasm:`${f}/wasm/`,models:`${f}/wasm/`},m={latencyHint:0},g={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},v=Object.assign(Object.assign({},g),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),y=Object.assign(Object.assign({},g),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),b={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:u.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:d.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:l.default}},S=(e,t)=>{if(void 0!==e&&!(0,s.isValidAssetGroup)(e))throw Error(`Invalid asset group ${e}`);if(void 0!==t&&!(0,s.isValidRevisionID)(t))throw Error(`Invalid revision ID ${t}`)},w=(e,t)=>{let i;if(i=t.useBuiltInAGC?v:y,!e)return{audio:i};if(!e.audio)return e;if(e.video)throw Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},e),{audio:!0===e.audio?i:Object.assign(Object.assign({},e.audio),i)})},C=(e,t)=>`${t.models}${(0,r.decideModel)(e)}.wasm`;class x{constructor(e,t,i,n,r,s){this.processorURL=t,this.nodeConstructor=i,this.nodeOptions=n,this.executionQuanta=r,this.logger=s,this.internal={worker:e,isDestroyed:!1}}getModelMetrics(){var e;return null==(e=this.internal.voiceFocusNode)?void 0:e.getModelMetrics()}enable(){var e;null==(e=this.internal.voiceFocusNode)||e.enable()}disable(){var e;null==(e=this.internal.voiceFocusNode)||e.disable()}setMode(e){var t;null==(t=this.internal.voiceFocusNode)||t.setMode(e)}destroy(){var e,t,i,r,s;return n(this,void 0,void 0,function*(){let{worker:n,isDestroyed:o,voiceFocusNode:a,destinationNode:l,sourceNode:u,audioContext:d}=this.internal;if(o){null==(e=this.logger)||e.debug("Voice Focus is already destroyed");return}try{null==n||n.terminate(),null==u||u.disconnect(),null==l||l.disconnect(),yield Promise.all([null!=(t=null==d?void 0:d.close().catch(e=>e))?t:yield Promise.resolve(),null!=(i=null==a?void 0:a.stop().catch(e=>e))?i:yield Promise.resolve()]),this.internal.audioContext=void 0,this.internal.voiceFocusNode=void 0,this.internal.sourceNode=void 0,this.internal.destinationNode=void 0,null==(r=this.logger)||r.debug("Voice Focus destroyed successfully")}catch(e){throw null==(s=this.logger)||s.error("Error while destroying the Voice Focus instance: ",e),e}finally{this.internal.isDestroyed=!0}})}static isSupported(e,t){let{fetchBehavior:i,logger:n}=t||{};if("undefined"==typeof globalThis)return null==n||n.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!(0,a.supportsAudioWorklet)(globalThis,n))return null==n||n.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!(0,a.supportsWASM)(globalThis,n))return null==n||n.debug("Browser does not support WASM."),Promise.resolve(!1);(0,a.supportsWASMStreaming)(globalThis,n)||null==n||n.debug("Browser does not support streaming WASM compilation.");let{assetGroup:r=h,revisionID:o,paths:l=p}=e||{};S(r,o);let u=o?{revisionID:o}:{assetGroup:r},d=Object.assign(Object.assign({},(0,s.addQueryParams)(i,u)),{paths:l});return(0,a.supportsVoiceFocusWorker)(globalThis,d,n)}static mungeExecutionPreference(e,t){let i=void 0===e||"auto"===e;if((0,a.isSafari)(globalThis)){if(i||"inline"===e)return"inline";if(!i)throw Error(`Unsupported execution preference ${e}`)}if("worker-sab"===e&&!(0,a.supportsSharedArrayBuffer)(globalThis,globalThis,t))throw Error(`Unsupported execution preference ${e}`);return e||"auto"}static configure(e,t){return n(this,void 0,void 0,function*(){let{fetchBehavior:i,preResolve:n,logger:o}=t||{},{category:a="voicefocus",name:l="default",variant:u="auto",assetGroup:d=h,revisionID:c,simd:f="detect",mode:m="ns",executionPreference:g="auto",executionQuantaPreference:v,usagePreference:y="interactivity",estimatorBudget:b=100,paths:w=p,thresholds:x}=e||{};if(null==o||o.debug("Configuring Voice Focus with spec",e),void 0!==a&&"voicefocus"!==a)throw Error(`Unrecognized category ${a}`);if(void 0!==l&&"default"!==l&&"ns_es"!==l)throw Error(`Unrecognized feature name ${l}`);if(void 0!==u&&!["auto","c100","c50","c20","c10"].includes(u))throw Error(`Unrecognized feature variant ${u}`);if(void 0!==v&&![1,2,3].includes(v))throw Error(`Unrecognized execution quanta preference ${v}`);if(S(d,c),void 0!==f&&!["detect","force","disable"].includes(f))throw Error(`Unrecognized SIMD option ${f}`);if(void 0!==g&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(g))throw Error(`Unrecognized execution preference ${g}`);if(void 0!==y&&!["quality","interactivity"].includes(y))throw Error(`Unrecognized usage preference ${y}`);let k={executionPreference:this.mungeExecutionPreference(g,o),usagePreference:y,executionQuantaPreference:v,variantPreference:u,namePreference:l,simdPreference:f,estimatorBudget:b},A=c?{revisionID:c}:{assetGroup:d},E=(0,s.addQueryParams)(i,A),M=Object.assign({paths:w},E),T=yield(0,r.measureAndDecideExecutionApproach)(k,M,o,x);if(!1===T.supported)return{supported:!1,reason:T.reason};null==o||o.info("Decided execution approach",T);let{useSIMD:_,processor:P,variant:I,executionQuanta:R}=T,O={category:a||"voicefocus",name:l||"default",mode:m,variant:I,simd:_};if(n){let e=C(O,w);O.url=yield(0,s.resolveURL)(e,E)}return{fetchConfig:M,model:O,processor:P,executionQuanta:R,supported:!0}})}static init(e,{delegate:t,preload:i=!0,logger:r}){return n(this,void 0,void 0,function*(){if(!1===e.supported)throw Error("Voice Focus not supported. Reason: "+e.reason);let{model:n,processor:s,fetchConfig:l,executionQuanta:u}=e,{simd:d,name:c,mode:h}=n,{paths:f}=l;if("voicefocus-inline-processor"!==s&&"voicefocus-worker-postMessage-processor"!==s&&"voicefocus-worker-sab-processor"!==s)throw Error(`Unknown processor ${s}`);let p=n.url||C(n,f);null==r||r.debug(`Using model URL ${p}.`);let m=`${f.wasm}audio_buffer-v1${d?"_simd":""}.wasm`,g=`${f.wasm}resampler-v1${d?"_simd":""}.wasm`,v=`${f.workers}worker-v1.js`,{file:y,node:S}=b[s],w=`${f.processors}${y}`,k=yield(0,o.loadWorker)(v,"VoiceFocusWorker",l,r);if(i){null==r||r.debug("Preloading",p);let e=(0,a.supportsWASMPostMessage)(globalThis)?"get-module":"get-module-buffer";k.postMessage({message:e,preload:!0,key:"model",fetchBehavior:l,path:p})}let A={processor:s,worker:k,audioBufferURL:m,resamplerURL:g,fetchBehavior:l,modelURL:p,delegate:t,logger:r,numberOfInputs:"ns_es"===c?2:1,mode:h};return Promise.resolve(new x(k,w,S,A,u,r))})}createNode(e,t){var i;if(this.internal.isDestroyed)throw Error("Unable to create node because VoiceFocus worker has been destroyed.");let{voiceFocusSampleRate:n=16e3===e.sampleRate?16e3:48e3,enabled:r=!0,agc:o=c}=t||{},a=null==t?void 0:t.es,l={voiceFocusSampleRate:n,enabled:r,sendBufferCount:10,prefill:6,agc:o,executionQuanta:this.executionQuanta,supportFarendStream:a,mode:this.nodeOptions.mode},u=(0,s.withQueryString)(this.processorURL,null==(i=this.nodeOptions)?void 0:i.fetchBehavior);return e.audioWorklet.addModule(u).then(()=>new this.nodeConstructor(e,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:l})))}applyToStream(e,t,i){return n(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw Error("Unable to apply stream because VoiceFocus worker has been destroyed");let n=t.createMediaStreamSource(e),r=yield this.applyToSourceNode(n,t,i),s=t.createMediaStreamDestination();return r.connect(s),this.internal=Object.assign(Object.assign({},this.internal),{voiceFocusNode:r,sourceNode:n,destinationNode:s,audioContext:t}),{node:r,source:n,destination:s,stream:s.stream}})}applyToSourceNode(e,t,i){return n(this,void 0,void 0,function*(){let n=yield this.createNode(t,i);return e.connect(n),n})}}t.VoiceFocus=x,t.createAudioContext=(e=m)=>new(window.AudioContext||window.webkitAudioContext)(e),t.getAudioInput=(e,t,i)=>n(void 0,void 0,void 0,function*(){var n,r;let{constraints:s,spec:o,delegate:a,preload:l=!0,options:u}=t,{logger:d}=i,h=yield x.configure(o,i);if(!h.supported)return null==(n=i.logger)||n.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(s);let f=yield x.init(h,{delegate:a,preload:l,logger:d}),p=(null==(r=t.options)?void 0:r.agc)||c,m=yield window.navigator.mediaDevices.getUserMedia(w(s,p));return f.applyToStream(m,e,u).then(e=>e.stream)})},64879:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(55621)),s=n(i(10106)),o=i(25927),a=n(i(22694)),l=n(i(86007)),u=n(i(19641));class d{constructor(e,t){var i,n;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new r.default,this.reconnectTimeoutMs=12e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1e3,this.reconnectLongBackOffMs=5e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new a.default,e){(e=o.toLowerCasePropertyNames(e)).meeting&&(e=e.meeting),this.meetingId=e.meetingid,this.externalMeetingId=e.externalmeetingid,this.urls=new u.default,this.urls.audioHostURL=e.mediaplacement.audiohosturl,this.urls.signalingURL=e.mediaplacement.signalingurl,this.urls.turnControlURL=e.mediaplacement.turncontrolurl,e.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=e.mediaplacement.eventingestionurl);let t=(e,t)=>{switch(e){case"None":return s.default.VideoDisabled;case"HD":return s.default.VideoResolutionHD;case"FHD":return s.default.VideoResolutionFHD;case"UHD":return s.default.VideoResolutionUHD;default:return t}};if((null==(i=e.meetingfeatures)?void 0:i.video)!==void 0||(null==(n=e.meetingfeatures)?void 0:n.content)!==void 0){let i=void 0===e.meetingfeatures.video?"HD":e.meetingfeatures.video.maxresolution,n=void 0===e.meetingfeatures.content?"FHD":e.meetingfeatures.content.maxresolution;this.meetingFeatures=new a.default(t(i,s.default.VideoResolutionHD),t(n,s.default.VideoResolutionFHD))}}t&&((t=o.toLowerCasePropertyNames(t)).attendee&&(t=t.attendee),this.credentials=new l.default,this.credentials.attendeeId=t.attendeeid,this.credentials.externalUserId=t.externaluserid,this.credentials.joinToken=t.jointoken)}}t.default=d},65016:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen")},65194:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(44435)),s=n(i(70544)),o=n(i(23521)),a=i(96119),l=i(36243);class u{constructor(e,t,i){this.signalingClient=e,this.intervalMs=t,this.logger=i,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new s.default(this.intervalMs),this.pingId=0}addObserver(e){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(e)}forEachObserver(e){for(let t of this.observerQueue)r.default.nextTick(()=>{this.observerQueue.has(t)&&e(t)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn(`missed pong ${this.consecutivePongsUnaccountedFor} time(s)`),this.forEachObserver(e=>{l.Maybe.of(e.didMissPongs).map(t=>t.bind(e)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1|0;let e=a.SdkPingPongFrame.create();e.pingId=this.pingId,e.type=a.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(e),this.logger.debug(()=>`sent ping ${this.pingId}`)}pong(e){let t=a.SdkPingPongFrame.create();t.pingId=e,t.type=a.SdkPingPongType.PONG,this.signalingClient.pingPong(t)}handleSignalingClientEvent(e){switch(e.type){case o.default.WebSocketOpen:this.startPingInterval();break;case o.default.WebSocketFailed:case o.default.WebSocketError:this.logger.warn(`stopped pinging (${o.default[e.type]})`),this.stopPingInterval();break;case o.default.WebSocketClosing:case o.default.WebSocketClosed:this.logger.info(`stopped pinging (${o.default[e.type]})`),this.stopPingInterval();break;case o.default.ReceivedSignalFrame:if(e.message.type!==a.SdkSignalFrame.Type.PING_PONG)break;if(e.message.pingPong.type===a.SdkPingPongType.PONG){let t,i=e.message.pingPong.pingId;if(i!==this.pingId){this.logger.warn(`unexpected ping id ${i} (expected ${this.pingId})`);break}if(this.consecutivePongsUnaccountedFor=0,"number"==typeof e.message.timestampMs)t=e.message.timestampMs;else break;this.logger.debug(()=>`received pong ${i} with timestamp ${t}`);let n=e.timestampMs-this.pingTimestampLocalMs,r=Math.round(t-n/2),s=this.pingTimestampLocalMs-r;this.logger.info(`local clock skew estimate=${s}ms from ping-pong time=${n}ms`),this.forEachObserver(e=>{l.Maybe.of(e.didReceivePong).map(t=>t.bind(e)(i,s,n))})}else this.pong(e.message.pingPong.pingId)}}}t.default=u},65229:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(71847);let r=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s=(0,n.A)("x",r)},65815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},66088:(e,t,i)=>{"use strict";i.d(t,{A:()=>B});var n=i(12115),r=i(2821),s=i(60973),o=i(81421),a=i(37659),l=i(24025),u=i(65253),d=i(57915),c=i(47627),h=i(36600);let f=(e,t)=>e.filter(e=>t.includes(e)),p=(e,t,i)=>{let n=e.keys[0];Array.isArray(t)?t.forEach((t,n)=>{i((t,i)=>{n<=e.keys.length-1&&(0===n?Object.assign(t,i):t[e.up(e.keys[n])]=i)},t)}):t&&"object"==typeof t?(Object.keys(t).length>e.keys.length?e.keys:f(e.keys,Object.keys(t))).forEach(r=>{if(e.keys.includes(r)){let s=t[r];void 0!==s&&i((t,i)=>{n===r?Object.assign(t,i):t[e.up(r)]=i},s)}}):("number"==typeof t||"string"==typeof t)&&i((e,t)=>{Object.assign(e,t)},t)};function m(e){return`--Grid-${e}Spacing`}function g(e){return`--Grid-parent-${e}Spacing`}let v="--Grid-columns",y="--Grid-parent-columns",b=({theme:e,ownerState:t})=>{let i={};return p(e.breakpoints,t.size,(e,t)=>{let n={};"grow"===t&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof t&&(n={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${y}) - (var(${y}) - ${t}) * (var(${g("column")}) / var(${y})))`}),e(i,n)}),i},S=({theme:e,ownerState:t})=>{let i={};return p(e.breakpoints,t.offset,(e,t)=>{let n={};"auto"===t&&(n={marginLeft:"auto"}),"number"==typeof t&&(n={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${y}) + var(${g("column")}) * ${t} / var(${y}))`}),e(i,n)}),i},w=({theme:e,ownerState:t})=>{if(!t.container)return{};let i={[v]:12};return p(e.breakpoints,t.columns,(e,t)=>{let n=t??12;e(i,{[v]:n,"> *":{[y]:n}})}),i},C=({theme:e,ownerState:t})=>{if(!t.container)return{};let i={};return p(e.breakpoints,t.rowSpacing,(t,n)=>{let r="string"==typeof n?n:e.spacing?.(n);t(i,{[m("row")]:r,"> *":{[g("row")]:r}})}),i},x=({theme:e,ownerState:t})=>{if(!t.container)return{};let i={};return p(e.breakpoints,t.columnSpacing,(t,n)=>{let r="string"==typeof n?n:e.spacing?.(n);t(i,{[m("column")]:r,"> *":{[g("column")]:r}})}),i},k=({theme:e,ownerState:t})=>{if(!t.container)return{};let i={};return p(e.breakpoints,t.direction,(e,t)=>{e(i,{flexDirection:t})}),i},A=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${m("row")}) var(${m("column")})`}}),E=e=>{let t=[];return Object.entries(e).forEach(([e,i])=>{!1!==i&&void 0!==i&&t.push(`grid-${e}-${String(i)}`)}),t},M=(e,t="xs")=>{function i(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(i(e))return[`spacing-${t}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let t=[];return Object.entries(e).forEach(([e,n])=>{i(n)&&t.push(`spacing-${e}-${String(n)}`)}),t}return[]},T=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(e)}`];function _(e,t){let i=[];void 0!==e.item&&(delete e.item,i.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,i.push("zeroMinWidth")),t.keys.forEach(t=>{void 0!==e[t]&&(i.push(t),delete e[t])})}var P=i(95155);let I=(0,h.A)(),R=(0,l.A)("div",{name:"MuiGrid",slot:"Root"});function O(e){return(0,u.A)({props:e,name:"MuiGrid",defaultTheme:I})}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{createStyledComponent:t=R,useThemeProps:i=O,useTheme:l=d.A,componentName:u="MuiGrid"}=e,h=(e,t)=>{let{container:i,direction:n,spacing:r,wrap:s,size:l}=e,d={root:["root",i&&"container","wrap"!==s&&"wrap-xs-".concat(String(s)),...T(n),...E(l),...i?M(r,t.breakpoints.keys[0]):[]]};return(0,a.A)(d,e=>(0,o.Ay)(u,e),{})};function f(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0,n={};return null===e||(Array.isArray(e)?e.forEach((e,r)=>{null!==e&&i(e)&&t.keys[r]&&(n[t.keys[r]]=e)}):"object"==typeof e?Object.keys(e).forEach(t=>{let r=e[t];null!=r&&i(r)&&(n[t]=r)}):n[t.keys[0]]=e),n}let p=t(w,x,C,b,k,A,S),m=n.forwardRef(function(e,t){var o,a,u,d,m,g;let v=l(),y=i(e),b=(0,c.A)(y);_(b,v.breakpoints);let{className:S,children:w,columns:C=12,container:x=!1,component:k="div",direction:A="row",wrap:E="wrap",size:M={},offset:T={},spacing:I=0,rowSpacing:R=I,columnSpacing:O=I,unstable_level:D=0,...L}=b,N=f(M,v.breakpoints,e=>!1!==e),F=f(T,v.breakpoints),B=null!=(o=e.columns)?o:D?void 0:C,V=null!=(a=e.spacing)?a:D?void 0:I,U=null!=(d=null!=(u=e.rowSpacing)?u:e.spacing)?d:D?void 0:R,z=null!=(g=null!=(m=e.columnSpacing)?m:e.spacing)?g:D?void 0:O,j={...b,level:D,columns:B,container:x,direction:A,wrap:E,spacing:V,rowSpacing:U,columnSpacing:z,size:N,offset:F},H=h(j,v);return(0,P.jsx)(p,{ref:t,as:k,ownerState:j,className:(0,r.A)(H.root,S),...L,children:n.Children.map(w,e=>{if(n.isValidElement(e)&&(0,s.A)(e,["Grid"])&&x&&e.props.container){var t,i;return n.cloneElement(e,{unstable_level:null!=(i=null==(t=e.props)?void 0:t.unstable_level)?i:D+1})}return e})})});return m.muiName="Grid",m}var L=i(49714),N=i(57179),F=i(25789);let B=D({createStyledComponent:(0,L.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>(0,N.b)({props:e,name:"MuiGrid"}),useTheme:F.A})},66876:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(13231);function r(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s(e){let t,i,s;function a(e,n,r=0,s=e.length){if(r<s){if(0!==t(n,n))return s;do{let t=r+s>>>1;0>i(e[t],n)?r=t+1:s=t}while(r<s)}return r}function l(e,t,i=0,n=e.length){let r=a(e,t,i,n-1);return r>i&&s(e[r-1],t)>-s(e[r],t)?r-1:r}return 2!==e.length?(t=n.A,i=(t,i)=>(0,n.A)(e(t),i),s=(t,i)=>e(t)-i):(t=e===n.A||e===r?e:o,i=e,s=e),{left:a,center:l,right:function(e,n,r=0,s=e.length){if(r<s){if(0!==t(n,n))return s;do{let t=r+s>>>1;0>=i(e[t],n)?r=t+1:s=t}while(r<s)}return r}}}function o(){return 0}},66955:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioOutputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed"}(i=t.CheckAudioOutputFeedback||(t.CheckAudioOutputFeedback={})),t.default=i},67182:(e,t,i)=>{"use strict";var n=i(15376).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=i(90403),s=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},67331:(e,t,i)=>{"use strict";function n(e,t){return e*=1,t*=1,function(i){return Math.round(e*(1-i)+t*i)}}i.d(t,{A:()=>n})},67909:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var n=i(86278),r=i.n(n)},68130:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(84168));class s extends r.default{}t.default=s},68166:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(11218));class s{reset(){}updateIndex(e){}updateMetrics(e){}wantsResubscribe(){return!1}chooseSubscriptions(){return new r.default}}t.default=s},68280:(e,t,i)=>{"use strict";function n(e){for(var t=e.length,i=Array(t);--t>=0;)i[t]=t;return i}i.d(t,{A:()=>n})},68290:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(56506)),o=r(i(61994)),a=r(i(42434)),l=r(i(8699)),u=r(i(76234)),d=r(i(37308)),c=r(i(99801)),h=r(i(74500)),f=r(i(66955)),p=r(i(36671)),m=r(i(75129)),g=r(i(23556)),v=r(i(76052)),y=r(i(43988)),b=r(i(55019)),S=r(i(71243));class w{constructor(e,t,i=new S.default){this.logger=e,this.meetingSession=t,this.configuration=i,this.browserBehavior=new o.default}static delay(e){return n(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}checkAudioInput(e){return n(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(e),yield this.meetingSession.audioVideo.stopAudioInput(),h.default.Succeeded}catch(e){if(this.logger.error(`MeetingReadinessChecker: Audio input check failed with error ${e}`),e instanceof l.default)return h.default.PermissionDenied;return h.default.Failed}})}checkAudioOutput(e,t,i=null){return n(this,void 0,void 0,function*(){try{let n=e?a.default.getIntrinsicDeviceId(e):"";if(yield this.playTone(n,this.configuration.audioOutputFrequency,i),yield t())return f.default.Succeeded;return f.default.Failed}catch(e){return this.logger.error(`MeetingReadinessChecker: Audio output check failed with error: ${e}`),f.default.Failed}finally{this.stopTone()}})}playTone(e,t,i){return n(this,void 0,void 0,function*(){let n=.1,r=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=a.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=t,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);let o=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,o),this.gainNode.gain.linearRampToValueAtTime(r,o+n),this.oscillatorNode.start();let l=new s.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield l.bindAudioDevice({deviceId:e}))}catch(e){this.logger.error(`Failed to bind audio device: ${e}`)}try{yield l.bindAudioElement(i||new Audio)}catch(e){this.logger.error(`Failed to bind audio element: ${e}`)}yield l.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;let e=1,t=.1,i=this.configuration.audioOutputGain,n=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(i,n+t+e),this.gainNode.gain.linearRampToValueAtTime(0,n+2*t+e),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(e){return n(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(e),yield this.meetingSession.audioVideo.stopVideoInput(),b.default.Succeeded}catch(e){if(this.logger.error(`MeetingReadinessChecker: Video check failed with error ${e}`),e instanceof l.default)return b.default.PermissionDenied;return b.default.Failed}})}checkCameraResolution(e,t,i){return n(this,void 0,void 0,function*(){let n;try{let r=a.default.getIntrinsicDeviceId(e),s={video:this.calculateVideoConstraint(r,t,i)};n=yield navigator.mediaDevices.getUserMedia(s)}catch(e){if(this.logger.error(`MeetingReadinessChecker: Camera resolution check with width: ${t} height ${i} failed with error ${e}`),e&&"OverconstrainedError"===e.name)return p.default.ResolutionNotSupported;if(e&&"NotAllowedError"===e.name)return p.default.PermissionDenied;return p.default.Failed}finally{n&&n.getTracks().forEach(function(e){e.stop()})}return p.default.Succeeded})}calculateVideoConstraint(e,t,i){let n=this.browserBehavior.requiresResolutionAlignment(t,i),r={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(r.deviceId=e,r.width=t,r.height=i):(r.deviceId={exact:e},r.width={exact:n[0]},r.height={exact:n[1]}),r}checkContentShareConnectivity(e){return n(this,void 0,void 0,function*(){let t=!1,i=!1,r={contentShareDidStart:()=>{t=!0}},s={audioVideoDidStart:()=>{i=!0}};try{if(this.meetingSession.audioVideo.addObserver(s),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(r),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(e),yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return i&&t})),!i)return m.default.ConnectionFailed;return yield this.stopMeeting(),t?m.default.Succeeded:m.default.TimedOut}catch(e){if(this.logger.error(`MeetingReadinessChecker: Content share check failed with error ${e}`),"NotAllowedError"===e.name)return m.default.PermissionDenied;return m.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(s),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(r)}})}checkAudioConnectivity(e){return n(this,void 0,void 0,function*(){let t=!1,i={packetsReceived:0},r=this.meetingSession.audioVideo,s={metricsDidReceive(e){e.getRTCStatsReport().forEach(e=>{"inbound-rtp"===e.type&&("audio"===e.mediaType||"audio"===e.kind)&&(i.packetsReceived=e.packetsReceived)})}},o=(e,i,n,r)=>{e===this.meetingSession.configuration.credentials.attendeeId&&i&&(t=!0)};try{yield r.startAudioInput(e)}catch(e){if(this.logger.error(`MeetingReadinessChecker: Failed to get audio input device with error ${e}`),e instanceof l.default)return c.default.AudioInputPermissionDenied;return c.default.AudioInputRequestFailed}return(r.realtimeSubscribeToAttendeeIdPresence(o),r.addObserver(s),yield this.startMeeting())?(yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(t,i)})),r.removeObserver(s),r.realtimeUnsubscribeToAttendeeIdPresence(o),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(t,i)?c.default.Succeeded:c.default.AudioNotReceived):(r.removeObserver(s),r.realtimeUnsubscribeToAttendeeIdPresence(o),yield this.meetingSession.audioVideo.stopAudioInput(),c.default.ConnectionFailed)})}checkVideoConnectivity(e){return n(this,void 0,void 0,function*(){let t=this.meetingSession.audioVideo,i=0,r={metricsDidReceive(e){e.getRTCStatsReport().forEach(e=>{"outbound-rtp"===e.type&&("video"===e.mediaType||"video"===e.kind)&&(i=e.packetsSent)})}};try{yield t.startVideoInput(e)}catch(e){if(this.logger.error(`MeetingReadinessChecker: Failed to get video input device with error ${e}`),e instanceof l.default)return y.default.VideoInputPermissionDenied;return y.default.VideoInputRequestFailed}return(t.addObserver(r),yield this.startMeeting())?(t.startLocalVideoTile(),yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return i>0})),yield t.stopVideoInput(),yield this.stopMeeting(),t.removeObserver(r),i<=0)?y.default.VideoNotSent:y.default.Succeeded:y.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return n(this,void 0,void 0,function*(){let e=!1,t={metricsDidReceive(t){t.getRTCStatsReport().forEach(t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),v.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{let t=this.originalURLRewriter(e);return t.includes("transport=tcp")?"":t};let i=this.meetingSession.audioVideo;return(i.addObserver(t),yield this.startMeeting())?(yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return e})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),i.removeObserver(t),e)?v.default.Succeeded:v.default.ICENegotiationFailed:(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,v.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return n(this,void 0,void 0,function*(){let e=!1,t={metricsDidReceive(t){t.getRTCStatsReport().forEach(t=>{"candidate-pair"===t.type&&"succeeded"===t.state&&(e=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(e){return this.logger.error(`MeetingSessionConfiguration.urls doesn't exist. Error: ${e}`),g.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=e=>{let t=this.originalURLRewriter(e);return t.includes("transport=udp")?"":t};let i=this.meetingSession.audioVideo;return(i.addObserver(t),yield this.startMeeting())?(yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return e})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),i.removeObserver(t),e)?g.default.Succeeded:g.default.ICENegotiationFailed:(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,g.default.ConnectionFailed)})}startMeeting(){return n(this,void 0,void 0,function*(){let e=!1,t={audioVideoDidStart:()=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return e})),this.meetingSession.audioVideo.removeObserver(t),e})}stopMeeting(){return n(this,void 0,void 0,function*(){let e=!1,t={audioVideoDidStop:t=>{e=!0}};return this.meetingSession.audioVideo.addObserver(t),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>n(this,void 0,void 0,function*(){return e})),this.meetingSession.audioVideo.removeObserver(t),e})}executeTimeoutTask(e){return n(this,void 0,void 0,function*(){let t=!1;class i extends u.default{constructor(e,t){super(e),this.waitDurationMs=t,this.isCancelled=!1}cancel(){this.isCancelled=!0}run(){return n(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield e()){t=!0;break}yield w.delay(this.waitDurationMs)}})}}let r=new d.default(this.logger,new i(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs);return yield r.run(),t})}isAudioConnectionSuccessful(e,t){return e&&t.packetsReceived>0}}t.default=w},68476:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>d,DS:()=>u,RZ:()=>c});var n=i(45351),r=i(91358),s=i(6256);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l(e){return e<0?-e*e:e*e}function u(e){var t=e(r.D_,r.D_),i=1;function s(){return 1===i?e(r.D_,r.D_):.5===i?e(a,l):e(o(i),o(1/i))}return t.exponent=function(e){return arguments.length?(i=+e,s()):i},(0,n.C)(t)}function d(){var e=u((0,r.Gu)());return e.copy=function(){return(0,r.C)(e,d()).exponent(e.exponent())},s.C.apply(e,arguments),e}function c(){return d.apply(null,arguments).exponent(.5)}},68590:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(2298));class s{constructor(e){this._id=e}id(){return this._id}base(){return this._id?this._id.split(s.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";let e=this._id.split(s.MODALITY_SEPARATOR);return 2===e.length?e[1]:""}hasModality(e){return""!==e&&this.modality()===e}withModality(e){let t=new s(this.base()+s.MODALITY_SEPARATOR+e);return""===e||""===this.base()||new s(t._id).modality()!==e?new s(this.base()):t}}t.default=s,s.MODALITY_SEPARATOR=r.default.Modality[0],s.MODALITY_CONTENT=r.default.Modality.substring(1)},68756:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900));class s extends r.default{constructor(e,t){super(e,t,"Unusable Audio Warning"),this.coolDownTimeMs=e.cooldownTimeMs,this.pastSamplesToConsider=e.pastSamplesToConsider,this.fractionalLoss=e.fractionalLoss,this.packetsExpected=e.packetsExpected,this.maximumTimesToWarn=e.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;let e=this.pastSamplesToConsider,t=e*this.packetsExpected,i=0;for(let t=0;t<e;t++)i+=this.currentData.packetsReceivedInLastMinute[t];return Math.min(Math.max(1-i/t,0),1)}health(){if(Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs)return this.currentHealth;if(this.calculateFractionalLoss()>=this.fractionalLoss)return 1*(0!==this.currentHealth&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,!!(this.warnCount>this.maximumTimesToWarn)));return 1}}t.default=s},69535:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(55611)),o=r(i(23521)),a=i(96119),l=r(i(76234));class u extends l.default{constructor(e){super(e.logger),this.context=e,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(e,t,i)=>{if(this.context.signalingClient.ready()){let n;n=t instanceof Uint8Array?t:"string"==typeof t?new TextEncoder().encode(t):new TextEncoder().encode(JSON.stringify(t)),this.validateDataMessage(e,n,i);let r=a.SdkDataMessagePayload.create();r.topic=e,r.lifetimeMs=i,r.data=n;let s=a.SdkDataMessageFrame.create();s.messages=[r],this.context.signalingClient.sendDataMessage(s)}else this.context.logger.error("Cannot send data message because signaling client is not ready")}}run(){return n(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(e){if(e.type===o.default.ReceivedSignalFrame&&e.message.type===a.SdkSignalFrame.Type.DATA_MESSAGE)for(let t of e.message.dataMessage.messages){let e=new s.default(t.ingestTimeNs/1e6,t.topic,t.data,t.senderAttendeeId,t.senderExternalUserId,0===t.ingestTimeNs);this.context.realtimeController.realtimeReceiveDataMessage(e)}}validateDataMessage(e,t,i){if(!u.TOPIC_REGEX.test(e))throw Error("Invalid topic");if(t.length>u.DATA_SIZE)throw Error("Data size has to be less than 2048 bytes");if(i&&i<0)throw Error("The life time of the message has to be non negative")}}t.default=u,u.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/),u.DATA_SIZE=2048},69716:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(90643);n.__exportStar(i(54070),t),n.__exportStar(i(65815),t),n.__exportStar(i(37280),t),n.__exportStar(i(94988),t),n.__exportStar(i(19684),t)},70011:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},o=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var n,r=t.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!s)return!1;for(n in e);return void 0===n||t.call(e,n)},a=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,i){if("__proto__"===i){if(!t.call(e,i))return;else if(r)return r(e,i).value}return e[i]};e.exports=function e(){var t,i,n,r,u,d,c=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},h=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});h<f;++h)if(t=arguments[h],null!=t)for(i in t)n=l(c,i),c!==(r=l(t,i))&&(p&&r&&(o(r)||(u=s(r)))?(u?(u=!1,d=n&&s(n)?n:[]):d=n&&o(n)?n:{},a(c,{name:i,newValue:e(p,d,r)})):void 0!==r&&a(c,{name:i,newValue:r}));return c}},70389:(e,t)=>{"use strict";var i=t;i.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var n=Array(64),r=Array(123),s=0;s<64;)r[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;i.encode=function(e,t,i){for(var r,s=null,o=[],a=0,l=0;t<i;){var u=e[t++];switch(l){case 0:o[a++]=n[u>>2],r=(3&u)<<4,l=1;break;case 1:o[a++]=n[r|u>>4],r=(15&u)<<2,l=2;break;case 2:o[a++]=n[r|u>>6],o[a++]=n[63&u],l=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return(l&&(o[a++]=n[r],o[a++]=61,1===l&&(o[a++]=61)),s)?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";i.decode=function(e,t,i){for(var n,s=i,a=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&a>1)break;if(void 0===(u=r[u]))throw Error(o);switch(a){case 0:n=u,a=1;break;case 1:t[i++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[i++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[i++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(o);return i-s},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},70544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.intervalMs=e}start(e){this.stop(),this.timer=setInterval(e,this.intervalMs)}stop(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}running(){return void 0!==this.timer}}t.default=i},70679:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(9947)),o=r(i(60554)),a=r(i(75585)),l=r(i(72127)),u=r(i(35002)),d=r(i(53500)),c=r(i(25708));class h extends l.default{setBlurStrength(){}loadAssets(){return n(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}}class f extends s.default{static create(e,t){return n(this,void 0,void 0,function*(){let i;e=f.resolveSpec(e);let{logger:n}=t=f.resolveOptions(t),r=yield f.isSupported(e,t);return(n.info(`processor is ${r?"":"not"} supported`),r)?((yield d.default.isSupported())?(n.info("Using browser-provided background blur"),i=new d.default(e,t)):(n.info("Using built-in background blur"),i=new u.default(e,t)),yield i.loadAssets(),i):(n.warn("Using no-op processor because background blur is not supported"),new h)})}static resolveOptions(e={}){let t=Object.assign({},e);return t.blurStrength||(t.blurStrength=c.default.MEDIUM),t.logger||(t.logger=new o.default("BackgroundBlurProcessor",a.default.INFO)),t=super.resolveOptions(t)}static isSupported(e,t){return e=f.resolveSpec(e),t=f.resolveOptions(t),super.isSupported(e,t)}}t.default=f},70687:(e,t)=>{t.SAME=0,t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},70790:(e,t,i)=>{"use strict";i.d(t,{f:()=>s});let n=new Date,r=new Date;function s(e,t,i,o){function a(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=e=>{let t=a(e),i=a.ceil(e);return e-t<i-e?t:i},a.offset=(e,i)=>(t(e=new Date(+e),null==i?1:Math.floor(i)),e),a.range=(i,n,r)=>{let s,o=[];if(i=a.ceil(i),r=null==r?1:Math.floor(r),!(i<n)||!(r>0))return o;do o.push(s=new Date(+i)),t(i,r),e(i);while(s<i&&i<n);return o},a.filter=i=>s(t=>{if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!i(e););else for(;--n>=0;)for(;t(e,1),!i(e););}),i&&(a.count=(t,s)=>(n.setTime(+t),r.setTime(+s),e(n),e(r),Math.floor(i(n,r))),a.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?a.filter(o?t=>o(t)%e==0:t=>a.count(0,t)%e==0):a:null),a}},70866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},70965:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(25927);class r{constructor(e,t,i,n){this.userArn=e,this.messagingSessionId=t,this.endpointUrl=i,this.chimeClient=n,this.reconnectTimeoutMs=1e4,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1e3,this.reconnectLongBackoffMs=5e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}generateSessionId(){let e=new Uint32Array(1);return n.getRandomValues(e),e[0].toString()}}t.default=r},71089:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(1188),s=i(45274);class o extends s.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.channelCountMode="explicit",this.channelCount=1;let{modelURL:i,audioBufferURL:n,worker:s,fetchBehavior:o,delegate:a}=t;this.delegate=a,this.worker=s,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);let{enabled:l,agc:u,supportFarendStream:d}=t.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:16e3===e.sampleRate?160:480,enabled:l,agc:u,fetchBehavior:o,model:i,supportFarendStream:d});let c=(0,r.supportsWASMPostMessage)(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:c,key:"buffer",fetchBehavior:o,path:n})}enable(){return n(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return n(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}setMode(e){return n(this,void 0,void 0,function*(){this.port.postMessage({message:"set-mode",mode:e})})}stop(){return n(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch(e){}this.disconnect()})}getModelMetrics(){}onWorkerMessage(e){var t;let i=e.data;switch(i.message){case"ready":this.port.postMessage({message:"ready",shared:i.shared},i.shared?Object.values(i.shared):[]);break;case"data":if(!i.buffer)return;this.port.postMessage({message:"data",buffer:i.buffer},[i.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":case"processing":this.port.postMessage(i);break;case"cpu":null==(t=this.delegate)||t.onCPUWarning();break;default:return}}onProcessorMessage(e){var t;let i=e.data;switch(i.message){case"data":if(!i.buffer)return;this.worker.postMessage({message:"data",buffer:i.buffer},[i.buffer]);break;case"cpu":null==(t=this.delegate)||t.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(i);break;default:return}}}t.default=o},71243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}}t.default=i},71414:(e,t,i)=>{"use strict";i.d(t,{$J:()=>ee,AG:()=>e_,DC:()=>Y,Dk:()=>eP,E_:()=>eF,Er:()=>ej,F5:()=>eA,FG:()=>k,FK:()=>ev,G8:()=>eW,GK:()=>$,H_:()=>es,Hq:()=>Z,IY:()=>eD,Ih:()=>o,KS:()=>e$,L4:()=>h,LX:()=>V,M8:()=>eT,MH:()=>b,O3:()=>eU,O4:()=>a,Ob:()=>en,QQ:()=>eV,Qy:()=>eL,RA:()=>eE,RP:()=>A,RQ:()=>p,Ry:()=>eh,Sg:()=>U,Sp:()=>em,Sz:()=>eb,TU:()=>F,U1:()=>ed,Uk:()=>q,VD:()=>eq,VG:()=>m,VP:()=>et,Vs:()=>J,Vv:()=>P,Vz:()=>y,W7:()=>x,WO:()=>G,X6:()=>c,Yz:()=>W,ZT:()=>d,Zb:()=>eM,Zx:()=>Q,_o:()=>B,a9:()=>T,aH:()=>ey,aO:()=>H,aS:()=>eo,aw:()=>eC,bT:()=>R,cb:()=>u,ep:()=>l,f:()=>eO,fD:()=>L,fy:()=>N,g6:()=>ew,gZ:()=>ex,hj:()=>ez,hx:()=>eH,jG:()=>_,jl:()=>eR,k9:()=>eN,kA:()=>g,ku:()=>s,ld:()=>f,lp:()=>E,m_:()=>X,n:()=>v,nL:()=>er,nT:()=>w,o$:()=>eu,o0:()=>eS,og:()=>D,pG:()=>ef,q:()=>O,qb:()=>K,qj:()=>ec,qs:()=>j,rq:()=>ep,tW:()=>ei,uP:()=>C,ul:()=>eB,vf:()=>eI,vs:()=>el,vw:()=>I,wR:()=>z,x$:()=>S,x9:()=>eg,xB:()=>M,yc:()=>ea,zJ:()=>ek});var n=i(4694),r=i(96041);let s={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},o={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},a={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class l extends r.P{constructor(e){super({name:"BadRequestException",$fault:"client",...e}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,l.prototype),this.Code=e.Code,this.Message=e.Message}}class u extends r.P{constructor(e){super({name:"ConflictException",$fault:"client",...e}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,u.prototype),this.Code=e.Code,this.Message=e.Message}}class d extends r.P{constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,d.prototype),this.Code=e.Code,this.Message=e.Message}}class c extends r.P{constructor(e){super({name:"NotFoundException",$fault:"client",...e}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,c.prototype),this.Code=e.Code,this.Message=e.Message}}class h extends r.P{constructor(e){super({name:"ServiceFailureException",$fault:"server",...e}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,h.prototype),this.Code=e.Code,this.Message=e.Message}}class f extends r.P{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,f.prototype),this.Code=e.Code,this.Message=e.Message}}class p extends r.P{constructor(e){super({name:"ThrottledClientException",$fault:"client",...e}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,p.prototype),this.Code=e.Code,this.Message=e.Message}}class m extends r.P{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,m.prototype),this.Code=e.Code,this.Message=e.Message}}class g extends r.P{constructor(e){super({name:"ResourceLimitExceededException",$fault:"client",...e}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,g.prototype),this.Code=e.Code,this.Message=e.Message}}let v={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},y={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},b={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},S={ASYNC:"ASYNC"},w={ABORT:"ABORT",CONTINUE:"CONTINUE"},C={DEFAULT:"DEFAULT",VOIP:"VOIP"},x={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},k={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},A={CONTROL:"CONTROL",STANDARD:"STANDARD"},E={Channel:"Channel",ChannelMessage:"ChannelMessage"},M={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},T={MEMBERS:"MEMBERS"},_={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},P=e=>({...e,...e.Name&&{Name:n.$H}}),I=e=>({...e,...e.InvitedBy&&{InvitedBy:P(e.InvitedBy)},...e.Members&&{Members:e.Members.map(e=>P(e))}}),R=e=>({...e,...e.BatchChannelMemberships&&{BatchChannelMemberships:I(e.BatchChannelMemberships)}}),O=e=>({...e,...e.Name&&{Name:n.$H},...e.Metadata&&{Metadata:n.$H},...e.CreatedBy&&{CreatedBy:P(e.CreatedBy)}}),D=e=>({...e,...e.Name&&{Name:n.$H},...e.Metadata&&{Metadata:n.$H}}),L=e=>({...e,...e.Member&&{Member:P(e.Member)},...e.CreatedBy&&{CreatedBy:P(e.CreatedBy)}}),N=e=>({...e,...e.Member&&{Member:P(e.Member)}}),F=e=>({...e,...e.Name&&{Name:n.$H}}),B=e=>({...e,...e.Processors&&{Processors:e.Processors.map(e=>F(e))},...e.Name&&{Name:n.$H}}),V=e=>({...e,...e.StringValues&&{StringValues:n.$H}}),U=e=>({...e,...e.Title&&{Title:n.$H},...e.Body&&{Body:n.$H}}),z=e=>({...e,...e.Content&&{Content:n.$H},...e.Metadata&&{Metadata:n.$H},...e.PushNotification&&{PushNotification:U(e.PushNotification)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((e,[t,i])=>(e[t]=V(i),e),{})},...e.ContentType&&{ContentType:n.$H}}),j=e=>({...e,...e.ChannelMessage&&{ChannelMessage:z(e.ChannelMessage)}}),H=e=>({...e,...e.Name&&{Name:n.$H},...e.Processors&&{Processors:e.Processors.map(e=>F(e))}}),$=e=>({...e,...e.InvitedBy&&{InvitedBy:P(e.InvitedBy)},...e.Member&&{Member:P(e.Member)}}),W=e=>({...e,...e.Name&&{Name:n.$H},...e.Metadata&&{Metadata:n.$H}}),q=e=>({...e,...e.ChannelSummary&&{ChannelSummary:W(e.ChannelSummary)}}),G=e=>({...e,...e.FilterRule&&{FilterRule:n.$H}}),K=e=>({...e,...e.PushNotifications&&{PushNotifications:G(e.PushNotifications)}}),X=e=>({...e,...e.Member&&{Member:P(e.Member)}}),Y=e=>({...e,...e.Content&&{Content:n.$H},...e.Metadata&&{Metadata:n.$H},...e.Sender&&{Sender:P(e.Sender)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((e,[t,i])=>(e[t]=V(i),e),{})},...e.ContentType&&{ContentType:n.$H}}),J=e=>({...e,...e.Content&&{Content:n.$H},...e.Metadata&&{Metadata:n.$H},...e.Sender&&{Sender:P(e.Sender)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((e,[t,i])=>(e[t]=V(i),e),{})},...e.ContentType&&{ContentType:n.$H}}),Q=e=>({...e,...e.ChannelSummary&&{ChannelSummary:W(e.ChannelSummary)}}),Z=e=>({...e,...e.Moderator&&{Moderator:P(e.Moderator)},...e.CreatedBy&&{CreatedBy:P(e.CreatedBy)}}),ee=e=>({...e,...e.Moderator&&{Moderator:P(e.Moderator)}}),et=e=>({...e,...e.Key&&{Key:n.$H},...e.Value&&{Value:n.$H}}),ei=e=>({...e,...e.Name&&{Name:n.$H},...e.Metadata&&{Metadata:n.$H},...e.ClientRequestToken&&{ClientRequestToken:n.$H},...e.Tags&&{Tags:e.Tags.map(e=>et(e))},...e.ChannelId&&{ChannelId:n.$H}}),en=e=>({...e,...e.Member&&{Member:P(e.Member)}}),er=e=>({...e,...e.Processors&&{Processors:e.Processors.map(e=>F(e))},...e.Name&&{Name:n.$H},...e.Tags&&{Tags:e.Tags.map(e=>et(e))},...e.ClientRequestToken&&{ClientRequestToken:n.$H}}),es=e=>({...e,...e.Member&&{Member:P(e.Member)}}),eo=e=>({...e,...e.ChannelModerator&&{ChannelModerator:P(e.ChannelModerator)}}),ea=e=>({...e,...e.Channel&&{Channel:O(e.Channel)}}),el=e=>({...e,...e.ChannelBan&&{ChannelBan:L(e.ChannelBan)}}),eu=e=>({...e,...e.ChannelFlow&&{ChannelFlow:B(e.ChannelFlow)}}),ed=e=>({...e,...e.ChannelMembership&&{ChannelMembership:$(e.ChannelMembership)}}),ec=e=>({...e,...e.ChannelMembership&&{ChannelMembership:q(e.ChannelMembership)}}),eh=e=>({...e,...e.Channel&&{Channel:Q(e.Channel)}}),ef=e=>({...e,...e.ChannelModerator&&{ChannelModerator:Z(e.ChannelModerator)}}),ep=e=>({...e,...e.Member&&{Member:P(e.Member)},...e.Preferences&&{Preferences:K(e.Preferences)}}),em=e=>({...e,...e.ChannelMessage&&{ChannelMessage:Y(e.ChannelMessage)}}),eg=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),ev=e=>({...e,...e.NextToken&&{NextToken:n.$H},...e.ChannelBans&&{ChannelBans:e.ChannelBans.map(e=>N(e))}}),ey=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eb=e=>({...e,...e.ChannelFlows&&{ChannelFlows:e.ChannelFlows.map(e=>H(e))},...e.NextToken&&{NextToken:n.$H}}),eS=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),ew=e=>({...e,...e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map(e=>X(e))},...e.NextToken&&{NextToken:n.$H}}),eC=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),ex=e=>({...e,...e.ChannelMemberships&&{ChannelMemberships:e.ChannelMemberships.map(e=>q(e))},...e.NextToken&&{NextToken:n.$H}}),ek=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eA=e=>({...e,...e.NextToken&&{NextToken:n.$H},...e.ChannelMessages&&{ChannelMessages:e.ChannelMessages.map(e=>J(e))}}),eE=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eM=e=>({...e,...e.NextToken&&{NextToken:n.$H},...e.ChannelModerators&&{ChannelModerators:e.ChannelModerators.map(e=>ee(e))}}),eT=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),e_=e=>({...e,...e.Channels&&{Channels:e.Channels.map(e=>W(e))},...e.NextToken&&{NextToken:n.$H}}),eP=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eI=e=>({...e,...e.Channels&&{Channels:e.Channels.map(e=>D(e))},...e.NextToken&&{NextToken:n.$H}}),eR=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eO=e=>({...e,...e.Channels&&{Channels:e.Channels.map(e=>Q(e))},...e.NextToken&&{NextToken:n.$H}}),eD=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eL=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eN=e=>({...e,...e.Tags&&{Tags:e.Tags.map(e=>et(e))}}),eF=e=>({...e,...e.Preferences&&{Preferences:K(e.Preferences)}}),eB=e=>({...e,...e.Member&&{Member:P(e.Member)},...e.Preferences&&{Preferences:K(e.Preferences)}}),eV=e=>({...e,...e.NextToken&&{NextToken:n.$H}}),eU=e=>({...e,...e.Channels&&{Channels:e.Channels.map(e=>W(e))},...e.NextToken&&{NextToken:n.$H}}),ez=e=>({...e,...e.Content&&{Content:n.$H},...e.Metadata&&{Metadata:n.$H},...e.ClientRequestToken&&{ClientRequestToken:n.$H},...e.PushNotification&&{PushNotification:U(e.PushNotification)},...e.MessageAttributes&&{MessageAttributes:Object.entries(e.MessageAttributes).reduce((e,[t,i])=>(e[t]=V(i),e),{})},...e.ContentType&&{ContentType:n.$H}}),ej=e=>({...e,...e.Tags&&{Tags:e.Tags.map(e=>et(e))}}),eH=e=>({...e,...e.TagKeys&&{TagKeys:n.$H}}),e$=e=>({...e,...e.Name&&{Name:n.$H},...e.Metadata&&{Metadata:n.$H}}),eW=e=>({...e,...e.Processors&&{Processors:e.Processors.map(e=>F(e))},...e.Name&&{Name:n.$H}}),eq=e=>({...e,...e.Content&&{Content:n.$H},...e.Metadata&&{Metadata:n.$H},...e.ContentType&&{ContentType:n.$H}})},71450:(e,t,i)=>{"use strict";var n;i.d(t,{H:()=>s}),function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"}(n||(n={}));class r{constructor(e,t,i){var r,s,o,a,l,u,d,c,h,f,p,m,g,v,y;this._closedByUser=!1,this.handleOpenEvent=e=>this.handleEvent(n.open,e),this.handleErrorEvent=e=>this.handleEvent(n.error,e),this.handleCloseEvent=e=>this.handleEvent(n.close,e),this.handleMessageEvent=e=>this.handleEvent(n.message,e),this._url=e,this._protocols=t,this._options={buffer:null==i?void 0:i.buffer,retry:{maxRetries:null==(r=null==i?void 0:i.retry)?void 0:r.maxRetries,instantReconnect:null==(s=null==i?void 0:i.retry)?void 0:s.instantReconnect,backoff:null==(o=null==i?void 0:i.retry)?void 0:o.backoff},listeners:{open:[...null!=(l=null==(a=null==i?void 0:i.listeners)?void 0:a.open)?l:[]],close:[...null!=(d=null==(u=null==i?void 0:i.listeners)?void 0:u.close)?d:[]],error:[...null!=(h=null==(c=null==i?void 0:i.listeners)?void 0:c.error)?h:[]],message:[...null!=(p=null==(f=null==i?void 0:i.listeners)?void 0:f.message)?p:[]],retry:[...null!=(g=null==(m=null==i?void 0:i.listeners)?void 0:m.retry)?g:[]],reconnect:[...null!=(y=null==(v=null==i?void 0:i.listeners)?void 0:v.reconnect)?y:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(e){this._underlyingWebsocket.binaryType=e}send(e){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(e):void 0!==this.buffer&&this.buffer.add(e))}close(e,t){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(e,t)}addEventListener(e,t,i){this._options.listeners[e].push({listener:t,options:i})}removeEventListener(e,t,i){let n=e=>e.listener!==t||e.options!==i;this._options.listeners[e]=this._options.listeners[e].filter(n)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(n.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(n.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(n.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(n.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(n.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(n.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(n.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(n.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(e,t){let i=this._options.listeners[e],n=[];i.forEach(({listener:e,options:i})=>{e(this,t),void 0!==i&&void 0!==i.once&&i.once||n.push({listener:e,options:i})}),this._options.listeners[e]=n}handleEvent(e,t){switch(e){case n.close:this.dispatchEvent(e,t),this.scheduleConnectionRetryIfNeeded();break;case n.open:if(void 0!==this.backoff&&void 0!==this._lastConnection){let e={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},t=new CustomEvent(n.reconnect,{detail:e});this.dispatchEvent(n.reconnect,t),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(e,t),this.sendBufferedData();break;case n.retry:this.dispatchEvent(e,t),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(e,t)}}sendBufferedData(){if(void 0!==this.buffer)for(let e=this.buffer.read();void 0!==e;e=this.buffer.read())this.send(e)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||void 0===this.backoff)return;let e=e=>{let t=new CustomEvent(n.retry,{detail:e});this.handleEvent(n.retry,t)},t={backoff:!0===this._options.retry.instantReconnect?0:this.backoff.next(),retries:!0===this._options.retry.instantReconnect?0:this.backoff.retries,lastConnection:this._lastConnection};(void 0===this._options.retry.maxRetries||t.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>e(t),t.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class s{constructor(e){this._url=e}get url(){return this._url}withProtocols(e){return this._protocols=e,this}get protocols(){return this._protocols}withMaxRetries(e){var t;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null==(t=this._options)?void 0:t.retry),{maxRetries:e})}),this}get maxRetries(){var e,t;return null==(t=null==(e=this._options)?void 0:e.retry)?void 0:t.maxRetries}withInstantReconnect(e){var t;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null==(t=this._options)?void 0:t.retry),{instantReconnect:e})}),this}get instantReconnect(){var e,t;return null==(t=null==(e=this._options)?void 0:e.retry)?void 0:t.instantReconnect}withBackoff(e){var t;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},null==(t=this._options)?void 0:t.retry),{backoff:e})}),this}get backoff(){var e,t;return null==(t=null==(e=this._options)?void 0:e.retry)?void 0:t.backoff}withBuffer(e){return this._options=Object.assign(Object.assign({},this._options),{buffer:e}),this}get buffer(){var e;return null==(e=this._options)?void 0:e.buffer}onOpen(e,t){return this.addListener(n.open,e,t),this}onClose(e,t){return this.addListener(n.close,e,t),this}onError(e,t){return this.addListener(n.error,e,t),this}onMessage(e,t){return this.addListener(n.message,e,t),this}onRetry(e,t){return this.addListener(n.retry,e,t),this}onReconnect(e,t){return this.addListener(n.reconnect,e,t),this}build(){return new r(this._url,this._protocols,this._options)}addListener(e,t,i){var n,r,s,o,a,l,u,d,c,h,f,p,m,g,v,y,b,S,w,C,x;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:null!=(s=null==(r=null==(n=this._options)?void 0:n.listeners)?void 0:r.open)?s:[],close:null!=(l=null==(a=null==(o=this._options)?void 0:o.listeners)?void 0:a.close)?l:[],error:null!=(c=null==(d=null==(u=this._options)?void 0:u.listeners)?void 0:d.error)?c:[],message:null!=(p=null==(f=null==(h=this._options)?void 0:h.listeners)?void 0:f.message)?p:[],retry:null!=(v=null==(g=null==(m=this._options)?void 0:m.listeners)?void 0:g.retry)?v:[],reconnect:null!=(S=null==(b=null==(y=this._options)?void 0:y.listeners)?void 0:b.reconnect)?S:[],[e]:[...null!=(x=null==(C=null==(w=this._options)?void 0:w.listeners)?void 0:C[e])?x:[],{listener:t,options:i}]}}),this}}},71537:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(23521)),o=r(i(76234));class a extends o.default{constructor(e){super(e.logger),this.context=e,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return n(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(e){throw e}finally{for(let e of this.context.removableObservers)e.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);let e=this.context.videoTileController.getLocalVideoTile();e&&e.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((e,t)=>{class i{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(t){t.type===s.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),e())}}let n=new i(this.context.signalingClient);this.taskCanceler=n,this.context.signalingClient.registerObserver(n)})}}t.default=a},71653:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994)),o=r(i(35856));class a{constructor(e,t,i,n=new s.default){this.logger=e,this.device=t,this.processors=i,this.browserBehavior=n,this.observers=new Set,this.pipe=new o.default(this.logger,this.processors),this.pipe.addObserver(this)}get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(e){if(this.pipe.processors)for(let t of this.pipe.processors)"function"==typeof t.setEventController&&t.setEventController(e)}chooseNewInnerDevice(e){let t=new a(this.logger,e,this.processors,this.browserBehavior);return t.pipe=this.pipe,t}getInnerDevice(){return this.device}intrinsicDevice(){return n(this,void 0,void 0,function*(){return this.device})}transformStream(e){return n(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(e),this.inputMediaStream=e,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");let e=this.device&&this.device.id;if(this.pipe.stop(),!e&&this.inputMediaStream)for(let e of this.inputMediaStream.getVideoTracks())e.stop()}stop(){return n(this,void 0,void 0,function*(){if(this.inputMediaStream)for(let e of this.inputMediaStream.getVideoTracks())e.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(e=>{e.processingDidStart&&e.processingDidStart()})}processingLatencyTooHigh(e){this.forEachObserver(t=>{t.processingLatencyTooHigh&&t.processingLatencyTooHigh(e)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(e=>{e.processingDidFailToStart&&e.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(e=>{e.processingDidStop&&e.processingDidStop()})}forEachObserver(e){for(let t of this.observers)setTimeout(()=>{e(t)},0)}get framerate(){return this.pipe.framerate}set framerate(e){this.pipe.framerate=e}}t.default=a},71716:(e,t,i)=>{"use strict";function n(e,t){return e*=1,t*=1,function(i){return e*(1-i)+t*i}}i.d(t,{A:()=>n})},71729:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(i(56716));function s(e,t){var i=null;if(!e||"string"!=typeof e)return i;var n=(0,r.default)(e),s="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,r=e.value;s?t(n,r,e):r&&((i=i||{})[n]=r)}}),i}},72034:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"m9.56 8-2-2-4.15-4.14L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.55-.18L19.73 21l1.41-1.41-8.86-8.86zM5 16V8h1.73l8 8zm10-8v2.61l6 6V6.5l-4 4V7c0-.55-.45-1-1-1h-5.61l2 2z"}),"VideocamOffOutlined")},72127:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class n{process(e){return i(this,void 0,void 0,function*(){return e})}destroy(){return i(this,void 0,void 0,function*(){})}}t.default=n},72828:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;let n=i(4163);t.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";class r{constructor(e){this.realtimeController=e,this.transcriptEventCallbacks=new Set}subscribeToTranscriptEvent(e){0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC,e=>{for(let t of n.TranscriptEventConverter.from(e))for(let e of this.transcriptEventCallbacks)e(t)}),this.transcriptEventCallbacks.add(e)}unsubscribeFromTranscriptEvent(e){this.transcriptEventCallbacks.delete(e),0===this.transcriptEventCallbacks.size&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(t.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}t.default=r},73224:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(12115),r=i(2821),s=i(37659),o=i(35934),a=i(49714),l=i(57179),u=i(80317),d=i(13053),c=i(81421);function h(e){return(0,c.Ay)("MuiDialogContentText",e)}(0,d.A)("MuiDialogContentText",["root"]);var f=i(95155);let p=e=>{let{classes:t}=e,i={root:["root"]},n=(0,s.A)(i,h,t);return{...t,...n}},m=(0,a.Ay)(u.A,{shouldForwardProp:e=>(0,o.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root"})({}),g=n.forwardRef(function(e,t){let i=(0,l.b)({props:e,name:"MuiDialogContentText"}),{children:n,className:s,...o}=i,a=p(o);return(0,f.jsx)(m,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:o,className:(0,r.A)(a.root,s),...i,classes:a})})},73266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}}t.default=i},73303:(e,t,i)=>{"use strict";function n(e){return+e}i.d(t,{A:()=>n})},73595:(e,t,i)=>{"use strict";function n(e){return function(){return e}}i.d(t,{A:()=>n})},73719:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(36243);class r{constructor(e,t,i,n,r){this.audioVideoController=e,this.realtimeController=t,this.connectionHealthData=i,this.pingPong=n,this.statsCollector=r,this.isActive=!1,this.hasSeenValidCandidatePairMetricsBefore=!1,this.lastTotalBytesReceived=0,this.lastTotalStunMessagesReceived=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(e=>{this.isActive&&this.receiveSignalStrengthChange(e)})}start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(e){0===e?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):e<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(e,t,i){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",t),this.statsCollector.logLatency("ping_pong_clock_skew",i),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(e){let t=0,i=0,n=e.getObservableMetrics(),r=n.audioPacketsReceived,s=n.audioPacketsReceivedFractionLoss,o=n.audioSpeakerDelayMs;"number"!=typeof o||isNaN(o)||this.connectionHealthData.setAudioSpeakerDelayMs(o);let a=e.getRTCStatsReport(),l=0,u=0;a.forEach(e=>{"candidate-pair"===e.type&&(e.bytesReceived&&(l+=e.bytesReceived),e.requestsReceived&&(u+=e.requestsReceived),e.responsesReceived&&(u+=e.responsesReceived))});let d=l-this.lastTotalBytesReceived;this.lastTotalBytesReceived=l;let c=u-this.lastTotalStunMessagesReceived;if(this.lastTotalStunMessagesReceived=u,"number"==typeof r&&"number"==typeof s)t=r,i=s,t<0||i<0||d<0||c<0||(this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,t),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,i),d>0||c>0?(this.hasSeenValidCandidatePairMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidCandidatePairMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(0===t||i>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),"number"==typeof n.audioPacketsSent&&this.updateAudioPacketsSentInConnectionHealth(n.audioPacketsSent),this.updateVideoEncodingHealth(e),this.updateConnectionHealth())}updateAudioPacketsSentInConnectionHealth(e){e>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}updateVideoEncodingHealth(e){let t=this.audioVideoController.videoTileController.hasStartedLocalVideoTile(),i=e.getVideoUpstreamSsrcs();if(!t||0===i.length){this.connectionHealthData.setIsVideoEncoderHardware(!1),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(0),this.connectionHealthData.setCpuLimitationDuration(0),this.connectionHealthData.setVideoInputFps(0),this.connectionHealthData.setVideoEncodeFps(0);return}let n=!1,r=0,s=0,o=0,a=0;for(let t of i)n||(n=!!e.getObservableVideoMetricValue("videoUpstreamEncoderImplementation",t)),r+=e.getObservableVideoMetricValue("videoUpstreamTotalEncodeTimePerSecond",t),s+=e.getObservableVideoMetricValue("videoUpstreamCpuQualityLimitationDurationPerSecond",t),o+=e.getObservableVideoMetricValue("videoUpstreamFramesInputPerSecond",t),a+=e.getObservableVideoMetricValue("videoUpstreamFramesEncodedPerSecond",t);let l=a>0?r/a:0;this.connectionHealthData.setIsVideoEncoderHardware(!!n),this.connectionHealthData.setVideoEncodingTimeInMs(r),this.connectionHealthData.setVideoEncodingTimePerFrameInMs(l),this.connectionHealthData.setCpuLimitationDuration(s),this.connectionHealthData.setVideoInputFps(o),this.connectionHealthData.setVideoEncodeFps(a)}addToMinuteWindow(e,t){e.unshift(t),e.length>60&&e.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(e=>{n.Maybe.of(e.connectionHealthDidChange).map(t=>t.bind(e)(this.connectionHealthData.clone()))})}}t.default=r},73876:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(61994)),s=n(i(68590)),o=n(i(9052));class a{constructor(e,t,i,n,r){this.tileController=i,this.devicePixelRatioMonitor=n,this.resolutionMonitor=r,this.tileState=new o.default,this.tileState.tileId=e,this.tileState.localTile=t,this.devicePixelRatioMonitor.registerObserver(this)}static connectVideoStreamToVideoElement(e,t,i){let n=i&&"environment"!==e.getVideoTracks()[0].getSettings().facingMode?"rotateY(180deg)":"";if(a.setVideoElementFlag(t,"disablePictureInPicture",i),a.setVideoElementFlag(t,"disableRemotePlayback",i),t.style.transform!==n&&(t.style.transform=n),t.hasAttribute("controls")&&t.removeAttribute("controls"),t.hasAttribute("autoplay")||t.setAttribute("autoplay","true"),t.hasAttribute("playsinline")||t.setAttribute("playsinline","true"),t.hasAttribute("muted")||(t.setAttribute("muted","true"),t.muted=!0),t.srcObject!==e&&(t.srcObject=e,new r.default().requiresVideoPlayWorkaround()&&t.paused)){let e=t.play();void 0!==e&&e.catch(e=>{console.warn("Error playing video in Safari",e)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(e,t,i=!1){if(e)if(t)i||(e.srcObject=null,e.style.transform="");else{if(!e.srcObject)return;e.pause(),e.style.transform="",a.setVideoElementFlag(e,"disablePictureInPicture",!1),a.setVideoElementFlag(e,"disableRemotePlayback",!1),e.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&a.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new o.default}devicePixelRatioChanged(e){this.tileState.devicePixelRatio=e,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(e,t,i,n,r,o,a,l){let u=!1;this.tileState.boundAttendeeId!==e&&(this.tileState.boundAttendeeId=e,new s.default(e).hasModality(s.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),u=!0),this.tileState.boundExternalUserId!==a&&(this.tileState.boundExternalUserId=a,u=!0),this.tileState.localTile!==t&&(this.tileState.localTile=t,u=!0),this.tileState.boundVideoStream!==i&&(this.tileState.boundVideoStream=i,u=!0),this.tileState.videoStreamContentWidth!==n&&(this.tileState.videoStreamContentWidth=n,u=!0),this.tileState.videoStreamContentHeight!==r&&(this.tileState.videoStreamContentHeight=r,u=!0),this.tileState.streamId!==o&&(this.tileState.streamId=o,u=!0),this.tileState.groupId!==l&&(this.tileState.groupId=l,u=!0),u&&this.sendTileStateUpdate()}bindVideoElement(e){var t;let i=!1;this.tileState.boundVideoElement!==e&&(this.tileState.boundVideoElement=e,null==(t=this.resolutionMonitor)||t.bindVideoElement(this.tileState.boundVideoElement),i=!0),null!==this.tileState.boundVideoElement?(this.tileState.videoElementCSSWidthPixels!==e.clientWidth&&(this.tileState.videoElementCSSWidthPixels=e.clientWidth,i=!0),this.tileState.videoElementCSSHeightPixels!==e.clientHeight&&(this.tileState.videoElementCSSHeightPixels=e.clientHeight,i=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),i&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return!this.tileState.poorConnection&&(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return!!this.tileState.poorConnection&&(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0)}capture(){if(!this.tileState.active)return null;let e=document.createElement("canvas"),t=this.tileState.boundVideoElement;e.width=t.videoWidth||t.width,e.height=t.videoHeight||t.height;let i=e.getContext("2d");return i.drawImage(t,0,0,e.width,e.height),i.getImageData(0,0,e.width,e.height)}setStreamId(e){this.tileState.streamId=e,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){"number"==typeof this.tileState.videoElementCSSWidthPixels&&"number"==typeof this.tileState.videoElementCSSHeightPixels?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?a.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):a.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(e,t,i){t in e&&(e[t]=i)}}t.default=a},74095:(e,t,i)=>{"use strict";i.d(t,{Fq:()=>a,JJ:()=>s,MP:()=>u,Nm:()=>o,Pv:()=>l,Tt:()=>n,rR:()=>r});let n=1e3,r=6e4,s=36e5,o=864e5,a=6048e5,l=2592e6,u=31536e6},74278:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(75585));class s{constructor(...e){this._loggers=e}info(e){for(let t of this._loggers)t.info(e)}warn(e){for(let t of this._loggers)t.warn(e)}error(e){for(let t of this._loggers)t.error(e)}debug(e){let t,i;for(let n of(i="string"==typeof e?e:e?()=>(t||(t=e()),t):""+e,this._loggers))n.debug(i)}setLogLevel(e){for(let t of this._loggers)t.setLogLevel(e)}getLogLevel(){for(let e of this._loggers)return e.getLogLevel();return r.default.OFF}}t.default=s},74449:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerTransitionResult=void 0,function(e){e[e.Transitioned=0]="Transitioned",e[e.NoTransitionAvailable=1]="NoTransitionAvailable",e[e.DeferredTransition=2]="DeferredTransition",e[e.TransitionFailed=3]="TransitionFailed"}(i=t.SessionStateControllerTransitionResult||(t.SessionStateControllerTransitionResult={})),t.default=i},74468:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(1188),s=i(45274),o=5e3,a=5e3;class l extends s.VoiceFocusAudioWorkletNode{constructor(e,t){super(e,t.processor,t),this.cpuWarningCount=0,this.metrics={latencyMillisAverage:0,snr:{average:0,averageActive:0,variance:0,varianceActive:0},drr:{average:0,variance:0,averageActive:0,varianceActive:0},vad:{average:0},cpu:{lateInvoke:0,longInvoke:0}},this.channelCountMode="explicit",this.channelCount=1;let{modelURL:i,worker:n,fetchBehavior:s,logger:o,delegate:a}=t;this.logger=o,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=a,o&&o.debug("VoiceFocusInlineNode:",i),this.worker=n,this.worker.onmessage=this.onWorkerMessage.bind(this);let l=(0,r.supportsWASMPostMessage)(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:l,key:"model",fetchBehavior:s,path:i})}onModuleBufferLoaded(e,t){this.port.postMessage({message:"module-buffer",buffer:e,key:t})}onModuleLoaded(e,t){this.port.postMessage({message:"module",module:e,key:t})}enable(){return n(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return n(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}setMode(e){return n(this,void 0,void 0,function*(){this.port.postMessage({message:"set-mode",mode:e})})}stop(){var e;return n(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{null==(e=this.worker)||e.terminate()}catch(e){console.error("failed to terminate worker:",e)}this.disconnect()})}onProcessorMessage(e){var t,i,n,r,s,l;let{data:u}=e,{message:d}=u;switch(d){case"cpu":let{reason:c,count:h}=u;c&&h&&(this.metrics.cpu=Object.assign(Object.assign({},this.metrics.cpu),{[c]:h+this.metrics.cpu[c]})),this.cpuWarningCount++;let f=Date.now(),p=this.cpuWarningLastTriggered||f,m=Math.abs(f-p);(!this.cpuWarningLastTriggered||m>o)&&(null==(t=this.logger)||t.warn(`CPU warning (count: ${this.cpuWarningCount}):`,d),this.cpuWarningCount=0,this.cpuWarningLastTriggered=f),null==(i=this.delegate)||i.onCPUWarning();break;case"metrics":let{metrics:g}=u;if(!g){null==(n=this.logger)||n.warn("Got metrics message but no metrics payload");break}if(this.metrics=Object.assign(Object.assign({},this.metrics),g),this.logger){let e=Date.now();e-(null!=(r=this.metricsLastRecorded)?r:0)>a&&(null==(s=this.logger)||s.debug("Contact metrics:",this.metrics),this.metricsLastRecorded=e)}break;default:null==(l=this.logger)||l.debug("Ignoring processor message.")}}getModelMetrics(){return this.metrics}onWorkerMessage(e){let t=e.data;switch(t.message){case"module-buffer":if(!t.buffer||!t.key)return;this.onModuleBufferLoaded(t.buffer,t.key);break;case"module":if(!t.module||!t.key)return;this.onModuleLoaded(t.module,t.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}t.default=l},74500:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioInputFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied"}(i=t.CheckAudioInputFeedback||(t.CheckAudioInputFeedback={})),t.default=i},74577:(e,t,i)=>{"use strict";let n;i.d(t,{xO:()=>er,Ay:()=>ea});var r=i(12115),s=i(2821),o=i(37659),a=i(53097),l=i(36786),u=i(22101),d=i(34141),c=i(89557),h=i(82177),f=i(85807),p=i(59007),m=i(38835),g=i(18485),v=i(38781),y=i(571);let b=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every((e,n)=>i(e,t[n]))},S=2;function w(e,t,i,n,r){return 1===i?Math.min(e+t,r):Math.max(e-t,n)}function C(e,t){return e-t}function x(e,t){var i;let{index:n}=null!=(i=e.reduce((e,i,n)=>{let r=Math.abs(t-i);return null===e||r<e.distance||r===e.distance?{distance:r,index:n}:e},null))?i:{};return n}function k(e,t){if(void 0!==t.current&&e.changedTouches){let i=e;for(let e=0;e<i.changedTouches.length;e+=1){let n=i.changedTouches[e];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function A(e,t,i){return(e-t)*100/(i-t)}function E(e,t,i){return(i-t)*e+t}function M(e){if(1>Math.abs(e)){let t=e.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}let t=e.toString().split(".")[1];return t?t.length:0}function T(e,t,i){return Number((Math.round((e-i)/t)*t+i).toFixed(M(t)))}function _(e){let{values:t,newValue:i,index:n}=e,r=t.slice();return r[n]=i,r.sort(C)}function P(e){var t,i,n;let{sliderRef:r,activeIndex:s,setActive:o}=e,a=(0,d.A)(r.current);(null==(t=r.current)?void 0:t.contains(a.activeElement))&&Number(null==a||null==(i=a.activeElement)?void 0:i.getAttribute("data-index"))===s||null==(n=r.current)||n.querySelector('[type="range"][data-index="'.concat(s,'"]')).focus(),o&&o(s)}function I(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&b(e,t)}let R={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},O=e=>e;function D(){return void 0===n&&(n="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),n}function L(e){let t,{"aria-labelledby":i,defaultValue:n,disabled:s=!1,disableSwap:o=!1,isRtl:a=!1,marks:l=!1,max:u=100,min:b=0,name:M,onChange:L,onChangeCommitted:N,orientation:F="horizontal",rootRef:B,scale:V=O,step:U=1,shiftStep:z=10,tabIndex:j,value:H}=e,$=r.useRef(void 0),[W,q]=r.useState(-1),[G,K]=r.useState(-1),[X,Y]=r.useState(!1),J=r.useRef(0),Q=r.useRef(null),[Z,ee]=(0,c.A)({controlled:H,default:null!=n?n:b,name:"Slider"}),et=L&&((e,t,i)=>{let n=e.nativeEvent||e,r=new n.constructor(n.type,n);Object.defineProperty(r,"target",{writable:!0,value:{value:t,name:M}}),Q.current=t,L(r,t,i)}),ei=Array.isArray(Z),en=ei?Z.slice().sort(C):[Z];en=en.map(e=>null==e?b:(0,v.A)(e,b,u));let er=!0===l&&null!==U?[...Array(Math.floor((u-b)/U)+1)].map((e,t)=>({value:b+U*t})):l||[],es=er.map(e=>e.value),[eo,ea]=r.useState(-1),el=r.useRef(null),eu=(0,p.A)(B,el),ed=e=>t=>{var i;let n=Number(t.currentTarget.getAttribute("data-index"));(0,m.A)(t.target)&&ea(n),K(n),null==e||null==(i=e.onFocus)||i.call(e,t)},ec=e=>t=>{var i;(0,m.A)(t.target)||ea(-1),K(-1),null==e||null==(i=e.onBlur)||i.call(e,t)},eh=(e,t)=>{let i=Number(e.currentTarget.getAttribute("data-index")),n=en[i],r=es.indexOf(n),s=t;if(er&&null==U){let e=es[es.length-1];s=s>=e?e:s<=es[0]?es[0]:s<n?es[r-1]:es[r+1]}if(s=(0,v.A)(s,b,u),ei){o&&(s=(0,v.A)(s,en[i-1]||-1/0,en[i+1]||1/0));let e=s;s=_({values:en,newValue:s,index:i});let t=i;o||(t=s.indexOf(e)),P({sliderRef:el,activeIndex:t})}if(ee(s),ea(i),et&&!I(s,Z)&&et(e,s,i),N){var a;N(e,null!=(a=Q.current)?a:s)}},ef=e=>t=>{var i;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(t.key)){t.preventDefault();let e=en[Number(t.currentTarget.getAttribute("data-index"))],i=null;if(null!=U){let n=t.shiftKey?z:U;switch(t.key){case"ArrowUp":i=w(e,n,1,b,u);break;case"ArrowRight":i=w(e,n,a?-1:1,b,u);break;case"ArrowDown":i=w(e,n,-1,b,u);break;case"ArrowLeft":i=w(e,n,a?1:-1,b,u);break;case"PageUp":i=w(e,z,1,b,u);break;case"PageDown":i=w(e,z,-1,b,u);break;case"Home":i=b;break;case"End":i=u}}else if(er){let n=es[es.length-1],r=es.indexOf(e),s=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],o=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];s.includes(t.key)?i=0===r?es[0]:es[r-1]:o.includes(t.key)&&(i=r===es.length-1?n:es[r+1])}null!=i&&eh(t,i)}null==e||null==(i=e.onKeyDown)||i.call(e,t)};(0,h.A)(()=>{if(s&&el.current.contains(document.activeElement)){var e;null==(e=document.activeElement)||e.blur()}},[s]),s&&-1!==W&&q(-1),s&&-1!==eo&&ea(-1);let ep=e=>t=>{var i;null==(i=e.onChange)||i.call(e,t),eh(t,t.target.valueAsNumber)},em=r.useRef(void 0),eg=F;a&&"horizontal"===F&&(eg+="-reverse");let ev=e=>{let t,i,{finger:n,move:r=!1}=e,{current:s}=el,{width:a,height:l,bottom:d,left:c}=s.getBoundingClientRect();if(t=eg.startsWith("vertical")?(d-n.y)/l:(n.x-c)/a,eg.includes("-reverse")&&(t=1-t),i=E(t,b,u),U)i=T(i,U,b);else{let e=x(es,i);i=es[e]}i=(0,v.A)(i,b,u);let h=0;if(ei){h=r?em.current:x(en,i),o&&(i=(0,v.A)(i,en[h-1]||-1/0,en[h+1]||1/0));let e=i;i=_({values:en,newValue:i,index:h}),o&&r||(em.current=h=i.indexOf(e))}return{newValue:i,activeIndex:h}},ey=(0,f.A)(e=>{let t=k(e,$);if(!t)return;if(J.current+=1,"mousemove"===e.type&&0===e.buttons)return void eb(e);let{newValue:i,activeIndex:n}=ev({finger:t,move:!0});P({sliderRef:el,activeIndex:n,setActive:q}),ee(i),!X&&J.current>S&&Y(!0),et&&!I(i,Z)&&et(e,i,n)}),eb=(0,f.A)(e=>{let t=k(e,$);if(Y(!1),!t)return;let{newValue:i}=ev({finger:t,move:!0});if(q(-1),"touchend"===e.type&&K(-1),N){var n;N(e,null!=(n=Q.current)?n:i)}$.current=void 0,ew()}),eS=(0,f.A)(e=>{if(s)return;D()||e.preventDefault();let t=e.changedTouches[0];null!=t&&($.current=t.identifier);let i=k(e,$);if(!1!==i){let{newValue:t,activeIndex:n}=ev({finger:i});P({sliderRef:el,activeIndex:n,setActive:q}),ee(t),et&&!I(t,Z)&&et(e,t,n)}J.current=0;let n=(0,d.A)(el.current);n.addEventListener("touchmove",ey,{passive:!0}),n.addEventListener("touchend",eb,{passive:!0})}),ew=r.useCallback(()=>{let e=(0,d.A)(el.current);e.removeEventListener("mousemove",ey),e.removeEventListener("mouseup",eb),e.removeEventListener("touchmove",ey),e.removeEventListener("touchend",eb)},[eb,ey]);r.useEffect(()=>{let{current:e}=el;return e.addEventListener("touchstart",eS,{passive:D()}),()=>{e.removeEventListener("touchstart",eS),ew()}},[ew,eS]),r.useEffect(()=>{s&&ew()},[s,ew]);let eC=e=>t=>{var i;if(null==(i=e.onMouseDown)||i.call(e,t),s||t.defaultPrevented||0!==t.button)return;t.preventDefault();let n=k(t,$);if(!1!==n){let{newValue:e,activeIndex:i}=ev({finger:n});P({sliderRef:el,activeIndex:i,setActive:q}),ee(e),et&&!I(e,Z)&&et(t,e,i)}J.current=0;let r=(0,d.A)(el.current);r.addEventListener("mousemove",ey,{passive:!0}),r.addEventListener("mouseup",eb)},ex=A(ei?en[0]:b,b,u),ek=A(en[en.length-1],b,u)-ex,eA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,y.A)(e),i={onMouseDown:eC(t||{})},n={...t,...i};return{...e,ref:eu,...n}},eE=e=>t=>{var i;null==(i=e.onMouseOver)||i.call(e,t),K(Number(t.currentTarget.getAttribute("data-index")))},eM=e=>t=>{var i;null==(i=e.onMouseLeave)||i.call(e,t),K(-1)},eT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,y.A)(e),i={onMouseOver:eE(t||{}),onMouseLeave:eM(t||{})};return{...e,...t,...i}},e_=e=>({pointerEvents:-1!==W&&W!==e?"none":void 0});return"vertical"===F&&(t=a?"vertical-rl":"vertical-lr"),{active:W,axis:eg,axisProps:R,dragging:X,focusedThumbIndex:eo,getHiddenInputProps:function(){var n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,y.A)(r),l={onChange:ep(o||{}),onFocus:ed(o||{}),onBlur:ec(o||{}),onKeyDown:ef(o||{})},d={...o,...l};return{tabIndex:j,"aria-labelledby":i,"aria-orientation":F,"aria-valuemax":V(u),"aria-valuemin":V(b),name:M,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:s,...r,...d,style:{...g.A,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:t}}},getRootProps:eA,getThumbProps:eT,marks:er,open:G,range:ei,rootRef:eu,trackLeap:ek,trackOffset:ex,values:en,getThumbStyle:e_}}var N=i(52177),F=i(49714),B=i(62257),V=i(57179),U=i(98862);let z=e=>!e||!(0,N.A)(e);var j=i(70462),H=i(94040),$=i(13053),W=i(81421);function q(e){return(0,W.Ay)("MuiSlider",e)}let G=(0,$.A)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);var K=i(95155);let X=e=>{let{open:t}=e;return{offset:(0,s.A)(t&&G.valueLabelOpen),circle:G.valueLabelCircle,label:G.valueLabelLabel}};function Y(e){let{children:t,className:i,value:n}=e,o=X(e);return t?r.cloneElement(t,{className:t.props.className},(0,K.jsxs)(r.Fragment,{children:[t.props.children,(0,K.jsx)("span",{className:(0,s.A)(o.offset,i),"aria-hidden":!0,children:(0,K.jsx)("span",{className:o.circle,children:(0,K.jsx)("span",{className:o.label,children:n})})})]})):null}function J(e){return e}let Q=(0,F.Ay)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t["color".concat((0,j.A)(i.color))],"medium"!==i.size&&t["size".concat((0,j.A)(i.size))],i.marked&&t.marked,"vertical"===i.orientation&&t.vertical,"inverted"===i.track&&t.trackInverted,!1===i.track&&t.trackFalse]}})((0,B.A)(e=>{let{theme:t}=e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(G.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(G.dragging)]:{["& .".concat(G.thumb,", & .").concat(G.track)]:{transition:"none"}},variants:[...Object.entries(t.palette).filter((0,H.A)()).map(e=>{let[i]=e;return{props:{color:i},style:{color:(t.vars||t).palette[i].main}}}),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),Z=(0,F.Ay)("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ee=(0,F.Ay)("span",{name:"MuiSlider",slot:"Track"})((0,B.A)(e=>{let{theme:t}=e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter((0,H.A)()).map(e=>{let[i]=e;return{props:{color:i,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider["".concat(i,"Track")],borderColor:t.vars.palette.Slider["".concat(i,"Track")]}:{backgroundColor:(0,a.a)(t.palette[i].main,.62),borderColor:(0,a.a)(t.palette[i].main,.62),...t.applyStyles("dark",{backgroundColor:(0,a.e$)(t.palette[i].main,.5)}),...t.applyStyles("dark",{borderColor:(0,a.e$)(t.palette[i].main,.5)})}}}})]}})),et=(0,F.Ay)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.thumb,t["thumbColor".concat((0,j.A)(i.color))],"medium"!==i.size&&t["thumbSize".concat((0,j.A)(i.size))]]}})((0,B.A)(e=>{let{theme:t}=e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(G.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter((0,H.A)()).map(e=>{let[i]=e;return{props:{color:i},style:{["&:hover, &.".concat(G.focusVisible)]:{...t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[i].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,a.X4)(t.palette[i].main,.16))},"@media (hover: none)":{boxShadow:"none"}},["&.".concat(G.active)]:{...t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[i].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat((0,a.X4)(t.palette[i].main,.16))}}}}})]}})),ei=(0,F.Ay)(Y,{name:"MuiSlider",slot:"ValueLabel"})((0,B.A)(e=>{let{theme:t}=e;return{zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(G.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(G.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}})),en=(0,F.Ay)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>(0,U.A)(e)&&"markActive"!==e,overridesResolver:(e,t)=>{let{markActive:i}=e;return[t.mark,i&&t.markActive]}})((0,B.A)(e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),er=(0,F.Ay)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>(0,U.A)(e)&&"markLabelActive"!==e})((0,B.A)(e=>{let{theme:t}=e;return{...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}})),es=e=>{let{disabled:t,dragging:i,marked:n,orientation:r,track:s,classes:a,color:l,size:u}=e,d={root:["root",t&&"disabled",i&&"dragging",n&&"marked","vertical"===r&&"vertical","inverted"===s&&"trackInverted",!1===s&&"trackFalse",l&&"color".concat((0,j.A)(l)),u&&"size".concat((0,j.A)(u))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",u&&"thumbSize".concat((0,j.A)(u)),l&&"thumbColor".concat((0,j.A)(l))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,o.A)(d,q,a)},eo=e=>{let{children:t}=e;return t},ea=r.forwardRef(function(e,t){var i,n,o,a,d,c,h,f,p,m,g,v,y,b,S,w,C,x,k,E,M,T,_,P;let I=(0,V.b)({props:e,name:"MuiSlider"}),R=(0,l.I)(),{"aria-label":O,"aria-valuetext":D,"aria-labelledby":F,component:B="span",components:U={},componentsProps:j={},color:H="primary",classes:$,className:W,disableSwap:q=!1,disabled:G=!1,getAriaLabel:X,getAriaValueText:Y,marks:ea=!1,max:el=100,min:eu=0,name:ed,onChange:ec,onChangeCommitted:eh,orientation:ef="horizontal",shiftStep:ep=10,size:em="medium",step:eg=1,scale:ev=J,slotProps:ey,slots:eb,tabIndex:eS,track:ew="normal",value:eC,valueLabelDisplay:ex="off",valueLabelFormat:ek=J,...eA}=I,eE={...I,isRtl:R,max:el,min:eu,classes:$,disabled:G,disableSwap:q,orientation:ef,marks:ea,color:H,size:em,step:eg,shiftStep:ep,scale:ev,track:ew,valueLabelDisplay:ex,valueLabelFormat:ek},{axisProps:eM,getRootProps:eT,getHiddenInputProps:e_,getThumbProps:eP,open:eI,active:eR,axis:eO,focusedThumbIndex:eD,range:eL,dragging:eN,marks:eF,values:eB,trackOffset:eV,trackLeap:eU,getThumbStyle:ez}=L({...eE,rootRef:t});eE.marked=eF.length>0&&eF.some(e=>e.label),eE.dragging=eN,eE.focusedThumbIndex=eD;let ej=es(eE),eH=null!=(n=null!=(i=null==eb?void 0:eb.root)?i:U.Root)?n:Q,e$=null!=(a=null!=(o=null==eb?void 0:eb.rail)?o:U.Rail)?a:Z,eW=null!=(c=null!=(d=null==eb?void 0:eb.track)?d:U.Track)?c:ee,eq=null!=(f=null!=(h=null==eb?void 0:eb.thumb)?h:U.Thumb)?f:et,eG=null!=(m=null!=(p=null==eb?void 0:eb.valueLabel)?p:U.ValueLabel)?m:ei,eK=null!=(v=null!=(g=null==eb?void 0:eb.mark)?g:U.Mark)?v:en,eX=null!=(b=null!=(y=null==eb?void 0:eb.markLabel)?y:U.MarkLabel)?b:er,eY=null!=(w=null!=(S=null==eb?void 0:eb.input)?S:U.Input)?w:"input",eJ=null!=(C=null==ey?void 0:ey.root)?C:j.root,eQ=null!=(x=null==ey?void 0:ey.rail)?x:j.rail,eZ=null!=(k=null==ey?void 0:ey.track)?k:j.track,e0=null!=(E=null==ey?void 0:ey.thumb)?E:j.thumb,e1=null!=(M=null==ey?void 0:ey.valueLabel)?M:j.valueLabel,e2=null!=(T=null==ey?void 0:ey.mark)?T:j.mark,e5=null!=(_=null==ey?void 0:ey.markLabel)?_:j.markLabel,e3=null!=(P=null==ey?void 0:ey.input)?P:j.input,e4=(0,u.A)({elementType:eH,getSlotProps:eT,externalSlotProps:eJ,externalForwardedProps:eA,additionalProps:{...z(eH)&&{as:B}},ownerState:{...eE,...null==eJ?void 0:eJ.ownerState},className:[ej.root,W]}),e6=(0,u.A)({elementType:e$,externalSlotProps:eQ,ownerState:eE,className:ej.rail}),e8=(0,u.A)({elementType:eW,externalSlotProps:eZ,additionalProps:{style:{...eM[eO].offset(eV),...eM[eO].leap(eU)}},ownerState:{...eE,...null==eZ?void 0:eZ.ownerState},className:ej.track}),e9=(0,u.A)({elementType:eq,getSlotProps:eP,externalSlotProps:e0,ownerState:{...eE,...null==e0?void 0:e0.ownerState},className:ej.thumb}),e7=(0,u.A)({elementType:eG,externalSlotProps:e1,ownerState:{...eE,...null==e1?void 0:e1.ownerState},className:ej.valueLabel}),te=(0,u.A)({elementType:eK,externalSlotProps:e2,ownerState:eE,className:ej.mark}),tt=(0,u.A)({elementType:eX,externalSlotProps:e5,ownerState:eE,className:ej.markLabel}),ti=(0,u.A)({elementType:eY,getSlotProps:e_,externalSlotProps:e3,ownerState:eE});return(0,K.jsxs)(eH,{...e4,children:[(0,K.jsx)(e$,{...e6}),(0,K.jsx)(eW,{...e8}),eF.filter(e=>e.value>=eu&&e.value<=el).map((e,t)=>{let i,n=A(e.value,eu,el),o=eM[eO].offset(n);return i=!1===ew?eB.includes(e.value):"normal"===ew&&(eL?e.value>=eB[0]&&e.value<=eB[eB.length-1]:e.value<=eB[0])||"inverted"===ew&&(eL?e.value<=eB[0]||e.value>=eB[eB.length-1]:e.value>=eB[0]),(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(eK,{"data-index":t,...te,...!(0,N.A)(eK)&&{markActive:i},style:{...o,...te.style},className:(0,s.A)(te.className,i&&ej.markActive)}),null!=e.label?(0,K.jsx)(eX,{"aria-hidden":!0,"data-index":t,...tt,...!(0,N.A)(eX)&&{markLabelActive:i},style:{...o,...tt.style},className:(0,s.A)(ej.markLabel,tt.className,i&&ej.markLabelActive),children:e.label}):null]},t)}),eB.map((e,t)=>{let i=A(e,eu,el),n=eM[eO].offset(i),r="off"===ex?eo:eG;return(0,K.jsx)(r,{...!(0,N.A)(r)&&{valueLabelFormat:ek,valueLabelDisplay:ex,value:"function"==typeof ek?ek(ev(e),t):ek,index:t,open:eI===t||eR===t||"on"===ex,disabled:G},...e7,children:(0,K.jsx)(eq,{"data-index":t,...e9,className:(0,s.A)(ej.thumb,e9.className,eR===t&&ej.active,eD===t&&ej.focusVisible),style:{...n,...ez(t),...e9.style},children:(0,K.jsx)(eY,{"data-index":t,"aria-label":X?X(t):O,"aria-valuenow":ev(e),"aria-labelledby":F,"aria-valuetext":Y?Y(ev(e),t):D,value:eB[t],...ti})})},t)})]})})},74597:(e,t,i)=>{"use strict";n={value:!0},t.yD=t.n1=void 0;var n,r=i(20872);Object.defineProperty(t,"n1",{enumerable:!0,get:function(){return r.MediaPermissionsErrorType}}),Object.defineProperty(t,"yD",{enumerable:!0,get:function(){return r.requestMediaPermissions}})},74603:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19.04 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16h-14V5h14zm-6-2h2V7h-2v4h-2V7h-2v6h4z"}),"Looks4Outlined")},74850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i){this.fixedWaitMs=e,this.shortBackoffMs=t,this.longBackoffMs=i,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}reset(){this.currentRetry=0}nextBackoffAmountMs(){let e=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,e}}t.default=i},74886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n=[]){this.type="Meet",this.v=1,this.meetingId=e,this.attendeeId=t,this.eventsToIgnore=n,this.authenticationToken=i}getAuthenticationToken(){return this.authenticationToken}toJSON(){let e={};return e.type=this.type,e.v=this.v,e.meetingId=this.meetingId,e.attendeeId=this.attendeeId,e}}t.default=i},74923:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STARTED="started",e.INTERRUPTED="interrupted",e.RESUMED="resumed",e.STOPPED="stopped",e.FAILED="failed"}(i||(i={})),t.default=i},74962:(e,t,i)=>{"use strict";let n,r,s,o;i.d(t,{E:()=>l_});var a=i(88945),l=i(12115),u=i(12201),d=i(67810),c=i(49714),h=i(81421),f=i(37659),p=i(13053);function m(e){return(0,h.Ay)("MuiBarElement",e)}let g=(0,p.A)("MuiBarElement",["root","highlighted","faded","series"]),v=e=>{let{classes:t,id:i,isHighlighted:n,isFaded:r}=e,s={root:["root",`series-${i}`,n&&"highlighted",r&&"faded"]};return(0,f.A)(s,m,t)};var y=i(22101);let b=l.createContext(null),S=()=>{let e=l.useContext(b);if(null==e)throw Error("MUI X Charts: Could not find the Chart context.\nIt looks like you rendered your component outside of a ChartDataProvider.\nThis can also happen if you are bundling multiple versions of the library.");return e};function w(e){"hasPointerCapture"in e.currentTarget&&e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}let C=(e,t)=>{let{instance:i}=S(),n=l.useRef(!1),r=l.useCallback(()=>{n.current=!0,i.setItemInteraction({type:e.type,seriesId:e.seriesId,dataIndex:e.dataIndex}),i.setHighlight({seriesId:e.seriesId,dataIndex:e.dataIndex})},[i,e.type,e.seriesId,e.dataIndex]),s=l.useCallback(()=>{n.current=!1,i.removeItemInteraction({type:e.type,seriesId:e.seriesId,dataIndex:e.dataIndex}),i.clearHighlight()},[i,e.type,e.seriesId,e.dataIndex]);return(l.useEffect(()=>()=>{n.current&&s()},[s]),t)?{}:{onPointerEnter:r,onPointerLeave:s,onPointerDown:w}};function x(){let e=S();if(!e)throw Error("MUI X Charts: Could not find the charts context.\nIt looks like you rendered your component outside of a ChartContainer parent component.");return e.store}var k=i(8828);let A=Object.is,E=(e,t,i=[],n=A)=>{let r=e=>t(e,...i);return(0,k.useSyncExternalStoreWithSelector)(e.subscribe,e.getSnapshot,e.getSnapshot,r,n)};var M=i(76069);let T=(0,M.Ad)({memoize:M.i5,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),_=new WeakMap,P=(...e)=>(t,...i)=>{let n=t.cacheKey,r=_.get(n);r||(r=new Map,_.set(n,r));let s=r.get(e);if(s)return s(t,...i);let o=T(...e);return r.set(e,o),o(t,...i)};function I(){return!1}function R(e,t){return e&&t?function(i){return!!i&&("series"===e.highlight?i.seriesId===t.seriesId:"item"===e.highlight&&i.dataIndex===t.dataIndex&&i.seriesId===t.seriesId)}:I}function O(){return!1}function D(e,t){return e&&t?function(i){return!!i&&("series"===e.fade?i.seriesId===t.seriesId&&i.dataIndex!==t.dataIndex:"global"===e.fade&&(i.seriesId!==t.seriesId||i.dataIndex!==t.dataIndex))}:O}let L=e=>e.highlight,N=P([e=>e.series],e=>{let t=new Map;return Object.keys(e.processedSeries).forEach(i=>{let n=e.processedSeries[i];n?.seriesOrder?.forEach(e=>{let i=n?.series[e];t.set(e,i?.highlightScope)})}),t}),F=P([L],function(e){return e.item}),B=P([N,F],function(e,t){if(!t)return null;let i=e.get(t.seriesId);return void 0===i?null:i});P([B,F],R),P([B,F],D);let V=P([B,F,(e,t)=>t],function(e,t,i){return R(e,t)(i)}),U=P([B,F,(e,t)=>t],function(e,t,i){return D(e,t)(i)});function z(e){let t=x(),i=E(t,V,[e]),n=E(t,U,[e]);return{isHighlighted:i,isFaded:!i&&n}}var j=i(71716),H=i(59007),$=i(82177),W=i(75053);let q=300,G=W(.66,0,.34,1);var K,X,Y=0,J=0,Q=0,Z=1e3,ee=0,et=0,ei=0,en="object"==typeof performance&&performance.now?performance:Date,er="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function es(){return et||(er(eo),et=en.now()+ei)}function eo(){et=0}function ea(){this._call=this._time=this._next=null}function el(e,t,i){var n=new ea;return n.restart(e,t,i),n}function eu(){es(),++Y;for(var e,t=K;t;)(e=et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Y}function ed(){et=(ee=en.now())+ei,Y=J=0;try{eu()}finally{Y=0,eh(),et=0}}function ec(){var e=en.now(),t=e-ee;t>Z&&(ei-=t,ee=e)}function eh(){for(var e,t,i=K,n=1/0;i;)i._call?(n>i._time&&(n=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:K=t);X=e,ef(n)}function ef(e){if(!Y){J&&(J=clearTimeout(J));var t=e-et;t>24?(e<1/0&&(J=setTimeout(ed,e-en.now()-ei)),Q&&(Q=clearInterval(Q))):(Q||(ee=en.now(),Q=setInterval(ec,Z)),Y=1,er(ed))}}function ep(e,t,i){var n=new ea;return t=null==t?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,i),n}ea.prototype=el.prototype={constructor:ea,restart:function(e,t,i){if("function"!=typeof e)throw TypeError("callback is not a function");i=(null==i?es():+i)+(null==t?0:+t),this._next||X===this||(X?X._next=this:K=this,X=this),this._call=e,this._time=i,ef()},stop:function(){this._call&&(this._call=null,this._time=1/0,ef())}};class em{constructor(e,t,i){this.duration=void 0,this.elapsed=0,this.easingFn=void 0,this.timer=null,this.onTickCallback=void 0,this.duration=e,this.easingFn=t,this.onTickCallback=i,this.resume()}get running(){return null!==this.timer}timerCallback(e){this.elapsed=Math.min(e,this.duration);let t=0===this.duration?1:this.elapsed/this.duration,i=this.easingFn(t);this.onTickCallback(i),this.elapsed>=this.duration&&this.stop()}resume(){if(this.running||this.elapsed>=this.duration)return this;let e=es()-this.elapsed;return this.timer=el(e=>this.timerCallback(e),0,e),eu(),this}stop(){return this.running&&this.timer&&(this.timer.stop(),this.timer=null),this}finish(){return this.stop(),ep(()=>this.timerCallback(this.duration)),eu(),this}}function eg(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let n=0;n<i.length;n+=1){let r=i[n];if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1}return!0}function ev(e,t){let{createInterpolator:i,applyProps:n,skip:r,initialProps:s=e}=t,o=l.useRef(s),a=l.useRef(null),u=l.useRef(null),d=l.useRef(e);(0,$.A)(()=>{d.current=e},[e]),(0,$.A)(()=>{if(r){var t;null==(t=a.current)||t.finish(),a.current=null,u.current=null,o.current=e}},[e,r]);let c=l.useCallback(t=>{let r=i(o.current,e);a.current=new em(q,G,e=>{let i=r(e);o.current=i,n(t,i)})},[n,i,e]);return l.useCallback(t=>{var i,n,s,o;if(null===t){null==(i=a.current)||i.stop();return}let l=u.current;if(l===t){if(eg(d.current,e)){null==(s=a.current)||s.resume();return}null==(n=a.current)||n.stop()}l&&(null==(o=a.current)||o.stop()),u.current=t,(a.current||!r)&&c(t)},[c,e,r])}function ey(e,{createInterpolator:t,transformProps:i,applyProps:n,skip:r,initialProps:s=e,ref:o}){let l=i??(e=>e),u=ev(e,{initialProps:s,createInterpolator:t,applyProps:(e,t)=>n(e,l(t)),skip:r}),d=r?e:s;return(0,a.A)({},i(d),{ref:(0,H.A)(u,o)})}function eb(e,t){let i=(0,j.A)(e.x,t.x),n=(0,j.A)(e.y,t.y),r=(0,j.A)(e.width,t.width),s=(0,j.A)(e.height,t.height);return e=>({x:i(e),y:n(e),width:r(e),height:s(e)})}function eS(e){let t={x:"vertical"===e.layout?e.x:e.xOrigin,y:"vertical"===e.layout?e.yOrigin:e.y,width:"vertical"===e.layout?e.width:0,height:"vertical"===e.layout?0:e.height};return ey({x:e.x,y:e.y,width:e.width,height:e.height},{createInterpolator:eb,applyProps(e,t){e.setAttribute("x",t.x.toString()),e.setAttribute("y",t.y.toString()),e.setAttribute("width",t.width.toString()),e.setAttribute("height",t.height.toString())},transformProps:e=>e,initialProps:t,skip:e.skipAnimation,ref:e.ref})}var ew=i(95155);let eC=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function ex(e){let{ownerState:t}=e,i=(0,d.A)(e,eC),n=eS(e);return(0,ew.jsx)("rect",(0,a.A)({},i,{filter:t.isHighlighted?"brightness(120%)":void 0,opacity:t.isFaded?.3:1,"data-highlighted":t.isHighlighted||void 0,"data-faded":t.isFaded||void 0},n))}let ek=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function eA(e){var t;let{id:i,dataIndex:n,classes:r,color:s,slots:o,slotProps:l,style:u,onClick:c,skipAnimation:h,layout:f,x:p,xOrigin:m,y:g,yOrigin:b,width:S,height:w}=e,x=(0,d.A)(e,ek),k=C({type:"bar",seriesId:i,dataIndex:n}),{isFaded:A,isHighlighted:E}=z({seriesId:i,dataIndex:n}),M={id:i,dataIndex:n,classes:r,color:s,isFaded:A,isHighlighted:E},T=v(M),_=null!=(t=null==o?void 0:o.bar)?t:ex,P=(0,y.A)({elementType:_,externalSlotProps:null==l?void 0:l.bar,externalForwardedProps:x,additionalProps:(0,a.A)({},k,{id:i,dataIndex:n,color:s,x:p,xOrigin:m,y:g,yOrigin:b,width:S,height:w,style:u,onClick:c,cursor:c?"pointer":"unset",stroke:"none",fill:s,skipAnimation:h,layout:f}),className:T.root,ownerState:M});return(0,ew.jsx)(_,(0,a.A)({},P))}let eE=e=>e.cartesianAxis?.x,eM=e=>e.cartesianAxis?.y,eT=P([eM],e=>(e??[]).reduce((e,t)=>"left"===t.position?e+(t.width||0)+(t.zoom?.slider.enabled?t.zoom.slider.size:0):e,0)),e_=P([eM],e=>(e??[]).reduce((e,t)=>"right"===t.position?e+(t.width||0)+(t.zoom?.slider.enabled?t.zoom.slider.size:0):e,0)),eP=P([eE],e=>(e??[]).reduce((e,t)=>"top"===t.position?e+(t.height||0)+(t.zoom?.slider.enabled?t.zoom.slider.size:0):e,0)),eI=P([eE],e=>(e??[]).reduce((e,t)=>"bottom"===t.position?e+(t.height||0)+(t.zoom?.slider.enabled?t.zoom.slider.size:0):e,0)),eR=e=>e.dimensions,eO=e=>e.dimensions.width,eD=e=>e.dimensions.height,eL=P([eO,eD,e=>e.dimensions.margin.top,e=>e.dimensions.margin.right,e=>e.dimensions.margin.bottom,e=>e.dimensions.margin.left,eP,e_,eI,eT],(e,t,i,n,r,s,o,a,l,u)=>({width:e-s-n-u-a,left:s+u,right:n+a,height:t-i-r-o-l,top:i+o,bottom:r+l})),eN=P([eR],e=>({width:e.propsWidth,height:e.propsHeight})),eF=P([eO,eD],(e,t)=>({width:e,height:t})),eB=e=>e.series,eV=P([eB],e=>e.processedSeries),eU=P([eB],e=>e.seriesConfig);var ez=i(30071);function ej(e,t){return function(i,n){return"tick"===n.location?n.scale.tickFormat(e)(i):"zoom-slider-tooltip"===n.location?t.tickFormat(2)(i):`${i}`}}function eH(e){return"band"===e.scaleType}function e$(e){return"point"===e.scaleType}function eW(e){return"symlog"===e.scaleType}var eq=i(61141),eG=i(77341),eK=i(21533);function eX(e){return"piecewise"===e.type?(0,eq.A)(e.thresholds,e.colors):(0,eG.Ay)([e.min??0,e.max??100],e.color)}function eY(e){return e.values?(0,eK.A)(e.values,e.colors).unknown(e.unknownColor??null):(0,eK.A)(e.colors.map((e,t)=>t),e.colors).unknown(e.unknownColor??null)}function eJ(e){return"ordinal"===e.type?eY(e):eX(e)}function eQ(e){let{tickMaxStep:t,tickMinStep:i,tickNumber:n,range:r,domain:s}=e,o=void 0===i?999:Math.floor(Math.abs(s[1]-s[0])/i);return Math.min(o,Math.max(void 0===t?2:Math.ceil(Math.abs(s[1]-s[0])/t),n??Math.floor(Math.abs(r[1]-r[0])/50)))}function eZ(e,t){return 0==t[1]-t[0]?1:e/((t[1]-t[0])/100)}var e0=i(98592),e1=i(68476),e2=i(59111),e5=i(97785),e3=i(45351),e4=i(59985);function e6(e,t){let i=(0,e4.A)(e,t),n=i.ticks,{negativeScale:r,linearScale:s,positiveScale:o}=e8(i);return i.ticks=e=>{let t=n(e),a=i.constant(),l=0,u=0,d=0;t.forEach(e=>{e>-a&&e<a&&(u+=1),e<=-a&&(l+=1),e>=a&&(d+=1)});let c=[];if(l>0&&c.push(...r.ticks(l)),u>0){let e=s.ticks(u);c.at(-1)===e[0]?c.push(...e.slice(1)):c.push(...e)}if(d>0){let e=o.ticks(d);c.at(-1)===e[0]?c.push(...e.slice(1)):c.push(...e)}return c},i.tickFormat=(e=10,t)=>{let n=i.constant(),[a,l]=i.domain(),u=l-a,d=r.domain(),c=d[1]-d[0],h=(0===u?0:c/u)*e,f=s.domain(),p=f[1]-f[0],m=(0===u?0:p/u)*e,g=o.domain(),v=g[1]-g[0],y=(0===u?0:v/u)*e,b=r.tickFormat(h,t),S=s.tickFormat(m,t),w=o.tickFormat(y,t);return e=>(e.valueOf()<=-n?b:e.valueOf()>=n?w:S)(e)},i}function e8(e){let t=e.constant(),i=e.domain(),n=[i[0],Math.min(i[1],-t)],r=(0,e0.A)(n,e.range()),s=[Math.max(i[0],-t),Math.min(i[1],t)],o=(0,e3.A)(s,e.range()),a=[Math.max(i[0],t),i[1]];return{negativeScale:r,linearScale:o,positiveScale:(0,e0.A)(a,e.range())}}function e9(e,t,i){switch(e){case"log":return(0,e0.A)(t,i);case"pow":return(0,e1.Ay)(t,i);case"sqrt":return(0,e1.RZ)(t,i);case"time":return(0,e2.A)(t,i);case"utc":return(0,e5.A)(t,i);case"symlog":return e6(t,i);default:return(0,e3.A)(t,i)}}let e7=e=>e?.[0]instanceof Date;function te(e,t){let i=(0,e2.A)(e.data,t);return(t,{location:n})=>"tick"===n?i.tickFormat(e.tickNumber)(t):`${t.toLocaleString()}`}let tt=(e,t)=>{let i=e[1]-e[0],n=t[1]-t[0];return[e[0]-t[0]*i/n,e[1]+(100-t[1])*i/n]};class ti{constructor(){if(this.types=new Set,n)throw Error("You can only create one instance!");n=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}class tn{constructor(){if(this.types=new Set,r)throw Error("You can only create one instance!");r=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}let tr=new ti;tr.addType("bar"),tr.addType("line"),tr.addType("scatter");let ts=new tn;function to(e){return tr.getTypes().has(e)}ts.addType("radar");let ta=(e,t,i,n,r,s,o,a)=>{let l="x"===n?r[t].xExtremumGetter:r[t].yExtremumGetter,u=o[t]?.series??{},[d,c]=l?.({series:u,axis:i,axisIndex:s,isDefaultAxis:0===s,getFilters:a})??[1/0,-1/0],[h,f]=e;return[Math.min(d,h),Math.max(c,f)]},tl=(e,t,i,n,r,s)=>{let o=Object.keys(i).filter(to).reduce((o,a)=>ta(o,a,e,t,i,n,r,s),[1/0,-1/0]);return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o},tu=(e,t,i,n)=>{let r=new Set;return Object.keys(t).filter(to).forEach(s=>{let o=i[s]?.series??{},a=t[s].axisTooltipGetter?.(o);void 0!==a&&a.forEach(({axisId:t,direction:i})=>{i===e&&r.add(t??n)})}),r},td=(e,t,i,n)=>{if(void 0!==e.domainLimit)return e.domainLimit;if("x"===t)for(let t of n.line?.seriesOrder??[]){let r=n.line.series[t];if(r.xAxisId===e.id||void 0===r.xAxisId&&0===i)return"strict"}return"nice"};function tc(e,t,i){let n="x"===t?[e.left,e.left+e.width]:[e.top+e.height,e.top];return i.reverse?[n[1],n[0]]:n}let th=.2,tf=.1;function tp({drawingArea:e,formattedSeries:t,axis:i,seriesConfig:n,axisDirection:r,zoomMap:s,zoomOptions:o,getFilters:l,preferStrictDomainInLineCharts:u}){if(void 0===i)return{axis:{},axisIds:[]};let d=tu(r,n,t,i[0].id),c={};return i.forEach((i,h)=>{let f=i,p=o?.[f.id],m=s?.get(f.id),g=m?[m.start,m.end]:[0,100],v=tc(e,r,f),[y,b]=tl(f,r,n,h,t,void 0!==m||p?void 0:l),S=!f.ignoreTooltip&&d.has(f.id),w=f.data??[];if(eH(f)){let e=f.categoryGapRatio??th,t=f.barGapRatio??tf,i="y"===r?[v[1],v[0]]:v,n=tt(i,g);if(c[f.id]=(0,a.A)({offset:0,height:0,categoryGapRatio:e,barGapRatio:t,triggerTooltip:S},f,{data:w,scale:(0,ez.A)(f.data,n).paddingInner(e).paddingOuter(e/2),tickNumber:f.data.length,colorScale:f.colorMap&&("ordinal"===f.colorMap.type?eY((0,a.A)({values:f.data},f.colorMap)):eJ(f.colorMap))}),e7(f.data)){let e=te(f,i);c[f.id].valueFormatter=f.valueFormatter??e}}if(e$(f)){let e="y"===r?[...v].reverse():v,t=tt(e,g);if(c[f.id]=(0,a.A)({offset:0,height:0,triggerTooltip:S},f,{data:w,scale:(0,ez.z)(f.data,t),tickNumber:f.data.length,colorScale:f.colorMap&&("ordinal"===f.colorMap.type?eY((0,a.A)({values:f.data},f.colorMap)):eJ(f.colorMap))}),e7(f.data)){let t=te(f,e);c[f.id].valueFormatter=f.valueFormatter??t}}if("band"===f.scaleType||"point"===f.scaleType)return;let C=f.scaleType??"linear",x=u?td(f,r,h,t):f.domainLimit??"nice",k=[f.min??y,f.max??b];if("function"==typeof x){let{min:e,max:t}=x(y,b);k[0]=e,k[1]=t}let A=eQ((0,a.A)({},f,{range:v,domain:k})),E=eZ(A,g),M=e9(C,k,tt(v,g));eW(f)&&null!=f.constant&&M.constant(f.constant);let T="nice"===x?M.nice(A):M,[_,P]=T.domain(),I=[f.min??_,f.max??P];c[f.id]=(0,a.A)({offset:0,height:0,triggerTooltip:S},f,{data:w,scaleType:C,scale:T.domain(I),tickNumber:E,colorScale:f.colorMap&&eJ(f.colorMap),valueFormatter:f.valueFormatter??ej(E,e9(C,v.map(e=>M.invert(e)),v))})}),{axis:c,axisIds:i.map(({id:e})=>e)}}function tm(e){return null!=e}function tg({zoomMap:e,zoomOptions:t,seriesConfig:i,formattedSeries:n,direction:r}){return(s,o)=>{let a,l,u=t[s.id];if(!u||"discard"!==u.filterMode)return null;let d=e?.get(s.id);if(void 0===d||d.start<=0&&d.end>=100)return null;let c=[],h=s.scaleType;c="point"===h||"band"===h?[0,(s.data?.length??1)-1]:tl(s,r,i,o,n);let f=h&&"band"!==h&&"point"!==h?h:"linear";[a,l]=e9(f,c,[0,100]).nice().domain(),a=a instanceof Date?a.getTime():a,l=l instanceof Date?l.getTime():l;let p=a+d.start*(l-a)/100,m=a+d.end*(l-a)/100;return(e,t)=>{let i=e[r]??s.data?.[t];return null==i||("point"===s.scaleType||"band"===s.scaleType||"string"==typeof i?t>=p&&t<=m:i>=p&&i<=m)}}}let tv=e=>({currentAxisId:t,seriesXAxisId:i,seriesYAxisId:n,isDefaultAxis:r})=>(s,o)=>(t===i?n:i)&&!r?[n,i].filter(e=>e!==t).map(t=>e[t??""]).filter(tm).every(e=>e(s,o)):Object.values(e??{})[0]?.(s,o)??!0,ty=28,tb=48,tS={minStart:0,maxEnd:100,step:5,minSpan:10,maxSpan:100,panning:!0,filterMode:"keep",slider:{enabled:!1,preview:!1,size:28,showTooltip:"hover"}},tw=(e,t,i)=>{if(e)return!0===e?(0,a.A)({axisId:t,axisDirection:i},tS):(0,a.A)({axisId:t,axisDirection:i},tS,e,{slider:(0,a.A)({},tS.slider,{size:e.slider?.preview??tS.slider.preview?tb:ty},e.slider)})},tC=e=>(t=[])=>t.reduce((t,i)=>{let{zoom:n,id:r}=i,s=tw(n,r,e);return s&&(t[r]=s),t},{}),tx=P([e=>e.experimentalFeatures],e=>!!e?.preferStrictDomainInLineCharts),tk=e=>{let t=new Map;return e.forEach(e=>{t.set(e.axisId,e)}),t},tA=e=>e.zoom,tE=P([tA],e=>e?.isInteracting),tM=P([tA],e=>e?.zoomData&&tk(e?.zoomData)),tT=P([eE,eM],(e,t)=>(0,a.A)({},tC("x")(e),tC("y")(t)));P([tT,(e,t)=>t],(e,t)=>e[t]);let t_=P([tM,tT,eU,eV],(e,t,i,n)=>e&&t&&tg({zoomMap:e,zoomOptions:t,seriesConfig:i,formattedSeries:n,direction:"x"})),tP=P([tM,tT,eU,eV],(e,t,i,n)=>e&&t&&tg({zoomMap:e,zoomOptions:t,seriesConfig:i,formattedSeries:n,direction:"y"})),tI=P([t_,tP,eE,eM],(e,t,i,n)=>{if(void 0===e||void 0===t)return;let r=i?.reduce((t,i,n)=>{let r=e(i,n);return null!==r&&(t[i.id]=r),t},{}),s=n?.reduce((e,i,n)=>{let r=t(i,n);return null!==r&&(e[i.id]=r),e},{});if(0!==Object.keys(r??{}).length||0!==Object.keys(s??{}).length)return tv((0,a.A)({},r,s))}),tR=P([eE,eL,eV,eU,tM,tT,tI,tx],(e,t,i,n,r,s,o,a)=>tp({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:n,axisDirection:"x",zoomMap:r,zoomOptions:s,getFilters:o,preferStrictDomainInLineCharts:a})),tO=P([eM,eL,eV,eU,tM,tT,tI,tx],(e,t,i,n,r,s,o,a)=>tp({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:n,axisDirection:"y",zoomMap:r,zoomOptions:s,getFilters:o,preferStrictDomainInLineCharts:a}));function tD(e){return ts.getTypes().has(e)}P([tR,tO,(e,t)=>t],(e,t,i)=>e?.axis[i]??t?.axis[i]),P([eE,eM,(e,t)=>t],(e,t,i)=>{let n=e?.find(e=>e.id===i)??t?.find(e=>e.id===i)??null;if(n)return n});let tL=(e,t,i,n,r,s,o)=>{let a="rotation"===n?r[t].rotationExtremumGetter:r[t].radiusExtremumGetter,l=o[t]?.series??{},[u,d]=a?.({series:l,axis:i,axisIndex:s,isDefaultAxis:0===s})??[1/0,-1/0],[c,h]=e;return[Math.min(u,c),Math.max(d,h)]},tN=(e,t,i,n,r)=>{let s=Object.keys(i).filter(tD).reduce((s,o)=>tL(s,o,e,t,i,n,r),[1/0,-1/0]);return Number.isNaN(s[0])||Number.isNaN(s[1])?[1/0,-1/0]:s},tF=(e,t)=>void 0===e?t:Math.PI*e/180,tB=(e,t,i,n)=>{let r=new Set;return Object.keys(t).filter(tD).forEach(s=>{let o=i[s]?.series??{},a=t[s].axisTooltipGetter?.(o);void 0!==a&&a.forEach(({axisId:t,direction:i})=>{i===e&&r.add(t??n)})}),r};function tV(e,t,i){if("rotation"===t){if("point"===i.scaleType){let e=[tF(i.startAngle,0),tF(i.endAngle,2*Math.PI)],t=e[1]-e[0];return t>2*Math.PI-.1&&(e[1]-=t/i.data.length),e}return[tF(i.startAngle,0),tF(i.endAngle,2*Math.PI)]}return[0,Math.min(e.height,e.width)/2]}let tU=.2,tz=.1;function tj({drawingArea:e,formattedSeries:t,axis:i,seriesConfig:n,axisDirection:r}){if(void 0===i)return{axis:{},axisIds:[]};let s=tB(r,n,t,i[0].id),o={};return i.forEach((i,l)=>{let u=i,d=tV(e,r,u),[c,h]=tN(u,r,n,l,t),f=!u.ignoreTooltip&&s.has(u.id),p=u.data??[];if(eH(u)){let e=u.categoryGapRatio??tU,t=u.barGapRatio??tz;if(o[u.id]=(0,a.A)({offset:0,categoryGapRatio:e,barGapRatio:t,triggerTooltip:f},u,{data:p,scale:(0,ez.A)(u.data,d).paddingInner(e).paddingOuter(e/2),tickNumber:u.data.length,colorScale:u.colorMap&&("ordinal"===u.colorMap.type?eY((0,a.A)({values:u.data},u.colorMap)):eJ(u.colorMap))}),e7(u.data)){let e=te(u,d);o[u.id].valueFormatter=u.valueFormatter??e}}if(e$(u)&&(o[u.id]=(0,a.A)({offset:0,triggerTooltip:f},u,{data:p,scale:(0,ez.z)(u.data,d),tickNumber:u.data.length,colorScale:u.colorMap&&("ordinal"===u.colorMap.type?eY((0,a.A)({values:u.data},u.colorMap)):eJ(u.colorMap))}),e7(u.data))){let e=te(u,d);o[u.id].valueFormatter=u.valueFormatter??e}if("band"===u.scaleType||"point"===u.scaleType)return;let m=u.scaleType??"linear",g=u.domainLimit??"nice",v=[u.min??c,u.max??h];if("function"==typeof g){let{min:e,max:t}=g(c,h);v[0]=e,v[1]=t}let y=eQ((0,a.A)({},u,{range:d,domain:v})),b=eZ(y,d),S=e9(m,v,d),w="nice"===g?S.nice(y):S,[C,x]=w.domain(),k=[u.min??C,u.max??x];o[u.id]=(0,a.A)({offset:0,triggerTooltip:f},u,{data:p,scaleType:m,scale:w.domain(k),tickNumber:b,colorScale:u.colorMap&&eJ(u.colorMap)})}),{axis:o,axisIds:i.map(({id:e})=>e)}}let tH=e=>e.polarAxis,t$=P([tH],e=>e?.rotation),tW=P([tH],e=>e?.radius),tq=P([t$,eL,eV,eU],(e,t,i,n)=>tj({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:n,axisDirection:"rotation"})),tG=P([tW,eL,eV,eU],(e,t,i,n)=>tj({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:n,axisDirection:"radius"})),tK=P([eL],e=>({cx:e.left+e.width/2,cy:e.top+e.height/2}));function tX(){let{axis:e,axisIds:t}=E(x(),tR);return{xAxis:e,xAxisIds:t}}function tY(){let{axis:e,axisIds:t}=E(x(),tO);return{yAxis:e,yAxisIds:t}}function tJ(e){let{axis:t,axisIds:i}=E(x(),tR);return t[null!=e?e:i[0]]}function tQ(e){let{axis:t,axisIds:i}=E(x(),tO);return t[null!=e?e:i[0]]}function tZ(){let{axis:e,axisIds:t}=E(x(),tq);return{rotationAxis:e,rotationAxisIds:t}}function t0(){let{axis:e,axisIds:t}=E(x(),tG);return{radiusAxis:e,radiusAxisIds:t}}function t1(e){let{axis:t,axisIds:i}=E(x(),tq);return t["string"==typeof e?e:i[null!=e?e:0]]}function t2(){return E(x(),eL)}function t5(e,t){let i=(0,j.A)(e.x,t.x),n=(0,j.A)(e.y,t.y),r=(0,j.A)(e.width,t.width),s=(0,j.A)(e.height,t.height),o=(0,j.A)(e.borderRadius,t.borderRadius);return e=>({x:i(e),y:n(e),width:r(e),height:s(e),borderRadius:o(e)})}function t3(e){let t={x:"vertical"===e.layout?e.x:e.xOrigin,y:"vertical"===e.layout?e.yOrigin:e.y,width:"vertical"===e.layout?e.width:0,height:"vertical"===e.layout?0:e.height,borderRadius:e.borderRadius};return ey({x:e.x,y:e.y,width:e.width,height:e.height,borderRadius:e.borderRadius},{createInterpolator:t5,transformProps:t=>({d:t6(e.hasNegative,e.hasPositive,e.layout,t.x,t.y,t.width,t.height,e.xOrigin,e.yOrigin,t.borderRadius)}),applyProps(e,t){let{d:i}=t;i&&e.setAttribute("d",i)},initialProps:t,skip:e.skipAnimation,ref:e.ref})}function t4(e){var t,i;let{maskId:n,x:r,y:s,width:o,height:a,skipAnimation:l}=e,{ref:u,d}=t3({layout:null!=(t=e.layout)?t:"vertical",hasNegative:e.hasNegative,hasPositive:e.hasPositive,xOrigin:e.xOrigin,yOrigin:e.yOrigin,x:r,y:s,width:o,height:a,borderRadius:null!=(i=e.borderRadius)?i:0,skipAnimation:l});return!e.borderRadius||e.borderRadius<=0?null:(0,ew.jsx)("clipPath",{id:n,children:(0,ew.jsx)("path",{ref:u,d:d})})}function t6(e,t,i,n,r,s,o,a,l,u){if("vertical"===i){if(t&&e){let e=Math.min(u,s/2,o/2);return"M".concat(n,",").concat(r+o/2," v").concat(-(o/2-e)," a").concat(e,",").concat(e," 0 0 1 ").concat(e,",").concat(-e," h").concat(s-2*e," a").concat(e,",").concat(e," 0 0 1 ").concat(e,",").concat(e," v").concat(o-2*e," a").concat(e,",").concat(e," 0 0 1 ").concat(-e,",").concat(e," h").concat(-(s-2*e)," a").concat(e,",").concat(e," 0 0 1 ").concat(-e,",").concat(-e," v").concat(-(o/2-e))}let i=Math.min(u,s/2);if(t)return"M".concat(n,",").concat(Math.max(l,r+i)," v").concat(Math.min(0,-(l-r-i))," a").concat(i,",").concat(i," 0 0 1 ").concat(i,",").concat(-i," h").concat(s-2*i," a").concat(i,",").concat(i," 0 0 1 ").concat(i,",").concat(i," v").concat(Math.max(0,l-r-i)," Z");if(e)return"M".concat(n,",").concat(Math.min(l,r+o-i)," v").concat(Math.max(0,o-i)," a").concat(i,",").concat(i," 0 0 0 ").concat(i,",").concat(i," h").concat(s-2*i," a").concat(i,",").concat(i," 0 0 0 ").concat(i,",").concat(-i," v").concat(-Math.max(0,o-i)," Z")}if("horizontal"===i){if(t&&e){let e=Math.min(u,s/2,o/2);return"M".concat(n+s/2,",").concat(r," h").concat(s/2-e," a").concat(e,",").concat(e," 0 0 1 ").concat(e,",").concat(e," v").concat(o-2*e," a").concat(e,",").concat(e," 0 0 1 ").concat(-e,",").concat(e," h").concat(-(s-2*e)," a").concat(e,",").concat(e," 0 0 1 ").concat(-e,",").concat(-e," v").concat(-(o-2*e)," a").concat(e,",").concat(e," 0 0 1 ").concat(e,",").concat(-e," h").concat(s/2-e)}let i=Math.min(u,o/2);if(t)return"M".concat(Math.min(a,n-i),",").concat(r," h").concat(s," a").concat(i,",").concat(i," 0 0 1 ").concat(i,",").concat(i," v").concat(o-2*i," a").concat(i,",").concat(i," 0 0 1 ").concat(-i,",").concat(i," h").concat(-s," Z");if(e)return"M".concat(Math.max(a,n+s+i),",").concat(r," h").concat(-s," a").concat(i,",").concat(i," 0 0 0 ").concat(-i,",").concat(i," v").concat(o-2*i," a").concat(i,",").concat(i," 0 0 0 ").concat(i,",").concat(i," h").concat(s," Z")}}function t8(e){return(0,h.Ay)("MuiBarLabel",e)}let t9=(0,p.A)("MuiBarLabel",["root","highlighted","faded","animate"]),t7=e=>{let{classes:t,seriesId:i,isFaded:n,isHighlighted:r,skipAnimation:s}=e,o={root:["root",`series-${i}`,r&&"highlighted",n&&"faded",!s&&"animate"]};return(0,f.A)(o,t8,t)},ie=e=>{let{barLabel:t,value:i,dataIndex:n,seriesId:r,height:s,width:o}=e;return"value"===t?i?i?.toString():null:t({seriesId:r,dataIndex:n,value:i},{bar:{height:s,width:o}})};function it(e,t){let i=(0,j.A)(e.x,t.x),n=(0,j.A)(e.y,t.y),r=(0,j.A)(e.width,t.width),s=(0,j.A)(e.height,t.height);return e=>({x:i(e),y:n(e),width:r(e),height:s(e)})}function ii(e){let t={x:"vertical"===e.layout?e.x+e.width/2:e.xOrigin,y:"vertical"===e.layout?e.yOrigin:e.y+e.height/2,width:e.width,height:e.height};return ey({x:e.x+e.width/2,y:e.y+e.height/2,width:e.width,height:e.height},{createInterpolator:it,transformProps:e=>e,applyProps(e,t){e.setAttribute("x",t.x.toString()),e.setAttribute("y",t.y.toString()),e.setAttribute("width",t.width.toString()),e.setAttribute("height",t.height.toString())},initialProps:t,skip:e.skipAnimation,ref:e.ref})}let ir=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],is=(0,c.Ay)("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(e,t)=>[{["&.".concat(t9.faded)]:t.faded},{["&.".concat(t9.highlighted)]:t.highlighted},t.root]})(e=>{var t,i,n,r;let{theme:s}=e;return(0,a.A)({},null==s||null==(t=s.typography)?void 0:t.body2,{stroke:"none",fill:null==(r=s.vars||s)||null==(n=r.palette)||null==(i=n.text)?void 0:i.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,["&.".concat(t9.faded)]:{opacity:.3}})});function io(e){let t=(0,u.A)({props:e,name:"MuiBarLabel"}),i=(0,d.A)(t,ir),n=ii(t);return(0,ew.jsx)(is,(0,a.A)({},i,n))}let ia=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],il=["ownerState"];function iu(e){let{seriesId:t,classes:i,color:n,dataIndex:r,barLabel:s,slots:o,slotProps:l,xOrigin:u,yOrigin:c,x:h,y:f,width:p,height:m,value:g,skipAnimation:v,layout:b}=e,S=(0,d.A)(e,ia),{isFaded:w,isHighlighted:C}=z({seriesId:t,dataIndex:r}),x={seriesId:t,classes:i,color:n,isFaded:w,isHighlighted:C,dataIndex:r,skipAnimation:v,layout:b},k=t7(x),A=o?.barLabel??io,E=(0,y.A)({elementType:A,externalSlotProps:l?.barLabel,additionalProps:(0,a.A)({},S,{xOrigin:u,yOrigin:c,x:h,y:f,width:p,height:m,className:k.root}),ownerState:x}),{ownerState:M}=E,T=(0,d.A)(E,il);if(!s)return null;let _=ie({barLabel:s,value:g,dataIndex:r,seriesId:t,height:m,width:p});return _?(0,ew.jsx)(A,(0,a.A)({},T,M,{children:_})):null}function id(e){return(0,h.Ay)("MuiBar",e)}(0,p.A)("MuiBar",["root","series","seriesLabels"]);let ic=e=>{let t={root:["root"],series:["series"],seriesLabels:["seriesLabels"]};return(0,f.A)(t,id,e)},ih=["bars","skipAnimation"];function ip(e){let{bars:t,skipAnimation:i}=e,n=(0,d.A)(e,ih),r=ic();return(0,ew.jsx)(l.Fragment,{children:t.flatMap(({seriesId:e,data:t})=>(0,ew.jsx)("g",{className:r.seriesLabels,"data-series":e,children:t.map(({xOrigin:t,yOrigin:r,x:s,y:o,dataIndex:l,color:u,value:d,width:c,height:h,layout:f})=>(0,ew.jsx)(iu,(0,a.A)({seriesId:e,dataIndex:l,value:d,color:u,xOrigin:t,yOrigin:r,x:s,y:o,width:c,height:h,skipAnimation:i??!1,layout:f??"vertical"},n),l))},e))})}let im=P([e=>e.animation],e=>e.skip||e.skipAnimationRequests>0);function ig(e){let t=E(x(),im);return e||t}function iv(){return E(x(),tE)}let iy=(e,t,i)=>{let n="vertical"===e.layout,r=n?t?.colorScale:i?.colorScale,s=n?i?.colorScale:t?.colorScale,o=n?t?.data:i?.data;return s?t=>{if(void 0===t)return e.color;let i=e.data[t],n=null===i?e.color:s(i);return null===n?e.color:n}:r&&o?t=>{if(void 0===t)return e.color;let i=o[t],n=null===i?e.color:r(i);return null===n?e.color:n}:()=>e.color},ib=P([e=>e.id],e=>e.chartId);function iS(){return E(x(),ib)}let iw="DEFAULT_X_AXIS_KEY",iC="DEFAULT_Y_AXIS_KEY",ix={top:20,bottom:20,left:20,right:20},ik=45,iA=25,iE=20,iM=(e,t)=>{let i=`${e}-axis`,n=`${e}Axis`;return t===("x"===e?iw:iC)?`The first \`${n}\``:`The ${i} with id "${t}"`};function iT(e,t,i,n,r,s,o){let a=r[n],l=o[s],u=e?a:l,d=e?l:a,c=e?n:s,h=e?s:n,f=e?"x":"y",p=e?"y":"x";if(!eH(u))throw Error(`MUI X Charts: ${iM(f,c)} should be of type "band" to display the bar series of id "${t}".`);if(void 0===u.data)throw Error(`MUI X Charts: ${iM(f,c)} should have data property.`);if(eH(d)||e$(d))throw Error(`MUI X Charts: ${iM(p,h)} should be a continuous type to display the bar series of id "${t}".`)}function i_(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;let i=e.length;if(i!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0}function iP(e){let t=P([eV],t=>t[e]);return()=>E(x(),t)}!function(e){let t=P([eV,(e,t)=>t],(t,i)=>{if(!i||Array.isArray(i)&&0===i.length)return t.bar?.seriesOrder?.map(i=>t[e]?.series[i])??[];if(!Array.isArray(i))return t[e]?.series?.[i];let n=[],r=[];for(let s of i){let i=t[e]?.series?.[s];i?n.push(i):r.push(s)}return n});e=>E(x(),t,[e],i_)}("bar");let iI=iP("bar");function iR(){return iI()}function iO(e,t,i){let n=iR()??{series:{},stackingGroups:[],seriesOrder:[]},r=tX().xAxisIds[0],s=tY().yAxisIds[0],o=iS(),{series:a,stackingGroups:l}=n,u={};return{completedData:l.flatMap(({ids:n},d)=>{let c=e.left,h=e.left+e.width,f=e.top,p=e.top+e.height;return n.map(e=>{let n=a[e].xAxisId??r,m=a[e].yAxisId??s,g=t[n],v=i[m],y="vertical"===a[e].layout;iT(y,e,a[e],n,t,m,i);let b=y?g:v,S=g.scale,w=v.scale,C=iy(a[e],t[n],i[m]),{barWidth:x,offset:k}=iD({bandWidth:b.scale.bandwidth(),numberOfGroups:l.length,gapRatio:b.barGapRatio}),A=d*(x+k),{stackedData:E,data:M,layout:T,minBarSize:_}=a[e],P=b.data.map((t,i)=>{if(null==M[i])return null;let n=E[i].map(e=>y?w(e):S(e)),r=Math.round(Math.min(...n)),s=Math.round(Math.max(...n)),l=a[e].stack,{barSize:m,startCoordinate:g}=iL(y,r,s,M[i],_),v={seriesId:e,dataIndex:i,layout:T,x:y?S(t)+A:g,y:y?g:w(t)+A,xOrigin:S(0)??0,yOrigin:w(0)??0,height:y?m:x,width:y?x:m,color:C(i),value:M[i],maskId:`${o}_${l||e}_${d}_${i}`};if(v.x>h||v.x+v.width<c||v.y>p||v.y+v.height<f)return null;u[v.maskId]||(u[v.maskId]={id:v.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:v.layout,xOrigin:S(0),yOrigin:w(0),x:0,y:0});let b=u[v.maskId];return b.width="vertical"===v.layout?v.width:b.width+v.width,b.height="vertical"===v.layout?b.height+v.height:v.height,b.x=Math.min(0===b.x?1/0:b.x,v.x),b.y=Math.min(0===b.y?1/0:b.y,v.y),b.hasNegative=b.hasNegative||(v.value??0)<0,b.hasPositive=b.hasPositive||(v.value??0)>0,v}).filter(e=>null!==e);return{seriesId:e,data:P}})}),masksData:Object.values(u)}}function iD({bandWidth:e,numberOfGroups:t,gapRatio:i}){if(0===i)return{barWidth:e/t,offset:0};let n=e/(t+(t-1)*i),r=i*n;return{barWidth:n,offset:r}}function iL(e,t,i,n,r){if(0===n||null==n)return{barSize:0,startCoordinate:t};let s=i-t<r,o=s?r:i-t,a=e&&n>=0,l=!e&&n<0;return s&&(a||l)?{barSize:o,startCoordinate:i-o}:{barSize:o,startCoordinate:t}}let iN=["skipAnimation","onItemClick","borderRadius","barLabel"],iF=(0,c.Ay)("g",{name:"MuiBarPlot",slot:"Root"})({["& .".concat(g.root)]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function iB(e){let{skipAnimation:t,onItemClick:i,borderRadius:n,barLabel:r}=e,s=(0,d.A)(e,iN),o=ig(iv()||t),{xAxis:l}=tX(),{yAxis:u}=tY(),{completedData:c,masksData:h}=iO(t2(),l,u),f=!n||n<=0,p=ic();return(0,ew.jsxs)(iF,{className:p.root,children:[!f&&h.map(e=>{let{id:t,x:i,y:r,xOrigin:s,yOrigin:a,width:l,height:u,hasPositive:d,hasNegative:c,layout:h}=e;return(0,ew.jsx)(t4,{maskId:t,borderRadius:n,hasNegative:c,hasPositive:d,layout:h,x:i,y:r,xOrigin:s,yOrigin:a,width:l,height:u,skipAnimation:null!=o&&o},t)}),c.map(e=>{let{seriesId:t,data:n}=e;return(0,ew.jsx)("g",{"data-series":t,className:p.series,children:n.map(e=>{let{dataIndex:n,color:r,maskId:l,layout:u,x:d,xOrigin:c,y:h,yOrigin:p,width:m,height:g}=e,v=(0,ew.jsx)(eA,(0,a.A)({id:t,dataIndex:n,color:r,skipAnimation:null!=o&&o,layout:null!=u?u:"vertical",x:d,xOrigin:c,y:h,yOrigin:p,width:m,height:g},s,{onClick:i&&(e=>{i(e,{type:"bar",seriesId:t,dataIndex:n})})}),n);return f?v:(0,ew.jsx)("g",{clipPath:"url(#".concat(l,")"),children:v},n)})},t)}),r&&(0,ew.jsx)(ip,(0,a.A)({bars:c,skipAnimation:o,barLabel:r},s))]})}var iV=i(25789),iU=i(36786);function iz(){let[e,t]=l.useState("undefined"!=typeof window);return l.useEffect(()=>{t(!0)},[]),e}function ij(){return"undefined"==typeof window}let iH=new Map,i$=2e3,iW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iq=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],iG="mui_measurement_span";function iK(e,t){return iq.indexOf(e)>=0&&t===+t?`${t}px`:t}function iX(e){return e.split("").reduce((e,t)=>t===t.toUpperCase()?[...e,"-",t.toLowerCase()]:[...e,t],[]).join("")}let iY=e=>Object.keys(e).sort().reduce((t,i)=>`${t}${iX(i)}:${iK(i,e[i])};`,""),iJ=(e,t={})=>{if(null==e||ij())return{width:0,height:0};let i=`${e}`,n=iY(t),r=`${i}-${n}`,o=iH.get(r);if(o)return o;try{let e=document.getElementById(iG);null===e&&((e=document.createElement("span")).setAttribute("id",iG),e.setAttribute("aria-hidden","true"),document.body.appendChild(e));let n=(0,a.A)({},iW,t);Object.keys(n).map(t=>(e.style[iX(t)]=iK(t,n[t]),t)),e.textContent=i;let o=e.getBoundingClientRect(),l={width:o.width,height:o.height};return iH.set(r,l),iH.size+1>i$&&iH.clear(),s&&clearTimeout(s),s=setTimeout(()=>{e.textContent=""},0),l}catch{return{width:0,height:0}}};function iQ(e){return void 0!==e.bandwidth}function iZ(e){return"number"==typeof e&&!Number.isFinite(e)}let i0={start:0,extremities:0,end:1,middle:.5};function i1(e){let{scale:t,tickNumber:i,valueFormatter:n,tickInterval:r,tickPlacement:s="extremities",tickLabelPlacement:o,isInside:a}=e;if(iQ(t)){let e=t.domain(),a=null!=o?o:"middle";return t.bandwidth()>0?[...("function"==typeof r&&e.filter(r)||"object"==typeof r&&r||e).map(e=>{var r;let o="".concat(e);return{value:e,formattedValue:null!=(r=null==n?void 0:n(e,{location:"tick",scale:t,tickNumber:i,defaultTickLabel:o}))?r:o,offset:t(e)-(t.step()-t.bandwidth())/2+i0[s]*t.step(),labelOffset:"tick"===a?0:t.step()*(i0[a]-i0[s])}}),..."extremities"===s?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:("function"==typeof r&&e.filter(r)||"object"==typeof r&&r||e).map(e=>{var r;let s="".concat(e);return{value:e,formattedValue:null!=(r=null==n?void 0:n(e,{location:"tick",scale:t,tickNumber:i,defaultTickLabel:s}))?r:s,offset:t(e),labelOffset:0}})}if(t.domain().some(iZ))return[];let l=o,u="object"==typeof r?r:t.ticks(i),d=[];for(let e=0;e<u.length;e+=1){let r=u[e],s=t(r);if(a(s)){var c,h,f;let o=t.tickFormat(i)(r);d.push({value:r,formattedValue:null!=(c=null==n?void 0:n(r,{location:"tick",scale:t,tickNumber:i,defaultTickLabel:o}))?c:o,offset:s,labelOffset:"middle"===l?t(null!=(h=u[e-1])?h:0)-(s+t(null!=(f=u[e-1])?f:0))/2:0})}}return d}function i2(e){let{scale:t,tickNumber:i,valueFormatter:n,tickInterval:r,tickPlacement:s="extremities",tickLabelPlacement:o,direction:a}=e,{instance:u}=S(),d="x"===a?u.isXInside:u.isYInside;return l.useMemo(()=>i1({scale:t,tickNumber:i,tickPlacement:s,tickInterval:r,tickLabelPlacement:o,valueFormatter:n,isInside:d}),[t,i,s,r,o,n,d])}function i5(e){return(0,h.Ay)("MuiChartsAxis",e)}let i3=(0,p.A)("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right","id"]),i4=(0,c.Ay)("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:e})=>({[`& .${i3.tickLabel}`]:(0,a.A)({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${i3.label}`]:{fill:(e.vars||e).palette.text.primary},[`& .${i3.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${i3.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}}));function i6({style:e,needsComputation:t,text:i}){return i.split("\n").map(i=>(0,a.A)({text:i},t?iJ(i,e):{width:0,height:0}))}let i8=["x","y","style","text","ownerState"],i9=["angle","textAnchor","dominantBaseline"];function i7(e){let t,{x:i,y:n,style:r,text:s}=e,o=(0,d.A)(e,i8),u=null!=r?r:{},{angle:c,textAnchor:h,dominantBaseline:f}=u,p=(0,d.A)(u,i9),m=iz(),g=l.useMemo(()=>i6({style:p,needsComputation:m&&s.includes("\n"),text:s}),[p,s,m]);switch(f){case"hanging":case"text-before-edge":t=0;break;case"central":t=-((g.length-1)/2*g[0].height);break;default:t=-((g.length-1)*g[0].height)}return(0,ew.jsx)("text",(0,a.A)({},o,{transform:c?"rotate(".concat(c,", ").concat(i,", ").concat(n,")"):void 0,x:i,y:n,textAnchor:h,dominantBaseline:f,style:p,children:g.map((e,n)=>(0,ew.jsx)("tspan",{x:i,dy:"".concat(0===n?t:g[0].height,"px"),dominantBaseline:f,children:e.text},n))}))}function ne(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,i]=l.useState(!1);return(0,$.A)(()=>{e||i(!0)},[e]),l.useEffect(()=>{e&&i(!0)},[e]),t}function nt(e){return(e%360+360)%360}let ni=2*Math.PI;function nn(e){return(e%ni+ni)%ni}function nr(e){let t=nt(e);return t<=30||t>=330||t<=210&&t>=150?"middle":t<=180?"end":"start"}function ns(e){let t=nt(e);return t<=30||t>=330?"hanging":t<=210&&t>=150?"auto":"central"}function no(e){switch(e){case"start":return"end";case"end":return"start";default:return e}}let na="undefined"!=typeof window&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function nl(e){return e.length}function nu(e){let t=na.segment(e),i=0;for(let e of t)i+=1;return i}let nd=na?nu:nl;function nc(e){return Math.PI/180*e}let nh="undefined"!=typeof window&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function nf(e,t){return e.slice(0,t)}function np(e,t){let i=nh.segment(e),n="",r=0;for(let e of i)if(n+=e.segment,(r+=1)>=t)break;return n}let nm=nh?np:nf,ng="";function nv(e,t){let{width:i,height:n,measureText:r}=t,s=nc(t.angle),o=r(e),a=Math.abs(o.width*Math.cos(s))+Math.abs(o.height*Math.sin(s)),l=Math.abs(o.width*Math.sin(s))+Math.abs(o.height*Math.cos(s));return a<=i&&l<=n}function ny(e,t){if(t(e))return e;let i=e,n=1,r=.5,s=nd(e),o=s,a=s,l=null;do{if(a=o,0===(o=Math.floor(s*r)))break;n+=1,t((i=nm(e,o).trim())+ng)?(l=i,r+=1/2**n):r-=1/2**n}while(1!==Math.abs(o-a));return l?l+ng:""}function nb(e,t,i,n,r){let s=new Map,o=nt(r?.angle??0),a=1,l=1;for(let u of(r?.textAnchor==="start"?(a=1/0,l=1):r?.textAnchor==="end"?(a=1,l=1/0):(a=2,l=2),o>90&&o<270&&([a,l]=[l,a]),n&&([a,l]=[l,a]),e))if(u.formattedValue){let e=Math.min((u.offset+u.labelOffset)*a,(t.left+t.width+t.right-u.offset-u.labelOffset)*l),n=t=>nv(t,{width:e,height:i,angle:o,measureText:e=>iJ(e,r)});s.set(u,ny(u.formattedValue.toString(),n))}return s}let nS=5;function nw(e,t,i=0){let n=Math.min(Math.abs(i)%180,Math.abs(Math.abs(i)%180-180)%180);if(n<nS)return e;if(n>90-nS)return t;let r=tF(n);return r<Math.atan2(t,e)?e/Math.cos(r):t/Math.sin(r)}function nC(e,t){let{tickLabelStyle:i,tickLabelInterval:n,tickLabelMinGap:r,reverse:s,isMounted:o,isXInside:a}=t,l=e=>{if(!o||void 0===e.formattedValue)return{width:0,height:0};let t=i6({style:i,needsComputation:!0,text:e.formattedValue});return{width:Math.max(...t.map(e=>e.width)),height:Math.max(t.length*t[0].height)}};if("function"==typeof n)return new Set(e.filter((e,t)=>n(e.value,t)));let u=0,d=s?-1:1;return new Set(e.filter((e,t)=>{let{offset:n,labelOffset:s}=e,o=n+s;if(t>0&&d*o<d*(u+r)||!a(o))return!1;let{width:c,height:h}=l(e),f=nw(c,h,null==i?void 0:i.angle),p=o-d*f/2;return(!(t>0)||!(d*p<d*(u+r)))&&(u=o+d*f/2,!0)}))}let nx=["scale","tickNumber","reverse"],nk=e=>{let{classes:t,position:i,id:n}=e,r={root:["root","directionX",i,"id-".concat(n)],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return(0,f.A)(r,i5,t)},nA=3,nE=4,nM=(0,c.Ay)(i4,{name:"MuiChartsXAxis",slot:"Root"})({}),nT={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function n_(e){var t,i,n,r,s,o,l;let{xAxis:c,xAxisIds:h}=tX(),f=c[null!=(t=e.axisId)?t:h[0]],{scale:p,tickNumber:m,reverse:g}=f,v=(0,d.A)(f,nx),b=ne(),w=(0,u.A)({props:(0,a.A)({},v,e),name:"MuiChartsXAxis"}),C=(0,a.A)({},nT,w),{position:x,disableLine:k,disableTicks:A,tickLabelStyle:E,label:M,labelStyle:T,tickSize:_,valueFormatter:P,slots:I,slotProps:R,tickInterval:O,tickLabelInterval:D,tickPlacement:L,tickLabelPlacement:N,tickLabelMinGap:F,sx:B,offset:V,height:U}=C,z=(0,iV.A)(),j=(0,iU.I)(),H=nk(C),$=t2(),{left:W,top:q,width:G,height:K}=$,{instance:X}=S(),Y=iz(),J=A?4:_,Q="bottom"===x?1:-1,Z=null!=(i=null==I?void 0:I.axisLine)?i:"line",ee=null!=(n=null==I?void 0:I.axisTick)?n:"line",et=null!=(r=null==I?void 0:I.axisTickLabel)?r:i7,ei=null!=(s=null==I?void 0:I.axisLabel)?s:i7,en=nr(180*("bottom"!==x)-(null!=(o=null==E?void 0:E.angle)?o:0)),er=ns(180*("bottom"!==x)-(null!=(l=null==E?void 0:E.angle)?l:0)),es=(0,y.A)({elementType:et,externalSlotProps:null==R?void 0:R.axisTickLabel,additionalProps:{style:(0,a.A)({},z.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:j?no(en):en,dominantBaseline:er},E)},className:H.tickLabel,ownerState:{}}),eo=i2({scale:p,tickNumber:m,valueFormatter:P,tickInterval:O,tickPlacement:L,tickLabelPlacement:N,direction:"x"}),ea=nC(eo,{tickLabelStyle:es.style,tickLabelInterval:D,tickLabelMinGap:F,reverse:g,isMounted:b,isXInside:X.isXInside}),el=(0,y.A)({elementType:ei,externalSlotProps:null==R?void 0:R.axisLabel,additionalProps:{style:(0,a.A)({},z.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:"bottom"===x?"text-after-edge":"text-before-edge"},T)},ownerState:{}}),eu=p.domain(),ed=iQ(p);if(ed&&0===eu.length||!ed&&eu.some(iZ)||"none"===x)return null;let ec=M?iJ(M,el.style).height:0,eh={x:W+G/2,y:Q*U},ef=Math.max(0,U-(M?ec+nE:0)-J-nA),ep=Y?nb(ea,$,ef,j,es.style):new Map(Array.from(ea).map(e=>[e,e.formattedValue]));return(0,ew.jsxs)(nM,{transform:"translate(0, ".concat("bottom"===x?q+K+V:q-V,")"),className:H.root,sx:B,children:[!k&&(0,ew.jsx)(Z,(0,a.A)({x1:W,x2:W+G,className:H.line},null==R?void 0:R.axisLine)),eo.map((e,t)=>{let{offset:i,labelOffset:n}=e,r=null!=n?n:0,s=Q*(J+nA),o=X.isXInside(i),l=ep.get(e),u=ea.has(e);return(0,ew.jsxs)("g",{transform:"translate(".concat(i,", 0)"),className:H.tickContainer,children:[!A&&o&&(0,ew.jsx)(ee,(0,a.A)({y2:Q*J,className:H.tick},null==R?void 0:R.axisTick)),void 0!==l&&u&&(0,ew.jsx)(et,(0,a.A)({x:r,y:s},es,{text:l}))]},t)}),M&&(0,ew.jsx)("g",{className:H.label,children:(0,ew.jsx)(ei,(0,a.A)({},eh,el,{text:M}))})]})}function nP(e,t,i,n,r){var s;let o=new Map,a=nt(null!=(s=null==r?void 0:r.angle)?s:0),l=1,u=1;for(let s of((null==r?void 0:r.textAnchor)==="start"?(l=1/0,u=1):(null==r?void 0:r.textAnchor)==="end"?(l=1,u=1/0):(l=2,u=2),a>180&&([l,u]=[u,l]),n&&([l,u]=[u,l]),e))if(s.formattedValue){let e=Math.min((s.offset+s.labelOffset)*l,(t.top+t.height+t.bottom-s.offset-s.labelOffset)*u),n=t=>nv(t,{width:i,height:e,angle:a,measureText:e=>iJ(e,r)});o.set(s,ny(s.formattedValue.toString(),n))}return o}let nI=["scale","tickNumber"],nR=e=>{let{classes:t,position:i,id:n}=e,r={root:["root","directionY",i,"id-".concat(n)],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return(0,f.A)(r,i5,t)},nO=2,nD=2,nL=(0,c.Ay)(i4,{name:"MuiChartsYAxis",slot:"Root"})({}),nN={disableLine:!1,disableTicks:!1,tickSize:6};function nF(e){var t,i,n,r,s,o,l;let{yAxisIds:c,yAxis:h}=tY(),f=h[null!=(t=e.axisId)?t:c[0]],{scale:p,tickNumber:m}=f,g=(0,d.A)(f,nI),v=(0,u.A)({props:(0,a.A)({},g,e),name:"MuiChartsYAxis"}),b=(0,a.A)({},nN,v),{position:w,disableLine:C,disableTicks:x,label:k,labelStyle:A,tickLabelStyle:E,tickSize:M,valueFormatter:T,slots:_,slotProps:P,tickPlacement:I,tickLabelPlacement:R,tickInterval:O,tickLabelInterval:D,sx:L,offset:N,width:F}=b,B=(0,iV.A)(),V=(0,iU.I)(),U=iz(),z=nR(b),{instance:j}=S(),H=t2(),{left:$,top:W,width:q,height:G}=H,K=x?4:M,X=i2({scale:p,tickNumber:m,valueFormatter:T,tickPlacement:I,tickLabelPlacement:R,tickInterval:O,direction:"y"}),Y="right"===w?1:-1,J="number"==typeof(null==E?void 0:E.fontSize)?E.fontSize:12,Q=null!=(i=null==_?void 0:_.axisLine)?i:"line",Z=null!=(n=null==_?void 0:_.axisTick)?n:"line",ee=null!=(r=null==_?void 0:_.axisTickLabel)?r:i7,et=null!=(s=null==_?void 0:_.axisLabel)?s:i7,ei=nr(("right"===w?-90:90)-(null!=(o=null==E?void 0:E.angle)?o:0)),en=ns(("right"===w?-90:90)-(null!=(l=null==E?void 0:E.angle)?l:0)),er=(0,y.A)({elementType:ee,externalSlotProps:null==P?void 0:P.axisTickLabel,additionalProps:{style:(0,a.A)({},B.typography.caption,{fontSize:J,textAnchor:V?no(ei):ei,dominantBaseline:en},E)},className:z.tickLabel,ownerState:{}}),es=(0,y.A)({elementType:et,externalSlotProps:null==P?void 0:P.axisLabel,additionalProps:{style:(0,a.A)({},B.typography.body1,{lineHeight:1,fontSize:14,angle:90*Y,textAnchor:"middle",dominantBaseline:"text-before-edge"},A)},ownerState:{}}),eo=(0,y.A)({elementType:Q,externalSlotProps:null==P?void 0:P.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),ea=p.domain(),el=iQ(p);if(el&&0===ea.length||!el&&ea.some(iZ)||"none"===w)return null;let eu={x:Y*F,y:W+G/2},ed=Math.max(0,F-(k?iJ(k,es.style).height+nD:0)-K-nO),ec=U?nP(X,H,ed,V,er.style):new Map(Array.from(X).map(e=>[e,e.formattedValue]));return(0,ew.jsxs)(nL,{transform:"translate(".concat("right"===w?$+q+N:$-N,", 0)"),className:z.root,sx:L,children:[!C&&(0,ew.jsx)(Q,(0,a.A)({y1:W,y2:W+G,className:z.line},eo)),X.map((e,t)=>{let{offset:i,labelOffset:n,value:r}=e,s=Y*(K+nO),o=n,l="function"==typeof D&&!(null==D?void 0:D(r,t)),u=j.isYInside(i),d=ec.get(e);return u?(0,ew.jsxs)("g",{transform:"translate(0, ".concat(i,")"),className:z.tickContainer,children:[!x&&(0,ew.jsx)(Z,(0,a.A)({x2:Y*K,className:z.tick},null==P?void 0:P.axisTick)),void 0!==d&&!l&&(0,ew.jsx)(ee,(0,a.A)({x:s,y:o,text:d},er))]},t):null}),k&&U&&(0,ew.jsx)("g",{className:z.label,children:(0,ew.jsx)(et,(0,a.A)({},eu,es,{text:k}))})]})}function nB(e){let{slots:t,slotProps:i}=e,{xAxisIds:n,xAxis:r}=tX(),{yAxisIds:s,yAxis:o}=tY();return(0,ew.jsxs)(l.Fragment,{children:[n.map(e=>r[e].position&&"none"!==r[e].position?(0,ew.jsx)(n_,{slots:t,slotProps:i,axisId:e},e):null),s.map(e=>o[e].position&&"none"!==o[e].position?(0,ew.jsx)(nF,{slots:t,slotProps:i,axisId:e},e):null)]})}var nV=i(2821),nU=i(80317);function nz(e){return(0,h.Ay)("MuiChartsTooltip",e)}let nj=(0,p.A)("MuiChartsTooltip",["root","paper","table","row","cell","mark","markContainer","labelCell","valueCell","axisValueCell"]),nH=e=>{let t={root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markContainer:["markContainer"],labelCell:["labelCell"],valueCell:["valueCell"],axisValueCell:["axisValueCell"]};return(0,f.A)(t,nz,e)};function n$(){return E(x(),eV)}let nW=e=>e.interaction,nq=P([nW],e=>void 0!==e),nG=P([nW],e=>e?.item??null),nK=P([nW],e=>e?.pointer??null),nX=P([nK],e=>e&&e.x),nY=P([nK],e=>e&&e.y),nJ=P([nG],e=>null!==e),nQ=P([e=>e],e=>e.zAxis);function nZ(){var e;let{axis:t,axisIds:i}=null!=(e=E(x(),nQ))?e:{axis:{},axisIds:[]};return{zAxis:t,zAxisIds:i}}function n0(){var e,t,i,n,r,s,o,a,l;let u=x(),d=E(u,nG),c=E(u,eU),h=n$(),{xAxis:f,xAxisIds:p}=tX(),{yAxis:m,yAxisIds:g}=tY(),{zAxis:v,zAxisIds:y}=nZ(),{rotationAxis:b,rotationAxisIds:S}=tZ(),{radiusAxis:w,radiusAxisIds:C}=t0(),k=null!=(n=h.xAxisId)?n:p[0],A=null!=(r=h.yAxisId)?r:g[0],M=null!=(s=h.zAxisId)?s:y[0],T=null!=(o=h.rotationAxisId)?o:S[0],_=null!=(a=h.radiusAxisId)?a:C[0];if(!d)return null;let P=null==(e=h[d.type])?void 0:e.series[d.seriesId];if(!P)return null;let I=null!=(l=null==(t=(i=c[P.type]).colorProcessor)?void 0:t.call(i,P,k&&f[k],A&&m[A],M&&v[M]))?l:()=>"",R={};return void 0!==k&&(R.x=f[k]),void 0!==A&&(R.y=m[A]),void 0!==T&&(R.rotation=b[T]),void 0!==_&&(R.radius=w[_]),c[P.type].tooltipGetter({series:P,axesConfig:R,getColor:I,identifier:d})}let n1=(0,c.Ay)("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,borderRadius:(e.vars||e).shape?.borderRadius,border:`solid ${(e.vars||e).palette.divider} 1px`})),n2=(0,c.Ay)("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:e})=>({borderSpacing:0,[`& .${nj.markContainer}`]:{display:"inline-block",width:`calc(20px + ${e.spacing(1.5)})`,verticalAlign:"middle"},"& caption":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`,padding:e.spacing(.5,1.5),textAlign:"start",whiteSpace:"nowrap","& span":{marginRight:e.spacing(1.5)}}})),n5=(0,c.Ay)("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(.5)},"tr:last-of-type& td":{paddingBottom:e.spacing(.5)}})),n3=(0,c.Ay)(nU.A,{name:"MuiChartsTooltip",slot:"Cell"})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,textAlign:"start",[`&.${nj.cell}`]:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},[`&.${nj.labelCell}`]:{fontWeight:e.typography.fontWeightRegular},[`&.${nj.valueCell}, &.${nj.axisValueCell}`]:{color:(e.vars||e).palette.text.primary,fontWeight:e.typography.fontWeightMedium},[`&.${nj.valueCell}`]:{paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)},"td:first-of-type&, th:first-of-type&":{paddingLeft:e.spacing(1.5)},"td:last-of-type&, th:last-of-type&":{paddingRight:e.spacing(1.5)}}));function n4(e){return(0,h.Ay)("MuiChartsLabelMark",e)}let n6=(0,p.A)("MuiChartsLabelMark",["root","line","square","circle","mask","fill"]),n8=e=>{let{type:t}=e,i={root:"function"==typeof t?["root"]:["root",t],mask:["mask"],fill:["fill"]};return(0,f.A)(i,n4,e.classes)};var n9=i(6911);let n7=(e,t,i)=>l.forwardRef(function(n,r){let s=(0,u.A)({props:n,name:e}),o="function"==typeof t.defaultProps?t.defaultProps(s):t.defaultProps??{},d=(0,n9.A)(o,s),c=(0,iV.A)(),h=t.classesResolver?.(d,c),f=l.forwardRef(i);return(0,ew.jsx)(f,(0,a.A)({},d,{classes:h,ref:r}))}),re=["type","color","className","classes"],rt=(0,c.Ay)("div",{name:"MuiChartsLabelMark",slot:"Root"})(()=>({display:"flex",width:14,height:14,["&.".concat(n6.line)]:{width:16,height:"unset",alignItems:"center",[".".concat(n6.mask)]:{height:4,width:"100%",borderRadius:1,overflow:"hidden"}},["&.".concat(n6.square)]:{height:13,width:13,borderRadius:2,overflow:"hidden"},["&.".concat(n6.circle)]:{height:15,width:15},svg:{display:"block"},["& .".concat(n6.mask," > *")]:{height:"100%",width:"100%"},["& .".concat(n6.mask)]:{height:"100%",width:"100%"}})),ri=n7("MuiChartsLabelMark",{defaultProps:{type:"square"},classesResolver:n8},function(e,t){let{type:i,color:n,className:r,classes:s}=e,o=(0,d.A)(e,re),l=i;return(0,ew.jsx)(rt,(0,a.A)({className:(0,nV.A)(null==s?void 0:s.root,r),ownerState:e,"aria-hidden":"true",ref:t},o,{children:(0,ew.jsx)("div",{className:null==s?void 0:s.mask,children:"function"==typeof l?(0,ew.jsx)(l,{className:null==s?void 0:s.fill,color:n}):(0,ew.jsx)("svg",{viewBox:"0 0 24 24",preserveAspectRatio:"line"===i?"none":void 0,children:"circle"===i?(0,ew.jsx)("circle",{className:null==s?void 0:s.fill,r:"12",cx:"12",cy:"12",fill:n}):(0,ew.jsx)("rect",{className:null==s?void 0:s.fill,width:"24",height:"24",fill:n})})})}))});function rn(e){let{classes:t,sx:i}=e,n=n0(),r=nH(t);if(!n)return null;if("values"in n){let{label:e,color:t,markType:s}=n;return(0,ew.jsx)(n1,{sx:i,className:r.paper,children:(0,ew.jsxs)(n2,{className:r.table,children:[(0,ew.jsxs)(nU.A,{component:"caption",children:[(0,ew.jsx)("div",{className:r.markContainer,children:(0,ew.jsx)(ri,{type:s,color:t,className:r.mark})}),e]}),(0,ew.jsx)("tbody",{children:n.values.map(e=>{let{formattedValue:t,label:i}=e;return(0,ew.jsxs)(n5,{className:r.row,children:[(0,ew.jsx)(n3,{className:(0,nV.A)(r.labelCell,r.cell),component:"th",children:i}),(0,ew.jsx)(n3,{className:(0,nV.A)(r.valueCell,r.cell),component:"td",children:t})]},i)})})]})})}let{color:s,label:o,formattedValue:a,markType:l}=n;return(0,ew.jsx)(n1,{sx:i,className:r.paper,children:(0,ew.jsx)(n2,{className:r.table,children:(0,ew.jsx)("tbody",{children:(0,ew.jsxs)(n5,{className:r.row,children:[(0,ew.jsxs)(n3,{className:(0,nV.A)(r.labelCell,r.cell),component:"th",children:[(0,ew.jsx)("div",{className:r.markContainer,children:(0,ew.jsx)(ri,{type:l,color:s,className:r.mark})}),o]}),(0,ew.jsx)(n3,{className:(0,nV.A)(r.valueCell,r.cell),component:"td",children:a})]})})})})}function rr(e){let t=E(x(),eU),i=l.useMemo(()=>{let e={};return Object.keys(t).forEach(i=>{e[i]=t[i].colorProcessor}),e},[t]);return e?i[e]:i}function rs(e,t){return"function"==typeof e?e(t):e}var ro=i(33868);function ra(){let e=S();if(!e)throw Error("MUI X Charts: Could not find the svg ref context.\nIt looks like you rendered your component outside of a ChartContainer parent component.");return e.svgRef}function rl(){let e=ra(),[t,i]=l.useState(null);return l.useEffect(()=>{let t=e.current;if(null===t)return()=>{};let n=e=>{"mouse"!==e.pointerType&&i(null)},r=e=>{i({pointerType:e.pointerType})};return t.addEventListener("pointerenter",r),t.addEventListener("pointerup",n),()=>{t.removeEventListener("pointerenter",r),t.removeEventListener("pointerup",n)}},[e]),t}function ru(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}let rd="@media (pointer: fine)",rc=()=>(0,ro.A)(rd,{defaultMatches:!0});var rh=i(53559);function rf(e){return e instanceof Date?e.getTime():e}function rp(e,t){let{scale:i,data:n,reverse:r}=e;if(!iQ(i)){let e=i.invert(t);if(void 0===n)return -1;let r=rf(e);return n?.findIndex((t,i)=>{let s=rf(t);return!!(s>r&&(0===i||Math.abs(r-s)<=Math.abs(r-rf(n[i-1])))||s<=r&&(i===n.length-1||Math.abs(rf(e)-s)<Math.abs(rf(e)-rf(n[i+1]))))})}let s=0===i.bandwidth()?Math.floor((t-Math.min(...i.range())+i.step()/2)/i.step()):Math.floor((t-Math.min(...i.range()))/i.step());return s<0||s>=n.length?-1:r?n.length-1-s:s}function rm(e,t,i){let{scale:n,data:r}=e;if(!iQ(n)){let e=n.invert(t);return i<0?e:r[i]}return i<0||i>=r.length?null:r[i]}let rg=(e,t)=>t;function rv(e,t,i=t.axisIds[0]){return Array.isArray(i)?i.map(i=>rp(t.axis[i],e)):rp(t.axis[i],e)}let ry=(e,t,i)=>{if(null===e)return null;let n=rv(e,t,i);return -1===n?null:n},rb=P([nX,tR,rg],ry),rS=P([nY,tO,rg],ry),rw=P([nX,nY,tR,tO],(e,t,i,n)=>[...null===e?[]:i.axisIds.map(t=>({axisId:t,dataIndex:rv(e,i,t)})),...null===t?[]:n.axisIds.map(e=>({axisId:e,dataIndex:rv(t,n,e)}))].filter(e=>null!==e.dataIndex&&e.dataIndex>=0));function rC(e,t,i,n=t.axisIds[0]){return Array.isArray(n)?n.map((n,r)=>rm(t.axis[n],e,i[r])):rm(t.axis[n],e,i)}let rx=P([nX,tR,rb,rg],(e,t,i,n)=>null===e||null===i||0===t.axisIds.length?null:rC(e,t,i,n)),rk=P([nY,tO,rS,rg],(e,t,i,n)=>null===e||null===i||0===t.axisIds.length?null:rC(e,t,i,n)),rA=P([nX,tR],(e,t)=>null===e?[]:t.axisIds.filter(e=>t.axis[e].triggerTooltip).map(i=>({axisId:i,dataIndex:rp(t.axis[i],e)})).filter(({dataIndex:e})=>e>=0),{memoizeOptions:{resultEqualityCheck:rh.H}}),rE=P([nY,tO],(e,t)=>null===e?[]:t.axisIds.filter(e=>t.axis[e].triggerTooltip).map(i=>({axisId:i,dataIndex:rp(t.axis[i],e)})).filter(({dataIndex:e})=>e>=0),{memoizeOptions:{resultEqualityCheck:rh.H}}),rM=P([rA,rE],(e,t)=>e.length>0||t.length>0),rT=e=>(t,i)=>Math.atan2(t-e.cx,e.cy-i);function r_(e,t){let{scale:i,data:n,reverse:r}=e;if(!iQ(i))throw Error("MUI X Charts: getAxisValue is not implemented for polare continuous axes.");if(!n)return -1;let s=nn(t-Math.min(...i.range())),o=0===i.bandwidth()?Math.floor((s+i.step()/2)/i.step())%n.length:Math.floor(s/i.step());return o<0||o>=n.length?-1:r?n.length-1-o:o}let rP=(e,t)=>t,rI=(e,t)=>t;function rR(e,t,i){return Array.isArray(i)?i.map(i=>r_(t.axis[i],e)):r_(t.axis[i],e)}let rO=P([nX,nY,tK],(e,t,i)=>null===e||null===t?null:rT(i)(e,t)),rD=P([rO,tq,rP],(e,t,i=t.axisIds[0])=>null===e?null:rR(e,t,i)),rL=P([rO,tq,rI],(e,t,i=t.axisIds)=>null===e?null:rR(e,t,i));P([tq,rD,rP],(e,t,i=e.axisIds[0])=>{if(null===t||-1===t||0===e.axisIds.length)return null;let n=e.axis[i]?.data;return n?n[t]:null}),P([tq,rL,rI],(e,t,i=e.axisIds)=>null===t?null:i.map((i,n)=>{let r=t[n];return -1===r?null:e.axis[i].data?.[r]}));let rN=P([rL,tq],(e,t)=>null===e?[]:t.axisIds.map((t,i)=>({axisId:t,dataIndex:e[i]})).filter(({axisId:e,dataIndex:i})=>t.axis[e].triggerTooltip&&i>=0),{memoizeOptions:{resultEqualityCheck:rh.H}});P([],()=>[]);let rF=P([rN],e=>e.length>0);function rB(e,t,i){var n,r,s;let o=null!=(r=null==(n=e.data)?void 0:n[t])?r:null,a=(null!=(s=e.valueFormatter)?s:t=>"utc"===e.scaleType?ru(t):t.toLocaleString())(o,{location:"tooltip",scale:e.scale});return{axisDirection:i,axisId:e.id,mainAxis:e,dataIndex:t,axisValue:o,axisFormattedValue:a,seriesItems:[]}}function rV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{multipleAxes:t,directions:i}=e,n=tJ(),r=tQ(),s=t1(),o=x(),a=E(o,rA),l=E(o,rE),u=E(o,rN),d=n$(),{xAxis:c}=tX(),{yAxis:h}=tY(),{zAxis:f,zAxisIds:p}=nZ(),{rotationAxis:m}=tZ(),g=rr();if(0===a.length&&0===l.length&&0===u.length)return null;let v=[];return((void 0===i||i.includes("x"))&&a.forEach(e=>{let{axisId:i,dataIndex:n}=e;(t||!(v.length>1))&&v.push(rB(c[i],n,"x"))}),(void 0===i||i.includes("y"))&&l.forEach(e=>{let{axisId:i,dataIndex:n}=e;(t||!(v.length>1))&&v.push(rB(h[i],n,"y"))}),(void 0===i||i.includes("rotation"))&&u.forEach(e=>{let{axisId:i,dataIndex:n}=e;(t||!(v.length>1))&&v.push(rB(m[i],n,"rotation"))}),Object.keys(d).filter(to).forEach(e=>{let t=d[e];return t?t.seriesOrder.forEach(i=>{var s,o,a,l,u,d;let m=t.series[i],y=null!=(s=m.xAxisId)?s:n.id,b=null!=(o=m.yAxisId)?o:r.id,S=v.findIndex(e=>{let{axisDirection:t,axisId:i}=e;return"x"===t&&i===y||"y"===t&&i===b});if(S>=0){let t="zAxisId"in m?m.zAxisId:p[0],{dataIndex:n}=v[S],r=null!=(l=null==(a=g[e])?void 0:a.call(g,m,c[y],h[b],t?f[t]:void 0)(n))?l:"",s=null!=(u=m.data[n])?u:null,o=m.valueFormatter(s,{dataIndex:n}),w=null!=(d=rs(m.label,"tooltip"))?d:null;v[S].seriesItems.push({seriesId:i,color:r,value:s,formattedValue:o,formattedLabel:w,markType:m.labelMarkType})}}):[]}),Object.keys(d).filter(tD).forEach(e=>{let t=d[e];return t?t.seriesOrder.forEach(i=>{var n,r,o,a,l;let u=t.series[i],d=null!=(n=u.rotationAxisId)?n:null==s?void 0:s.id,c=v.findIndex(e=>{let{axisDirection:t,axisId:i}=e;return"rotation"===t&&i===d});if(c>=0){let{dataIndex:t}=v[c],n=null!=(o=null==(r=g[e])?void 0:r.call(g,u)(t))?o:"",s=null!=(a=u.data[t])?a:null,d=u.valueFormatter(s,{dataIndex:t}),h=null!=(l=rs(u.label,"tooltip"))?l:null;v[c].seriesItems.push({seriesId:i,color:n,value:s,formattedValue:d,formattedLabel:h,markType:u.labelMarkType})}}):[]}),t)?v:0===v.length?v[0]:null}function rU(e){return rV((0,a.A)({},e,{multipleAxes:!0}))}function rz(e){let t=nH(e.classes),i=rU();return null===i?null:(0,ew.jsx)(n1,{sx:e.sx,className:t.paper,children:i.map(e=>{let{axisId:i,mainAxis:n,axisValue:r,axisFormattedValue:s,seriesItems:o}=e;return(0,ew.jsxs)(n2,{className:t.table,children:[null!=r&&!n.hideTooltip&&(0,ew.jsx)(nU.A,{component:"caption",children:s}),(0,ew.jsx)("tbody",{children:o.map(e=>{let{seriesId:i,color:n,formattedValue:r,formattedLabel:s,markType:o}=e;return null==r?null:(0,ew.jsxs)(n5,{className:t.row,children:[(0,ew.jsxs)(n3,{className:(0,nV.A)(t.labelCell,t.cell),component:"th",children:[(0,ew.jsx)("div",{className:t.markContainer,children:(0,ew.jsx)(ri,{type:o,color:n,className:t.mark})}),s||null]}),(0,ew.jsx)(n3,{className:(0,nV.A)(t.valueCell,t.cell),component:"td",children:r})]},i)})})]},i)})})}var rj=i(8199),rH=i(92988);let r$=function e(e){let{children:t,defer:i=!1,fallback:n=null}=e,[r,s]=l.useState(!1);return(0,$.A)(()=>{i||s(!0)},[i]),l.useEffect(()=>{i&&s(!0)},[i]),r?t:n};function rW(e){let t,i,n=()=>{i=null,e(...t)};function r(...e){t=e,i||(i=requestAnimationFrame(n))}return r.clear=()=>{i&&(cancelAnimationFrame(i),i=null)},r}function rq(){let e=x(),t=E(e,t$),i=E(e,eE);return void 0!==t?"polar":void 0!==i?"cartesian":"none"}let rG=["trigger","classes","children"],rK=()=>!1,rX=(0,c.Ay)(rH.A,{name:"MuiChartsTooltip",slot:"Root"})(e=>{let{theme:t}=e;return{pointerEvents:"none",zIndex:t.zIndex.modal}});function rY(e){let t=(0,u.A)({props:e,name:"MuiChartsTooltipContainer"}),{trigger:i="axis",classes:n,children:r}=t,s=(0,d.A)(t,rG),o=ra(),c=nH(n),h=rl(),f=rc(),p=l.useRef(null),m=(0,rj.A)(()=>({x:0,y:0})),g=rq(),v=E(x(),"axis"===i?"polar"===g&&rF||"cartesian"===g&&rM||rK:nJ);l.useEffect(()=>{let e=o.current;if(null===e)return()=>{};let t=rW(()=>{var e;return null==(e=p.current)?void 0:e.update()}),i=e=>{m.current={x:e.clientX,y:e.clientY},t()};return e.addEventListener("pointerdown",i),e.addEventListener("pointermove",i),()=>{e.removeEventListener("pointerdown",i),e.removeEventListener("pointermove",i),t.clear()}},[o,m]);let y=l.useMemo(()=>({getBoundingClientRect:()=>({x:m.current.x,y:m.current.y,top:m.current.y,left:m.current.x,right:m.current.x,bottom:m.current.y,width:0,height:0,toJSON:()=>""})}),[m]),b=(null==h?void 0:h.pointerType)==="mouse"||f,S=(null==h?void 0:h.pointerType)==="touch"||!f,w=l.useMemo(()=>[{name:"offset",options:{offset:()=>S?[0,64]:[0,8]}},...b?[]:[{name:"flip",options:{fallbackPlacements:["top-end","top-start","bottom-end","bottom"]}}]],[b,S]);return"none"===i?null:(0,ew.jsx)(r$,{children:v&&(0,ew.jsx)(rX,(0,a.A)({className:null==c?void 0:c.root,open:v,placement:b?"right-start":"top",popperRef:p,anchorEl:y,modifiers:w},s,{children:r}))})}function rJ(e){let{classes:t,trigger:i="axis"}=e,n=nH(t);return(0,ew.jsx)(rY,(0,a.A)({},e,{classes:t,children:"axis"===i?(0,ew.jsx)(rz,{classes:n}):(0,ew.jsx)(rn,{classes:n})}))}function rQ(e,t){return Object.keys(e).flatMap(i=>{let n=t[i].legendGetter;return void 0===n?[]:n(e[i])})}function rZ(){return{items:rQ(n$(),E(x(),eU))}}let r0=e=>({type:"series",color:e.color,label:e.label,seriesId:e.seriesId,itemId:e.itemId});function r1(e){return(0,h.Ay)("MuiChartsLegend",e)}let r2=e=>{let{classes:t,direction:i}=e,n={root:["root",i],item:["item"],mark:["mark"],label:["label"],series:["series"]};return(0,f.A)(n,r1,t)},r5=(0,p.A)("MuiChartsLegend",["root","item","series","mark","label","vertical","horizontal"]),r3=["slots","slotProps"],r4=["ownerState"],r6=(e,t,i,n)=>{function r(r,s){let o=(0,u.A)({props:r,name:e}),l="function"==typeof i.defaultProps?i.defaultProps(o):i.defaultProps??{},c=(0,n9.A)(l,o),h=c,{slots:f,slotProps:p}=h,m=(0,d.A)(h,r3),g=(0,iV.A)(),v=i.classesResolver?.(c,g),b=f?.[t]??n,S=i.propagateSlots&&!f?.[t],w=(0,y.A)({elementType:b,externalSlotProps:p?.[t],additionalProps:(0,a.A)({},m,{classes:v},S&&{slots:f,slotProps:p}),ownerState:{}}),C=(0,d.A)(w,r4),x=(0,a.A)({},C);for(let e of i.omitProps??[])delete x[e];return(0,ew.jsx)(b,(0,a.A)({},x,{ref:s}))}return l.forwardRef(r)};function r8(e){return(0,h.Ay)("MuiChartsLabel",e)}(0,p.A)("MuiChartsLabel",["root"]);let r9=["children","className","classes"],r7=n7("MuiChartsLabel",{classesResolver:e=>{let t={root:["root"]};return(0,f.A)(t,r8,e.classes)}},function(e,t){let{children:i,className:n,classes:r}=e,s=(0,d.A)(e,r9);return(0,ew.jsx)("span",(0,a.A)({className:(0,nV.A)(null==r?void 0:r.root,n),ref:t},s,{children:i}))}),se=["direction","onItemClick","className","classes"],st=(0,c.Ay)("ul",{name:"MuiChartsLegend",slot:"Root"})(e=>{let{ownerState:t,theme:i}=e;return(0,a.A)({},i.typography.caption,{color:(i.vars||i).palette.text.primary,lineHeight:"100%",display:"flex",flexDirection:"vertical"===t.direction?"column":"row",alignItems:"vertical"===t.direction?void 0:"center",flexShrink:0,gap:i.spacing(2),listStyleType:"none",paddingInlineStart:0,marginBlock:i.spacing(1),marginInline:i.spacing(1),flexWrap:"wrap",li:{display:"horizontal"===t.direction?"inline-flex":void 0},["button.".concat(r5.series)]:{background:"none",border:"none",padding:0,fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",letterSpacing:"inherit",color:"inherit"},["& .".concat(r5.series)]:{display:"vertical"===t.direction?"flex":"inline-flex",alignItems:"center",gap:i.spacing(1)}})}),si=r6("MuiChartsLegend","legend",{defaultProps:{direction:"horizontal"},omitProps:["position"],classesResolver:r2},l.forwardRef(function(e,t){let i=rZ(),{onItemClick:n,className:r,classes:s}=e,o=(0,d.A)(e,se);if(0===i.items.length)return null;let l=n?"button":"div";return(0,ew.jsx)(st,(0,a.A)({className:(0,nV.A)(null==s?void 0:s.root,r),ref:t},o,{ownerState:e,children:i.items.map((e,t)=>(0,ew.jsx)("li",{className:null==s?void 0:s.item,"data-series":e.id,children:(0,ew.jsxs)(l,{className:null==s?void 0:s.series,role:n?"button":void 0,type:n?"button":void 0,onClick:n?i=>n(i,r0(e),t):void 0,children:[(0,ew.jsx)(ri,{className:null==s?void 0:s.mark,color:e.color,type:e.markType}),(0,ew.jsx)(r7,{className:null==s?void 0:s.label,children:e.label})]})},e.id))}))}));function sn(e){return(0,h.Ay)("MuiChartsAxisHighlight",e)}function sr(e){return iQ(e)?t=>{var i;return(null!=(i=e(t))?i:0)+e.bandwidth()/2}:t=>e(t)}(0,p.A)("MuiChartsAxisHighlight",["root"]);let ss=e=>e.controlledCartesianAxisHighlight,so=(e,t,i)=>void 0!==i?i.filter(e=>void 0!==t.axis[e.axisId]).map(e=>e):null===e?[]:[{axisId:t.axisIds[0],dataIndex:e}];P([rb,tR,ss],so),P([rS,tO,ss],so);let sa=(e,t,i,n)=>void 0!==n?n.map(e=>(0,a.A)({},e,{value:i.axis[e.axisId]?.data?.[e.dataIndex]})).filter(({value:e})=>void 0!==e):null===t?[]:[{axisId:i.axisIds[0],dataIndex:e,value:t}],sl=P([rb,rx,tR,ss],sa),su=P([rS,rk,tO,ss],sa),sd=(e,t)=>void 0===e?[t.axis[t.axisIds[0]]]:e.map(e=>t.axis[e.axisId]??null).filter(e=>null!==e);P([ss,tR],sd),P([ss,tO],sd);let sc=(0,c.Ay)("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(e=>{let{theme:t}=e;return{pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:(0,a.A)({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:(0,a.A)({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}});function sh(e){let{type:t,classes:i}=e,{left:n,width:r}=t2(),s=x(),o=E(s,su),a=E(s,tO);return 0===o.length?null:o.map(e=>{let{axisId:s,value:o}=e,u=a.axis[s].scale,d=sr(u),c="band"===t&&null!==o&&iQ(u);return(0,ew.jsxs)(l.Fragment,{children:[c&&void 0!==u(o)&&(0,ew.jsx)(sc,{d:"M ".concat(n," ").concat(u(o)-(u.step()-u.bandwidth())/2," l 0 ").concat(u.step()," l ").concat(r," 0 l 0 ").concat(-u.step()," Z"),className:i.root,ownerState:{axisHighlight:"band"}}),"line"===t&&null!==o&&(0,ew.jsx)(sc,{d:"M ".concat(n," ").concat(d(o)," L ").concat(n+r," ").concat(d(o)),className:i.root,ownerState:{axisHighlight:"line"}})]},"".concat(s,"-").concat(o))})}function sf(e){let{type:t,classes:i}=e,{top:n,height:r}=t2(),s=x(),o=E(s,sl),a=E(s,tR);return 0===o.length?null:o.map(e=>{let{axisId:s,value:o}=e,u=a.axis[s].scale,d=sr(u),c="band"===t&&null!==o&&iQ(u);return(0,ew.jsxs)(l.Fragment,{children:[c&&void 0!==u(o)&&(0,ew.jsx)(sc,{d:"M ".concat(u(o)-(u.step()-u.bandwidth())/2," ").concat(n," l ").concat(u.step()," 0 l 0 ").concat(r," l ").concat(-u.step()," 0 Z"),className:i.root,ownerState:{axisHighlight:"band"}}),"line"===t&&null!==o&&(0,ew.jsx)(sc,{d:"M ".concat(d(o)," ").concat(n," L ").concat(d(o)," ").concat(n+r),className:i.root,ownerState:{axisHighlight:"line"}})]},"".concat(s,"-").concat(o))})}let sp=()=>{let e={root:["root"]};return(0,f.A)(e,sn)};function sm(e){let{x:t,y:i}=e,n=sp();return(0,ew.jsxs)(l.Fragment,{children:[t&&(0,ew.jsx)(sf,{type:t,classes:n}),i&&(0,ew.jsx)(sh,{type:i,classes:n})]})}function sg(e){let{id:t,offset:i}=e,{left:n,top:r,width:s,height:o}=t2(),l=(0,a.A)({top:0,right:0,bottom:0,left:0},i);return(0,ew.jsx)("clipPath",{id:t,children:(0,ew.jsx)("rect",{x:n-l.left,y:r-l.top,width:s+l.left+l.right,height:o+l.top+l.bottom})})}var sv=i(83958);let sy=(0,c.Ay)("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${sv.u.verticalLine}`]:t.verticalLine},{[`&.${sv.u.horizontalLine}`]:t.horizontalLine},t.root]})({}),sb=(0,c.Ay)("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:e})=>({stroke:(e.vars||e).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function sS(e){let{axis:t,start:i,end:n,classes:r}=e,{scale:s,tickNumber:o,tickInterval:a}=t,u=i2({scale:s,tickNumber:o,tickInterval:a,direction:"x"});return(0,ew.jsx)(l.Fragment,{children:u.map(({value:e,offset:t})=>(0,ew.jsx)(sb,{y1:i,y2:n,x1:t,x2:t,className:r.verticalLine},`vertical-${e?.getTime?.()??e}`))})}function sw(e){let{axis:t,start:i,end:n,classes:r}=e,{scale:s,tickNumber:o,tickInterval:a}=t,u=i2({scale:s,tickNumber:o,tickInterval:a,direction:"y"});return(0,ew.jsx)(l.Fragment,{children:u.map(({value:e,offset:t})=>(0,ew.jsx)(sb,{y1:t,y2:t,x1:i,x2:n,className:r.horizontalLine},`horizontal-${e?.getTime?.()??e}`))})}let sC=["vertical","horizontal"],sx=e=>{let{classes:t}=e,i={root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]};return(0,f.A)(i,sv.E,t)};function sk(e){let t=(0,u.A)({props:e,name:"MuiChartsGrid"}),i=t2(),{vertical:n,horizontal:r}=t,s=(0,d.A)(t,sC),{xAxis:o,xAxisIds:l}=tX(),{yAxis:c,yAxisIds:h}=tY(),f=sx(t),p=c[h[0]],m=o[l[0]];return(0,ew.jsxs)(sy,(0,a.A)({},s,{className:f.root,children:[n&&(0,ew.jsx)(sS,{axis:m,start:i.top,end:i.height+i.top,classes:f}),r&&(0,ew.jsx)(sw,{axis:p,start:i.left,end:i.width+i.left,classes:f})]}))}let sA={"image/png":"PNG","image/jpeg":"JPEG","image/webp":"WebP"},sE={loading:"Loading data",noData:"No data to display",zoomIn:"Zoom in",zoomOut:"Zoom out",toolbarExport:"Export",toolbarExportPrint:"Print",toolbarExportImage:e=>`Export as ${sA[e]??e}`},sM=sE;o=sE,(0,a.A)({},o);let sT=["localeText"],s_=l.createContext(null);function sP(e){var t;let{localeText:i}=e,n=(0,d.A)(e,sT),{localeText:r}=null!=(t=l.useContext(s_))?t:{localeText:void 0},{children:s,localeText:o}=(0,u.A)({props:n,name:"MuiChartsLocalizationProvider"}),c=l.useMemo(()=>(0,a.A)({},sM,o,r,i),[o,r,i]),h=l.useMemo(()=>({localeText:c}),[c]);return(0,ew.jsx)(s_.Provider,{value:h,children:s})}let sI=()=>{let e=l.useContext(s_);if(null===e)throw Error("MUI X Charts: Can not find the charts localization context.\nIt looks like you forgot to wrap your component in ChartsLocalizationProvider.\nThis can also happen if you are bundling multiple versions of the `@mui/x-charts` package");return e},sR=["message"],sO=(0,c.Ay)("text")(e=>{let{theme:t}=e;return(0,a.A)({},t.typography.body2,{stroke:"none",fill:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"})});function sD(e){let{message:t}=e,i=(0,d.A)(e,sR),{top:n,left:r,height:s,width:o}=t2(),{localeText:l}=sI();return(0,ew.jsx)(sO,(0,a.A)({x:r+o/2,y:n+s/2},i,{children:null!=t?t:l.loading}))}let sL=["message"],sN=(0,c.Ay)("text")(e=>{let{theme:t}=e;return(0,a.A)({},t.typography.body2,{stroke:"none",fill:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"})});function sF(e){let{message:t}=e,i=(0,d.A)(e,sL),{top:n,left:r,height:s,width:o}=t2(),{localeText:l}=sI();return(0,ew.jsx)(sN,(0,a.A)({x:r+o/2,y:n+s/2},i,{children:null!=t?t:l.noData}))}function sB(){return Object.values(n$()).every(e=>{if(!e)return!0;let{series:t,seriesOrder:i}=e;return i.every(e=>0===t[e].data.length)})}function sV(e){var t,i,n,r,s,o;let l=sB();if(e.loading){let r=null!=(n=null==(t=e.slots)?void 0:t.loadingOverlay)?n:sD;return(0,ew.jsx)(r,(0,a.A)({},null==(i=e.slotProps)?void 0:i.loadingOverlay))}if(l){let t=null!=(o=null==(r=e.slots)?void 0:r.noDataOverlay)?o:sF;return(0,ew.jsx)(t,(0,a.A)({},null==(s=e.slotProps)?void 0:s.noDataOverlay))}return null}var sU=i(59357);function sz(e,t){return void 0!==e.id?e:(0,a.A)({id:t},e)}function sj(e){return e.colorMap?(0,a.A)({},e,{colorScale:"ordinal"===e.colorMap.type&&e.data?eY((0,a.A)({values:e.data},e.colorMap)):eJ("continuous"===e.colorMap.type?(0,a.A)({min:e.min,max:e.max},e.colorMap):e.colorMap)}):e}function sH(e,t){if(!e||0===e.length)return{axis:{},axisIds:[]};let i={},n=[];return e.forEach((e,r)=>{var s;let o=e.dataKey,l=null!=(s=e.id)?s:"defaultized-z-axis-".concat(r);if(void 0===o||void 0!==e.data){i[l]=sj(sz(e,l)),n.push(l);return}if(void 0===t)throw Error("MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.");i[l]=sj(sz((0,a.A)({},e,{data:t.map(e=>e[o])}),l)),n.push(l)}),{axis:i,axisIds:n}}let s$=e=>{let{params:t,store:i}=e,{zAxis:n,dataset:r}=t,s=l.useRef(!0);return l.useEffect(()=>{if(s.current){s.current=!1;return}i.update(e=>(0,a.A)({},e,{zAxis:sH(n,r)}))},[n,r,i]),{}};s$.params={zAxis:!0,dataset:!0},s$.getInitialState=e=>({zAxis:sH(e.zAxis,e.dataset)});let sW=()=>{},sq=["#4254FB","#FFB422","#FA4F58","#0DBEFF","#22BF75","#FA83B4","#FF7511"],sG=["#495AFB","#FFC758","#F35865","#30C8FF","#44CE8D","#F286B3","#FF8C39"],sK=e=>"dark"===e?sG:sq;function sX(e,t){let i={top:0,bottom:0,none:0};return(e&&e.length>0?e:[{id:iw,scaleType:"linear"}]).map((e,n)=>{let r=e.dataKey,s=0===n?"bottom":"none",o=e.position??s,l=iA+(e.label?iE:0),u=e.id??`defaultized-x-axis-${n}`,d=(0,a.A)({offset:i[o]},e,{id:u,position:o,height:e.height??l,zoom:tw(e.zoom,u,"x")});if("none"!==o&&(i[o]+=d.height,d.zoom?.slider.enabled&&(i[o]+=d.zoom.slider.size)),void 0===r||void 0!==e.data)return d;if(void 0===t)throw Error("MUI X Charts: x-axis uses `dataKey` but no `dataset` is provided.");return(0,a.A)({},d,{data:t.map(e=>e[r])})})}function sY(e,t){let i={right:0,left:0,none:0};return(e&&e.length>0?e:[{id:iC,scaleType:"linear"}]).map((e,n)=>{let r=e.dataKey,s=0===n?"left":"none",o=e.position??s,l=ik+(e.label?iE:0),u=e.id??`defaultized-y-axis-${n}`,d=(0,a.A)({offset:i[o]},e,{id:u,position:o,width:e.width??l,zoom:tw(e.zoom,u,"y")});if("none"!==o&&(i[o]+=d.width,d.zoom?.slider.enabled&&(i[o]+=d.zoom.slider.size)),void 0===r||void 0!==e.data)return d;if(void 0===t)throw Error("MUI X Charts: y-axis uses `dataKey` but no `dataset` is provided.");return(0,a.A)({},d,{data:t.map(e=>e[r])})})}function sJ(e,t){let i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i.matrixTransform(e.getScreenCTM().inverse())}let sQ=()=>{};function sZ(e,t,i,n){let r=(0,rj.A)(s0,{store:e,selector:t,skip:n}).current;r.effect=i,l.useEffect(r.onMount(n),[n])}function s0(e){let t,{store:i,selector:n,skip:r}=e,s=!1,o=()=>{var e,r;null!=(r=(e=a).dispose)||(e.dispose=i.subscribe(e=>{let i=n(e);a.effect(t,i),t=i}))},a={effect:sQ,dispose:null,onMount:e=>()=>{if(!e)return s||(s=!0,t=n(i.value)),o(),()=>{var e;null==(e=a.dispose)||e.call(a),a.dispose=null}}};return r||(s=!0,t=n(i.value),o()),a}let s1=e=>{let{params:t,store:i,seriesConfig:n,svgRef:r,instance:s}=e,{xAxis:o,yAxis:u,dataset:d,onHighlightedAxisChange:c}=t,h=E(i,eL),f=E(i,eV),p=E(i,nq),{axis:m,axisIds:g}=E(i,tR),{axis:v,axisIds:y}=E(i,tO);sW({warningPrefix:"MUI X Charts",componentName:"Chart",propName:"highlightedAxis",controlled:t.highlightedAxis,defaultValue:void 0}),(0,$.A)(()=>{void 0!==t.highlightedAxis&&i.update(e=>e.controlledCartesianAxisHighlight===t.highlightedAxis?e:(0,a.A)({},e,{controlledCartesianAxisHighlight:t.highlightedAxis}))},[i,t.highlightedAxis]);let b=l.useRef(!0);l.useEffect(()=>{if(b.current){b.current=!1;return}i.update(e=>(0,a.A)({},e,{cartesianAxis:(0,a.A)({},e.cartesianAxis,{x:sX(o,d),y:sY(u,d)})}))},[n,h,o,u,d,i]);let S=g[0],w=y[0];return sZ(i,rw,(e,t)=>{if(!Object.is(e,t)){if(e.length!==t.length)return void c(t);(null==e?void 0:e.some((e,i)=>{let{axisId:n,dataIndex:r}=e;return t[i].axisId!==n||t[i].dataIndex!==r}))&&c(t)}},!c),l.useEffect(()=>{let e=r.current;if(!p||!e||t.disableAxisListener)return()=>{};let i=s.addInteractionListener("moveEnd",e=>{if(!e.detail.activeGestures.pan){var t;null==(t=s.cleanInteraction)||t.call(s)}}),n=s.addInteractionListener("panEnd",e=>{if(!e.detail.activeGestures.move){var t;null==(t=s.cleanInteraction)||t.call(s)}}),o=s.addInteractionListener("quickPressEnd",e=>{if(!e.detail.activeGestures.move&&!e.detail.activeGestures.pan){var t;null==(t=s.cleanInteraction)||t.call(s)}}),a=t=>{var i,n;let r=t.detail.srcEvent,o=t.detail.target,a=sJ(e,r);if(t.detail.srcEvent.buttons>=1&&(null==o?void 0:o.hasPointerCapture(t.detail.srcEvent.pointerId))&&!(null==o?void 0:o.closest("[data-charts-zoom-slider]"))&&(null==o||o.releasePointerCapture(t.detail.srcEvent.pointerId)),!s.isPointInside(a.x,a.y,o)){null==(n=s.cleanInteraction)||n.call(s);return}null==(i=s.setPointerCoordinate)||i.call(s,a)},l=s.addInteractionListener("move",a),u=s.addInteractionListener("pan",a),d=s.addInteractionListener("quickPress",a);return()=>{l.cleanup(),i.cleanup(),u.cleanup(),n.cleanup(),d.cleanup(),o.cleanup()}},[r,i,m,S,v,w,s,t.disableAxisListener,p]),l.useEffect(()=>{let e=r.current,i=t.onAxisClick;if(null===e||!i)return()=>{};let n=s.addInteractionListener("tap",t=>{let n=null,r=!1,s=sJ(e,t.detail.srcEvent),o=rp(m[S],s.x);n=(r=-1!==o)?o:rp(v[w],s.y);let a=r?g[0]:y[0];if(null==n||-1===n)return;let l=(r?m:v)[a].data[n],u={};Object.keys(f).filter(e=>["bar","line"].includes(e)).forEach(e=>{var t;null==(t=f[e])||t.seriesOrder.forEach(t=>{let i=f[e].series[t],s=i.xAxisId,o=i.yAxisId,l=r?s:o;(void 0===l||l===a)&&(u[t]=i.data[n])})}),i(t.detail.srcEvent,{dataIndex:n,axisValue:l,seriesValues:u})});return()=>{n.cleanup()}},[t.onAxisClick,f,r,m,g,v,y,S,w,s]),{}};s1.params={xAxis:!0,yAxis:!0,dataset:!0,onAxisClick:!0,disableAxisListener:!0,onHighlightedAxisChange:!0,highlightedAxis:!0},s1.getDefaultizedParams=e=>{var t,i;let{params:n}=e;return(0,a.A)({},n,{colors:null!=(t=n.colors)?t:sK,theme:null!=(i=n.theme)?i:"light",defaultizedXAxis:sX(n.xAxis,n.dataset),defaultizedYAxis:sY(n.yAxis,n.dataset)})},s1.getInitialState=e=>(0,a.A)({cartesianAxis:{x:e.defaultizedXAxis,y:e.defaultizedYAxis}},void 0===e.highlightedAxis?{}:{controlledCartesianAxisHighlight:e.highlightedAxis});var s2=i(85807),s5=i(877);let s3=({store:e})=>{let t=(0,s2.A)(function(){e.update(e=>(0,a.A)({},e,{interaction:{pointer:null,item:null}}))}),i=(0,s2.A)(function(t){e.update(e=>{let i=e.interaction.item;return t?null===i||Object.keys(t).some(e=>t[e]!==i[e])?e:(0,a.A)({},e,{interaction:(0,a.A)({},e.interaction,{item:null})}):null===i?e:(0,a.A)({},e,{interaction:(0,a.A)({},e.interaction,{item:null})})})});return{instance:{cleanInteraction:t,setItemInteraction:(0,s2.A)(function(t){e.update(e=>(0,s5.v)(e.interaction.item,t)?e:(0,a.A)({},e,{interaction:(0,a.A)({},e.interaction,{item:t})}))}),removeItemInteraction:i,setPointerCoordinate:(0,s2.A)(function(t){e.update(e=>(0,a.A)({},e,{interaction:(0,a.A)({},e.interaction,{pointer:t})}))})}}};s3.getInitialState=()=>({interaction:{item:null,pointer:null}}),s3.params={};let s4=({store:e,params:t})=>(sW({warningPrefix:"MUI X Charts",componentName:"Chart",propName:"highlightedItem",controlled:t.highlightedItem,defaultValue:null}),(0,$.A)(()=>{e.update(e=>e.highlight.item===t.highlightedItem?e:(0,a.A)({},e,{highlight:(0,a.A)({},e.highlight,{item:t.highlightedItem})}))},[e,t.highlightedItem]),{instance:{clearHighlight:(0,s2.A)(()=>{t.onHighlightChange?.(null),e.update(e=>(0,a.A)({},e,{highlight:{item:null}}))}),setHighlight:(0,s2.A)(i=>{let n=e.getSnapshot().highlight.item;(0,s5.v)(n,i)||(t.onHighlightChange?.(i),e.update(e=>(0,a.A)({},e,{highlight:{item:i}})))})}});s4.getDefaultizedParams=({params:e})=>(0,a.A)({},e,{highlightedItem:e.highlightedItem??null}),s4.getInitialState=e=>({highlight:{item:e.highlightedItem}}),s4.params={highlightedItem:!0,onHighlightChange:!0};let s6=[s$,s1,s3,s4],s8=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend","showToolbar"],s9=e=>{var t,i,n,r,s;let{xAxis:o,yAxis:u,series:c,width:h,height:f,margin:p,colors:m,dataset:g,sx:v,axisHighlight:y,grid:b,children:S,slots:w,slotProps:C,skipAnimation:x,loading:k,layout:A,onItemClick:E,highlightedItem:M,onHighlightChange:T,borderRadius:_,barLabel:P,className:I}=e,R=(0,d.A)(e,s8),O=(0,sU.A)(),D="".concat(O,"-clip-path"),L="horizontal"===A||void 0===A&&c.some(e=>"horizontal"===e.layout),N=l.useMemo(()=>[{id:iw,scaleType:"band",data:Array.from({length:Math.max(...c.map(e=>{var t,i;return(null!=(i=null!=(t=e.data)?t:g)?i:[]).length}))},(e,t)=>t)}],[g,c]),F=l.useMemo(()=>[{id:iC,scaleType:"band",data:Array.from({length:Math.max(...c.map(e=>{var t,i;return(null!=(i=null!=(t=e.data)?t:g)?i:[]).length}))},(e,t)=>t)}],[g,c]),B=l.useMemo(()=>c.map(e=>(0,a.A)({type:"bar"},e,{layout:L?"horizontal":"vertical"})),[L,c]),V=L?void 0:N,U=l.useMemo(()=>o?L?o:o.map(e=>(0,a.A)({scaleType:"band"},e)):V,[V,L,o]),z=L?F:void 0,j=l.useMemo(()=>u?L?u.map(e=>(0,a.A)({scaleType:"band"},e)):u:z,[z,L,u]),H=(0,a.A)({},R,{series:B,width:h,height:f,margin:p,colors:m,dataset:g,xAxis:U,yAxis:j,highlightedItem:M,onHighlightChange:T,disableAxisListener:(null==C||null==(t=C.tooltip)?void 0:t.trigger)!=="axis"&&(null==y?void 0:y.x)==="none"&&(null==y?void 0:y.y)==="none",className:I,skipAnimation:x,plugins:s6}),$={onItemClick:E,slots:w,slotProps:C,borderRadius:_,barLabel:P},W={vertical:null==b?void 0:b.vertical,horizontal:null==b?void 0:b.horizontal},q={clipPath:"url(#".concat(D,")")},G={id:D},K={slots:w,slotProps:C,loading:k},X={slots:w,slotProps:C},Y=(0,a.A)({},L?{y:"band"}:{x:"band"},y),J={slots:w,slotProps:C};return{chartsWrapperProps:{sx:v,legendPosition:null==(n=e.slotProps)||null==(i=n.legend)?void 0:i.position,legendDirection:null==(s=e.slotProps)||null==(r=s.legend)?void 0:r.direction},chartContainerProps:H,barPlotProps:$,gridProps:W,clipPathProps:G,clipPathGroupProps:q,overlayProps:K,chartsAxisProps:X,axisHighlightProps:Y,legendProps:J,children:S}};var s7=i(60193);let oe={baseButton:i(27855).A,baseIconButton:s7.A},ot={},oi=(0,a.A)({},oe,ot),on=l.createContext(null);function or(e){let{slots:t,slotProps:i={},defaultSlots:n,children:r}=e,s=l.useMemo(()=>({slots:(0,a.A)({},n,t),slotProps:i}),[n,t,i]);return(0,ew.jsx)(on.Provider,{value:s,children:r})}let os=0x8000001,oo=(3+8881784197001252e-31)*11102230246251565e-32;function oa(e,t,i,n,r){let s,o,a,l,u=t[0],d=n[0],c=0,h=0;d>u==d>-u?(s=u,u=t[++c]):(s=d,d=n[++h]);let f=0;if(c<e&&h<i)for(d>u==d>-u?(o=u+s,a=s-(o-u),u=t[++c]):(o=d+s,a=s-(o-d),d=n[++h]),s=o,0!==a&&(r[f++]=a);c<e&&h<i;)d>u==d>-u?(l=(o=s+u)-s,a=s-(o-l)+(u-l),u=t[++c]):(l=(o=s+d)-s,a=s-(o-l)+(d-l),d=n[++h]),s=o,0!==a&&(r[f++]=a);for(;c<e;)l=(o=s+u)-s,a=s-(o-l)+(u-l),u=t[++c],s=o,0!==a&&(r[f++]=a);for(;h<i;)l=(o=s+d)-s,a=s-(o-l)+(d-l),d=n[++h],s=o,0!==a&&(r[f++]=a);return(0!==s||0===f)&&(r[f++]=s),f}function ol(e,t){let i=t[0];for(let n=1;n<e;n++)i+=t[n];return i}function ou(e){return new Float64Array(e)}let od=(3+17763568394002505e-31)*11102230246251565e-32,oc=(2+13322676295501878e-31)*11102230246251565e-32,oh=(9+7105427357601002e-30)*11102230246251565e-32*11102230246251565e-32,of=ou(4),op=ou(8),om=ou(12),og=ou(16),ov=ou(4);function oy(e,t,i,n,r,s,o){let a,l,u,d,c,h,f,p,m,g,v,y,b,S,w,C,x,k,A=e-r,E=i-r,M=t-s,T=n-s;S=A*T,f=(h=os*A)-(h-A),p=A-f,m=(h=os*T)-(h-T),w=p*(g=T-m)-(S-f*m-p*m-f*g),C=M*E,f=(h=os*M)-(h-M),p=M-f,m=(h=os*E)-(h-E),v=w-(x=p*(g=E-m)-(C-f*m-p*m-f*g)),c=w-v,of[0]=w-(v+c)+(c-x),c=(y=S+v)-S,v=(b=S-(y-c)+(v-c))-C,c=b-v,of[1]=b-(v+c)+(c-C),c=(k=y+v)-y,of[2]=y-(k-c)+(v-c),of[3]=k;let _=ol(4,of),P=oc*o;if(_>=P||-_>=P||(c=e-A,a=e-(A+c)+(c-r),c=i-E,u=i-(E+c)+(c-r),c=t-M,l=t-(M+c)+(c-s),c=n-T,d=n-(T+c)+(c-s),0===a&&0===l&&0===u&&0===d)||(P=oh*o+oo*Math.abs(_),(_+=A*d+T*a-(M*u+E*l))>=P||-_>=P))return _;S=a*T,f=(h=os*a)-(h-a),p=a-f,m=(h=os*T)-(h-T),w=p*(g=T-m)-(S-f*m-p*m-f*g),C=l*E,f=(h=os*l)-(h-l),p=l-f,m=(h=os*E)-(h-E),v=w-(x=p*(g=E-m)-(C-f*m-p*m-f*g)),c=w-v,ov[0]=w-(v+c)+(c-x),c=(y=S+v)-S,v=(b=S-(y-c)+(v-c))-C,c=b-v,ov[1]=b-(v+c)+(c-C),c=(k=y+v)-y,ov[2]=y-(k-c)+(v-c),ov[3]=k;let I=oa(4,of,4,ov,op);S=A*d,f=(h=os*A)-(h-A),p=A-f,m=(h=os*d)-(h-d),w=p*(g=d-m)-(S-f*m-p*m-f*g),C=M*u,f=(h=os*M)-(h-M),p=M-f,m=(h=os*u)-(h-u),v=w-(x=p*(g=u-m)-(C-f*m-p*m-f*g)),c=w-v,ov[0]=w-(v+c)+(c-x),c=(y=S+v)-S,v=(b=S-(y-c)+(v-c))-C,c=b-v,ov[1]=b-(v+c)+(c-C),c=(k=y+v)-y,ov[2]=y-(k-c)+(v-c),ov[3]=k;let R=oa(I,op,4,ov,om);S=a*d,f=(h=os*a)-(h-a),p=a-f,m=(h=os*d)-(h-d),w=p*(g=d-m)-(S-f*m-p*m-f*g),C=l*u,f=(h=os*l)-(h-l),p=l-f,m=(h=os*u)-(h-u),v=w-(x=p*(g=u-m)-(C-f*m-p*m-f*g)),c=w-v,ov[0]=w-(v+c)+(c-x),c=(y=S+v)-S,v=(b=S-(y-c)+(v-c))-C,c=b-v,ov[1]=b-(v+c)+(c-C),c=(k=y+v)-y,ov[2]=y-(k-c)+(v-c),ov[3]=k;let O=oa(R,om,4,ov,og);return og[O-1]}function ob(e,t,i,n,r,s){let o=(t-s)*(i-r),a=(e-r)*(n-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=od*u?l:-oy(e,t,i,n,r,s,u)}ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(4),ou(8),ou(8),ou(8),ou(12),ou(192),ou(192),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(8),ou(4),ou(4),ou(4),ou(8),ou(16),ou(16),ou(16),ou(32),ou(32),ou(48),ou(64),ou(1152),ou(1152),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(4),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(24),ou(1152),ou(1152),ou(1152),ou(1152),ou(1152),ou(2304),ou(2304),ou(3456),ou(5760),ou(8),ou(8),ou(8),ou(16),ou(24),ou(48),ou(48),ou(96),ou(192),ou(384),ou(384),ou(384),ou(768),ou(96),ou(96),ou(96),ou(1152);let oS=2220446049250313e-31,ow=new Uint32Array(512);class oC{static from(e,t=oP,i=oI){let n=e.length,r=new Float64Array(2*n);for(let s=0;s<n;s++){let n=e[s];r[2*s]=t(n),r[2*s+1]=i(n)}return new oC(r)}constructor(e){let t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw Error("Expected coords to contain numbers.");this.coords=e;let i=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){let e,t,i,{coords:n,_hullPrev:r,_hullNext:s,_hullTri:o,_hullHash:a}=this,l=n.length>>1,u=1/0,d=1/0,c=-1/0,h=-1/0;for(let e=0;e<l;e++){let t=n[2*e],i=n[2*e+1];t<u&&(u=t),i<d&&(d=i),t>c&&(c=t),i>h&&(h=i),this._ids[e]=e}let f=(u+c)/2,p=(d+h)/2;for(let t=0,i=1/0;t<l;t++){let r=ok(f,p,n[2*t],n[2*t+1]);r<i&&(e=t,i=r)}let m=n[2*e],g=n[2*e+1];for(let i=0,r=1/0;i<l;i++){if(i===e)continue;let s=ok(m,g,n[2*i],n[2*i+1]);s<r&&s>0&&(t=i,r=s)}let v=n[2*t],y=n[2*t+1],b=1/0;for(let r=0;r<l;r++){if(r===e||r===t)continue;let s=oE(m,g,v,y,n[2*r],n[2*r+1]);s<b&&(i=r,b=s)}let S=n[2*i],w=n[2*i+1];if(b===1/0){for(let e=0;e<l;e++)this._dists[e]=n[2*e]-n[0]||n[2*e+1]-n[1];oT(this._ids,this._dists,0,l-1);let e=new Uint32Array(l),t=0;for(let i=0,n=-1/0;i<l;i++){let r=this._ids[i],s=this._dists[r];s>n&&(e[t++]=r,n=s)}this.hull=e.subarray(0,t),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(0>ob(m,g,v,y,S,w)){let e=t,n=v,r=y;t=i,v=S,y=w,i=e,S=n,w=r}let C=oM(m,g,v,y,S,w);this._cx=C.x,this._cy=C.y;for(let e=0;e<l;e++)this._dists[e]=ok(n[2*e],n[2*e+1],C.x,C.y);oT(this._ids,this._dists,0,l-1),this._hullStart=e;let x=3;s[e]=r[i]=t,s[t]=r[e]=i,s[i]=r[t]=e,o[e]=0,o[t]=1,o[i]=2,a.fill(-1),a[this._hashKey(m,g)]=e,a[this._hashKey(v,y)]=t,a[this._hashKey(S,w)]=i,this.trianglesLen=0,this._addTriangle(e,t,i,-1,-1,-1);for(let l=0,u,d;l<this._ids.length;l++){let c=this._ids[l],h=n[2*c],f=n[2*c+1];if(l>0&&Math.abs(h-u)<=oS&&Math.abs(f-d)<=oS||(u=h,d=f,c===e||c===t||c===i))continue;let p=0;for(let e=0,t=this._hashKey(h,f);e<this._hashSize&&(-1===(p=a[(t+e)%this._hashSize])||p===s[p]);e++);let m=p=r[p],g;for(;g=s[m],ob(h,f,n[2*m],n[2*m+1],n[2*g],n[2*g+1])>=0;)if((m=g)===p){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,c,s[m],-1,-1,o[m]);o[c]=this._legalize(v+2),o[m]=v,x++;let y=s[m];for(;g=s[y],0>ob(h,f,n[2*y],n[2*y+1],n[2*g],n[2*g+1]);)v=this._addTriangle(y,c,g,o[c],-1,o[y]),o[c]=this._legalize(v+2),s[y]=y,x--,y=g;if(m===p)for(;0>ob(h,f,n[2*(g=r[m])],n[2*g+1],n[2*m],n[2*m+1]);)v=this._addTriangle(g,c,m,-1,o[m],o[g]),this._legalize(v+2),o[g]=v,s[m]=m,x--,m=g;this._hullStart=r[c]=m,s[m]=r[y]=c,s[c]=y,a[this._hashKey(h,f)]=c,a[this._hashKey(n[2*m],n[2*m+1])]=m}this.hull=new Uint32Array(x);for(let e=0,t=this._hullStart;e<x;e++)this.hull[e]=t,t=s[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(ox(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:t,_halfedges:i,coords:n}=this,r=0,s=0;for(;;){let o=i[e],a=e-e%3;if(s=a+(e+2)%3,-1===o){if(0===r)break;e=ow[--r];continue}let l=o-o%3,u=a+(e+1)%3,d=l+(o+2)%3,c=t[s],h=t[e],f=t[u],p=t[d];if(oA(n[2*c],n[2*c+1],n[2*h],n[2*h+1],n[2*f],n[2*f+1],n[2*p],n[2*p+1])){t[e]=p,t[o]=c;let n=i[d];if(-1===n){let t=this._hullStart;do{if(this._hullTri[t]===d){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,n),this._link(o,i[s]),this._link(s,d);let a=l+(o+1)%3;r<ow.length&&(ow[r++]=a)}else{if(0===r)break;e=ow[--r]}}return s}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,i,n,r,s){let o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,n),this._link(o+1,r),this._link(o+2,s),this.trianglesLen+=3,o}}function ox(e,t){let i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}function ok(e,t,i,n){let r=e-i,s=t-n;return r*r+s*s}function oA(e,t,i,n,r,s,o,a){let l=e-o,u=t-a,d=i-o,c=n-a,h=r-o,f=s-a,p=l*l+u*u,m=d*d+c*c,g=h*h+f*f;return l*(c*g-m*f)-u*(d*g-m*h)+p*(d*f-c*h)<0}function oE(e,t,i,n,r,s){let o=i-e,a=n-t,l=r-e,u=s-t,d=o*o+a*a,c=l*l+u*u,h=.5/(o*u-a*l),f=(u*d-a*c)*h,p=(o*c-l*d)*h;return f*f+p*p}function oM(e,t,i,n,r,s){let o=i-e,a=n-t,l=r-e,u=s-t,d=o*o+a*a,c=l*l+u*u,h=.5/(o*u-a*l);return{x:e+(u*d-a*c)*h,y:t+(o*c-l*d)*h}}function oT(e,t,i,n){if(n-i<=20)for(let r=i+1;r<=n;r++){let n=e[r],s=t[n],o=r-1;for(;o>=i&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=n}else{let r=i+n>>1,s=i+1,o=n;o_(e,r,s),t[e[i]]>t[e[n]]&&o_(e,i,n),t[e[s]]>t[e[n]]&&o_(e,s,n),t[e[i]]>t[e[s]]&&o_(e,i,s);let a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;o_(e,s,o)}e[i+1]=e[o],e[o]=a,n-s+1>=o-i?(oT(e,t,s,n),oT(e,t,i,o-1)):(oT(e,t,i,o-1),oT(e,t,s,n))}}function o_(e,t,i){let n=e[t];e[t]=e[i],e[i]=n}function oP(e){return e[0]}function oI(e){return e[1]}let oR=1e-6;class oO{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e*=1,t*=1,i*=1;let n=e+i,r=t;if(i<0)throw Error("negative radius");null===this._x1?this._+=`M${n},${r}`:(Math.abs(this._x1-n)>oR||Math.abs(this._y1-r)>oR)&&(this._+="L"+n+","+r),i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=n},${this._y1=r}`)}rect(e,t,i,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+n}h${-i}Z`}value(){return this._||null}}class oD{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class oL{constructor(e,[t,i,n,r]=[0,0,960,500]){if(!((n*=1)>=(t*=1))||!((r*=1)>=(i*=1)))throw Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=n,this.xmin=t,this.ymax=r,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let e,t,{delaunay:{points:i,hull:n,triangles:r},vectors:s}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let s=0,a=0,l=r.length,u,d;s<l;s+=3,a+=2){let l=2*r[s],c=2*r[s+1],h=2*r[s+2],f=i[l],p=i[l+1],m=i[c],g=i[c+1],v=i[h],y=i[h+1],b=m-f,S=g-p,w=v-f,C=y-p,x=(b*C-S*w)*2;if(1e-9>Math.abs(x)){if(void 0===e){for(let r of(e=t=0,n))e+=i[2*r],t+=i[2*r+1];e/=n.length,t/=n.length}let r=1e9*Math.sign((e-f)*C-(t-p)*w);u=(f+v)/2-r*C,d=(p+y)/2+r*w}else{let e=1/x,t=b*b+S*S,i=w*w+C*C;u=f+(C*t-S*i)*e,d=p+(b*i-w*t)*e}o[a]=u,o[a+1]=d}let a=n[n.length-1],l,u=4*a,d,c=i[2*a],h,f=i[2*a+1];s.fill(0);for(let e=0;e<n.length;++e)a=n[e],l=u,d=c,h=f,u=4*a,c=i[2*a],f=i[2*a+1],s[l+2]=s[u]=h-f,s[l+3]=s[u+1]=c-d}render(e){let t=null==e?e=new oO:void 0,{delaunay:{halfedges:i,inedges:n,hull:r},circumcenters:s,vectors:o}=this;if(r.length<=1)return null;for(let t=0,n=i.length;t<n;++t){let n=i[t];if(n<t)continue;let r=2*Math.floor(t/3),o=2*Math.floor(n/3),a=s[r],l=s[r+1],u=s[o],d=s[o+1];this._renderSegment(a,l,u,d,e)}let a,l=r[r.length-1];for(let t=0;t<r.length;++t){a=l;let i=2*Math.floor(n[l=r[t]]/3),u=s[i],d=s[i+1],c=4*a,h=this._project(u,d,o[c+2],o[c+3]);h&&this._renderSegment(u,d,h[0],h[1],e)}return t&&t.value()}renderBounds(e){let t=null==e?e=new oO:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){let i=null==t?t=new oO:void 0,n=this._clip(e);if(null===n||!n.length)return;t.moveTo(n[0],n[1]);let r=n.length;for(;n[0]===n[r-2]&&n[1]===n[r-1]&&r>1;)r-=2;for(let e=2;e<r;e+=2)(n[e]!==n[e-2]||n[e+1]!==n[e-1])&&t.lineTo(n[e],n[e+1]);return t.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){let e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){let t=new oD;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,n,r){let s,o=this._regioncode(e,t),a=this._regioncode(i,n);0===o&&0===a?(r.moveTo(e,t),r.lineTo(i,n)):(s=this._clipSegment(e,t,i,n,o,a))&&(r.moveTo(s[0],s[1]),r.lineTo(s[2],s[3]))}contains(e,t,i){return(t*=1)==t&&(i*=1)==i&&this.delaunay._step(e,t,i)===e}*neighbors(e){let t=this._clip(e);if(t)for(let i of this.delaunay.neighbors(e)){let e=this._clip(i);if(e){n:for(let n=0,r=t.length;n<r;n+=2)for(let s=0,o=e.length;s<o;s+=2)if(t[n]===e[s]&&t[n+1]===e[s+1]&&t[(n+2)%r]===e[(s+o-2)%o]&&t[(n+3)%r]===e[(s+o-1)%o]){yield i;break n}}}}_cell(e){let{circumcenters:t,delaunay:{inedges:i,halfedges:n,triangles:r}}=this,s=i[e];if(-1===s)return null;let o=[],a=s;do{let i=Math.floor(a/3);if(o.push(t[2*i],t[2*i+1]),r[a=a%3==2?a-2:a+1]!==e)break;a=n[a]}while(a!==s&&-1!==a);return o}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let t=this._cell(e);if(null===t)return null;let{vectors:i}=this,n=4*e;return this._simplify(i[n]||i[n+1]?this._clipInfinite(e,t,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(e,t))}_clipFinite(e,t){let i=t.length,n=null,r,s,o=t[i-2],a=t[i-1],l,u=this._regioncode(o,a),d,c=0;for(let h=0;h<i;h+=2)if(r=o,s=a,o=t[h],a=t[h+1],l=u,u=this._regioncode(o,a),0===l&&0===u)d=c,c=0,n?n.push(o,a):n=[o,a];else{let t,i,h,f,p;if(0===l){if(null===(t=this._clipSegment(r,s,o,a,l,u)))continue;[i,h,f,p]=t}else{if(null===(t=this._clipSegment(o,a,r,s,u,l)))continue;[f,p,i,h]=t,d=c,c=this._edgecode(i,h),d&&c&&this._edge(e,d,c,n,n.length),n?n.push(i,h):n=[i,h]}d=c,c=this._edgecode(f,p),d&&c&&this._edge(e,d,c,n,n.length),n?n.push(f,p):n=[f,p]}if(n)d=c,c=this._edgecode(n[0],n[1]),d&&c&&this._edge(e,d,c,n,n.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(e,t,i,n,r,s){let o=r<s;for(o&&([e,t,i,n,r,s]=[i,n,e,t,s,r]);;){if(0===r&&0===s)return o?[i,n,e,t]:[e,t,i,n];if(r&s)return null;let a,l,u=r||s;8&u?(a=e+(i-e)*(this.ymax-t)/(n-t),l=this.ymax):4&u?(a=e+(i-e)*(this.ymin-t)/(n-t),l=this.ymin):2&u?(l=t+(n-t)*(this.xmax-e)/(i-e),a=this.xmax):(l=t+(n-t)*(this.xmin-e)/(i-e),a=this.xmin),r?(e=a,t=l,r=this._regioncode(e,t)):(i=a,n=l,s=this._regioncode(i,n))}}_clipInfinite(e,t,i,n,r,s){let o=Array.from(t),a;if((a=this._project(o[0],o[1],i,n))&&o.unshift(a[0],a[1]),(a=this._project(o[o.length-2],o[o.length-1],r,s))&&o.push(a[0],a[1]),o=this._clipFinite(e,o))for(let t=0,i=o.length,n,r=this._edgecode(o[i-2],o[i-1]);t<i;t+=2)n=r,r=this._edgecode(o[t],o[t+1]),n&&r&&(t=this._edge(e,n,r,o,t),i=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,i,n,r){for(;t!==i;){let i,s;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,s=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,s=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,s=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,s=this.ymin}(n[r]!==i||n[r+1]!==s)&&this.contains(e,i,s)&&(n.splice(r,0,i,s),r+=2)}return r}_project(e,t,i,n){let r=1/0,s,o,a;if(n<0){if(t<=this.ymin)return null;(s=(this.ymin-t)/n)<r&&(a=this.ymin,o=e+(r=s)*i)}else if(n>0){if(t>=this.ymax)return null;(s=(this.ymax-t)/n)<r&&(a=this.ymax,o=e+(r=s)*i)}if(i>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/i)<r&&(o=this.xmax,a=t+(r=s)*n)}else if(i<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/i)<r&&(o=this.xmin,a=t+(r=s)*n)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:2*(e===this.xmax))|(t===this.ymin?4:8*(t===this.ymax))}_regioncode(e,t){return(e<this.xmin?1:2*(e>this.xmax))|(t<this.ymin?4:8*(t>this.ymax))}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){let i=(t+2)%e.length,n=(t+4)%e.length;(e[t]===e[i]&&e[i]===e[n]||e[t+1]===e[i+1]&&e[i+1]===e[n+1])&&(e.splice(i,2),t-=2)}e.length||(e=null)}return e}}let oN=2*Math.PI,oF=Math.pow;function oB(e){return e[0]}function oV(e){return e[1]}function oU(e){let{triangles:t,coords:i}=e;for(let e=0;e<t.length;e+=3){let n=2*t[e],r=2*t[e+1],s=2*t[e+2];if((i[s]-i[n])*(i[r+1]-i[n+1])-(i[r]-i[n])*(i[s+1]-i[n+1])>1e-10)return!1}return!0}function oz(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}class oj{static from(e,t=oB,i=oV,n){return new oj("length"in e?oH(e,t,i,n):Float64Array.from(o$(e,t,i,n)))}constructor(e){this._delaunator=new oC(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&oU(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,i)=>t[2*e]-t[2*i]||t[2*e+1]-t[2*i+1]);let e=this.collinear[0],i=this.collinear[this.collinear.length-1],n=[t[2*e],t[2*e+1],t[2*i],t[2*i+1]],r=1e-8*Math.hypot(n[3]-n[1],n[2]-n[0]);for(let e=0,i=t.length/2;e<i;++e){let i=oz(t[2*e],t[2*e+1],r);t[2*e]=i[0],t[2*e+1]=i[1]}this._delaunator=new oC(t)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let e=0,t=i.length;e<t;++e){let t=r[e%3==2?e-2:e+1];(-1===i[e]||-1===s[t])&&(s[t]=e)}for(let e=0,t=n.length;e<t;++e)o[n[e]]=e;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],s[n[0]]=1,2===n.length&&(s[n[1]]=0,this.triangles[1]=n[1],this.triangles[2]=n[1]))}voronoi(e){return new oL(this,e)}*neighbors(e){let{inedges:t,hull:i,_hullIndex:n,halfedges:r,triangles:s,collinear:o}=this;if(o){let t=o.indexOf(e);t>0&&(yield o[t-1]),t<o.length-1&&(yield o[t+1]);return}let a=t[e];if(-1===a)return;let l=a,u=-1;do{if(yield u=s[l],s[l=l%3==2?l-2:l+1]!==e)return;if(-1===(l=r[l])){let t=i[(n[e]+1)%i.length];t!==u&&(yield t);return}}while(l!==a)}find(e,t,i=0){let n;if((e*=1)!=e||(t*=1)!=t)return -1;let r=i;for(;(n=this._step(i,e,t))>=0&&n!==i&&n!==r;)i=n;return n}_step(e,t,i){let{inedges:n,hull:r,_hullIndex:s,halfedges:o,triangles:a,points:l}=this;if(-1===n[e]||!l.length)return(e+1)%(l.length>>1);let u=e,d=oF(t-l[2*e],2)+oF(i-l[2*e+1],2),c=n[e],h=c;do{let n=a[h],c=oF(t-l[2*n],2)+oF(i-l[2*n+1],2);if(c<d&&(d=c,u=n),a[h=h%3==2?h-2:h+1]!==e)break;if(-1===(h=o[h])){if((h=r[(s[e]+1)%r.length])!==n&&oF(t-l[2*h],2)+oF(i-l[2*h+1],2)<d)return h;break}}while(h!==c);return u}render(e){let t=null==e?e=new oO:void 0,{points:i,halfedges:n,triangles:r}=this;for(let t=0,s=n.length;t<s;++t){let s=n[t];if(s<t)continue;let o=2*r[t],a=2*r[s];e.moveTo(i[o],i[o+1]),e.lineTo(i[a],i[a+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;let i=null==e?e=new oO:void 0,{points:n}=this;for(let i=0,r=n.length;i<r;i+=2){let r=n[i],s=n[i+1];e.moveTo(r+t,s),e.arc(r,s,t,0,oN)}return i&&i.value()}renderHull(e){let t=null==e?e=new oO:void 0,{hull:i,points:n}=this,r=2*i[0],s=i.length;e.moveTo(n[r],n[r+1]);for(let t=1;t<s;++t){let r=2*i[t];e.lineTo(n[r],n[r+1])}return e.closePath(),t&&t.value()}hullPolygon(){let e=new oD;return this.renderHull(e),e.value()}renderTriangle(e,t){let i=null==t?t=new oO:void 0,{points:n,triangles:r}=this,s=2*r[e*=3],o=2*r[e+1],a=2*r[e+2];return t.moveTo(n[s],n[s+1]),t.lineTo(n[o],n[o+1]),t.lineTo(n[a],n[a+1]),t.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){let t=new oD;return this.renderTriangle(e,t),t.value()}}function oH(e,t,i,n){let r=e.length,s=new Float64Array(2*r);for(let o=0;o<r;++o){let r=e[o];s[2*o]=t.call(n,r,o,e),s[2*o+1]=i.call(n,r,o,e)}return s}function*o$(e,t,i,n){let r=0;for(let s of e)yield t.call(n,s,r,e),yield i.call(n,s,r,e),++r}let oW=e=>{var t,i;let{svgRef:n,params:r,store:s,instance:o}=e,{disableVoronoi:u,voronoiMaxRadius:d,onItemClick:c}=r,h=E(s,eL),{axis:f,axisIds:p}=E(s,tR),{axis:m,axisIds:g}=E(s,tO),v=E(s,tE),{series:y,seriesOrder:b}=null!=(i=null==(t=E(s,eV))?void 0:t.scatter)?i:{},S=l.useRef({}),w=l.useRef(void 0),C=l.useRef(void 0),x=p[0],k=g[0];return(0,$.A)(()=>{s.update(e=>!u===e.voronoi.isVoronoiEnabled?e:(0,a.A)({},e,{voronoi:{isVoronoiEnabled:!u}}))},[s,u]),(0,$.A)(()=>{if(v||void 0===b||void 0===y||u)return;S.current={};let e=[];b.forEach(t=>{let{data:i,xAxisId:n,yAxisId:r}=y[t],s=f[null!=n?n:x].scale,a=m[null!=r?r:k].scale,l=sr(s),u=sr(a),d=[],c=[];for(let e=0;e<i.length;e+=1){let{x:t,y:n}=i[e],r=l(t),s=u(n);o.isPointInside(r,s)&&(d.push(r),d.push(s),c.push(e))}S.current[t]={seriesId:t,seriesIndexes:c,startIndex:e.length,endIndex:e.length+d.length},e=e.concat(d)}),w.current=new oj(e),C.current=void 0},[v,x,k,y,b,f,m,h,o,u]),l.useEffect(()=>{if(null===n.current||u)return;let e=n.current;function t(t){let i=sJ(e,t);if(!o.isPointInside(i.x,i.y))return C.current=void 0,"outside-chart";if(!w.current)return"no-point-found";let n=w.current.find(i.x,i.y,C.current);if(void 0===n)return"no-point-found";C.current=n;let r=Object.values(S.current).find(e=>2*n>=e.startIndex&&2*n<e.endIndex);if(void 0===r)return"no-point-found";let s=(2*n-S.current[r.seriesId].startIndex)/2,a=S.current[r.seriesId].seriesIndexes[s];if(void 0!==d){let e=w.current.points[2*n],t=w.current.points[2*n+1];if((e-i.x)**2+(t-i.y)**2>d**2)return"outside-voronoi-max-radius"}return{seriesId:r.seriesId,dataIndex:a}}let i=o.addInteractionListener("moveEnd",e=>{if(!e.detail.activeGestures.pan){var t,i;null==(t=o.cleanInteraction)||t.call(o),null==(i=o.clearHighlight)||i.call(o)}}),r=o.addInteractionListener("panEnd",e=>{if(!e.detail.activeGestures.move){var t,i;null==(t=o.cleanInteraction)||t.call(o),null==(i=o.clearHighlight)||i.call(o)}}),s=o.addInteractionListener("quickPressEnd",e=>{if(!e.detail.activeGestures.move&&!e.detail.activeGestures.pan){var t,i;null==(t=o.cleanInteraction)||t.call(o),null==(i=o.clearHighlight)||i.call(o)}}),a=e=>{var i,n,r,s,a,l;let u=t(e.detail.srcEvent);if("outside-chart"===u){null==(r=o.cleanInteraction)||r.call(o),null==(s=o.clearHighlight)||s.call(o);return}if("outside-voronoi-max-radius"===u||"no-point-found"===u){null==(a=o.removeItemInteraction)||a.call(o),null==(l=o.clearHighlight)||l.call(o);return}let{seriesId:d,dataIndex:c}=u;null==(i=o.setItemInteraction)||i.call(o,{type:"scatter",seriesId:d,dataIndex:c}),null==(n=o.setHighlight)||n.call(o,{seriesId:d,dataIndex:c})},l=o.addInteractionListener("tap",e=>{let i=t(e.detail.srcEvent);if("string"!=typeof i&&c){let{seriesId:t,dataIndex:n}=i;c(e.detail.srcEvent,{type:"scatter",seriesId:t,dataIndex:n})}}),h=o.addInteractionListener("move",a),f=o.addInteractionListener("pan",a),p=o.addInteractionListener("quickPress",a);return()=>{l.cleanup(),h.cleanup(),i.cleanup(),f.cleanup(),r.cleanup(),p.cleanup(),s.cleanup()}},[n,m,f,d,c,u,h,o]),{instance:{enableVoronoi:(0,s2.A)(()=>{s.update(e=>(0,a.A)({},e,{voronoi:(0,a.A)({},e.voronoi,{isVoronoiEnabled:!0})}))}),disableVoronoi:(0,s2.A)(()=>{s.update(e=>(0,a.A)({},e,{voronoi:(0,a.A)({},e.voronoi,{isVoronoiEnabled:!1})}))})}}};oW.getDefaultizedParams=e=>{var t;let{params:i}=e;return(0,a.A)({},i,{disableVoronoi:null!=(t=i.disableVoronoi)?t:!i.series.some(e=>"scatter"===e.type)})},oW.getInitialState=e=>({voronoi:{isVoronoiEnabled:!e.disableVoronoi}}),oW.params={disableVoronoi:!0,voronoiMaxRadius:!0,onItemClick:!0};let oq=[s$,s1,s3,s4,oW],oG=["children","localeText","plugins","seriesConfig","slots","slotProps"],oK=e=>{let t=(0,u.A)({props:e,name:"MuiChartDataProvider"}),{children:i,localeText:n,plugins:r=oq,seriesConfig:s,slots:o,slotProps:l}=t,c=(0,d.A)(t,oG),h=(0,iV.A)();return{children:i,localeText:n,chartProviderProps:{plugins:r,seriesConfig:s,pluginParams:(0,a.A)({theme:h.palette.mode},c)},slots:o,slotProps:l}};class oX{constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.getSnapshot=()=>this.value,this.update=e=>{let t=e(this.value);t!==this.value&&(this.value=t,this.listeners.forEach(e=>e(t)))},this.value=e,this.listeners=new Set}}let oY=e=>{let{params:t,store:i}=e;l.useEffect(()=>{i.update(e=>(0,a.A)({},e,{animation:(0,a.A)({},e.animation,{skip:t.skipAnimation})}))},[i,t.skipAnimation]);let n=l.useCallback(()=>{let e=!1;return i.update(e=>(0,a.A)({},e,{animation:(0,a.A)({},e.animation,{skipAnimationRequests:e.animation.skipAnimationRequests+1})})),()=>{e||(e=!0,i.update(e=>(0,a.A)({},e,{animation:(0,a.A)({},e.animation,{skipAnimationRequests:e.animation.skipAnimationRequests-1})})))}},[i]);return(0,$.A)(()=>{var e;let t;if("undefined"==typeof window||!(null==(e=window)?void 0:e.matchMedia))return;let i=e=>{e.matches?t=n():null==t||t()},r=window.matchMedia("(prefers-reduced-motion)");return i(r),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[n,i]),{instance:{disableAnimation:n}}};oY.params={skipAnimation:!0},oY.getDefaultizedParams=e=>{var t;let{params:i}=e;return(0,a.A)({},i,{skipAnimation:null!=(t=i.skipAnimation)&&t})},oY.getInitialState=e=>{var t;let{skipAnimation:i}=e;return"undefined"==typeof window||null==(t=window)||t.matchMedia,{animation:{skip:i,skipAnimationRequests:0}}};var oJ=i(46189);function oQ(e,t){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:t?(0,a.A)({},t,e):e}let oZ=10,o0=e=>{let{params:t,store:i,svgRef:n}=e,r=void 0!==t.width&&void 0!==t.height,s=l.useRef({displayError:!1,initialCompute:!0,computeRun:0}),[o,u]=l.useState(0),[d,c]=l.useState(0),h=l.useCallback(()=>{let e=null==n?void 0:n.current;if(!e)return{};let r=(0,oJ.A)(e).getComputedStyle(e),s=Math.floor(parseFloat(r.height))||0,o=Math.floor(parseFloat(r.width))||0;return i.update(e=>{var i,n;return e.dimensions.width===o&&e.dimensions.height===s?e:(0,a.A)({},e,{dimensions:{margin:{top:t.margin.top,right:t.margin.right,bottom:t.margin.bottom,left:t.margin.left},width:null!=(i=t.width)?i:o,height:null!=(n=t.height)?n:s,propsWidth:t.width,propsHeight:t.height}})}),{height:s,width:o}},[i,n,t.height,t.width,t.margin.left,t.margin.right,t.margin.top,t.margin.bottom]);l.useEffect(()=>{i.update(e=>{var i,n;let r=null!=(i=t.width)?i:e.dimensions.width,s=null!=(n=t.height)?n:e.dimensions.height;return(0,a.A)({},e,{dimensions:{margin:{top:t.margin.top,right:t.margin.right,bottom:t.margin.bottom,left:t.margin.left},width:r,height:s,propsHeight:t.height,propsWidth:t.width}})})},[i,t.height,t.width,t.margin.left,t.margin.right,t.margin.top,t.margin.bottom]),l.useEffect(()=>{s.current.displayError=!0},[]),(0,$.A)(()=>{if(r||!s.current.initialCompute||s.current.computeRun>oZ)return;let e=h();e.width!==o||e.height!==d?(s.current.computeRun+=1,void 0!==e.width&&u(e.width),void 0!==e.height&&c(e.height)):s.current.initialCompute&&(s.current.initialCompute=!1)},[d,o,h,r]),(0,$.A)(()=>{let e;if(r)return()=>{};h();let t=n.current;if("undefined"==typeof ResizeObserver)return()=>{};let i=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{h()})});return t&&i.observe(t),()=>{e&&cancelAnimationFrame(e),t&&i.unobserve(t)}},[h,r,n]);let f=E(i,eL),p=l.useCallback(e=>e>=f.left-1&&e<=f.left+f.width,[f.left,f.width]),m=l.useCallback(e=>e>=f.top-1&&e<=f.top+f.height,[f.height,f.top]);return{instance:{isPointInside:l.useCallback((e,t,i)=>!!(i&&"closest"in i&&i.closest("[data-drawing-container]"))||p(e)&&m(t),[p,m]),isXInside:p,isYInside:m}}};o0.params={width:!0,height:!0,margin:!0},o0.getDefaultizedParams=e=>{let{params:t}=e;return(0,a.A)({},t,{margin:oQ(t.margin,ix)})},o0.getInitialState=e=>{let{width:t,height:i,margin:n}=e;return{dimensions:{margin:n,width:null!=t?t:0,height:null!=i?i:0,propsWidth:t,propsHeight:i}}};let o1=e=>{let{params:t,store:i}=e;return(0,$.A)(()=>{i.update(e=>(0,a.A)({},e,{experimentalFeatures:t.experimentalFeatures}))},[i,t.experimentalFeatures]),{}};o1.params={experimentalFeatures:!0},o1.getInitialState=e=>{let{experimentalFeatures:t}=e;return{experimentalFeatures:t}};let o2=0,o5=()=>(o2+=1,`mui-chart-${o2}`),o3=e=>{let{params:t,store:i}=e;return l.useEffect(()=>{i.update(e=>{var i;return void 0===t.id||t.id===e.id.providedChartId&&void 0!==e.id.chartId?e:(0,a.A)({},e,{id:(0,a.A)({},e.id,{chartId:null!=(i=t.id)?i:o5()})})})},[i,t.id]),{}};o3.params={id:!0},o3.getInitialState=e=>{let{id:t}=e;return{id:{chartId:t,providedChartId:t}}};let o4=({series:e,colors:t,seriesConfig:i,dataset:n})=>{let r={};e.forEach((e,n)=>{let s=i[e.type].getSeriesWithDefaultValues(e,n,t),o=s.id;if(void 0===r[e.type]&&(r[e.type]={series:{},seriesOrder:[]}),r[e.type]?.series[o]!==void 0)throw Error(`MUI X Charts: series' id "${o}" is not unique.`);r[e.type].series[o]=s,r[e.type].seriesOrder.push(o)});let s={};return Object.keys(i).forEach(e=>{let t=r[e];void 0!==t&&(s[e]=i[e]?.seriesProcessor?.(t,n)??r[e])}),s},o6=e=>{let{params:t,store:i,seriesConfig:n}=e,{series:r,dataset:s,theme:o,colors:u}=t,d=l.useRef(!0);return l.useEffect(()=>{if(d.current){d.current=!1;return}i.update(e=>(0,a.A)({},e,{series:(0,a.A)({},e.series,{processedSeries:o4({series:r,colors:"function"==typeof u?u(o):u,seriesConfig:n,dataset:s})})}))},[u,s,r,o,n,i]),{}};o6.params={dataset:!0,series:!0,colors:!0,theme:!0};let o8=[];o6.getDefaultizedParams=e=>{var t,i,n;let{params:r}=e;return(0,a.A)({},r,{series:(null==(t=r.series)?void 0:t.length)?r.series:o8,colors:null!=(i=r.colors)?i:sK,theme:null!=(n=r.theme)?n:"light"})},o6.getInitialState=(e,t,i)=>{let{series:n=[],colors:r,theme:s,dataset:o}=e;return{series:{seriesConfig:i,processedSeries:o4({series:n,colors:"function"==typeof r?r(s):r,seriesConfig:i,dataset:o})}}};class o9{constructor(){this.activeGestures=new Map}registerActiveGesture(e,t){this.activeGestures.has(e)||this.activeGestures.set(e,new Set);let i=this.activeGestures.get(e),n={gesture:t,element:e};i.add(n)}unregisterActiveGesture(e,t){let i=this.activeGestures.get(e);i&&(i.forEach(e=>{e.gesture===t&&i.delete(e)}),0===i.size&&this.activeGestures.delete(e))}getActiveGestures(e){let t=this.activeGestures.get(e);return t?Array.from(t).reduce((e,t)=>(e[t.gesture.name]=!0,e),{}):{}}isGestureActive(e,t){let i=this.activeGestures.get(e);return!!i&&Array.from(i).some(e=>e.gesture===t)}destroy(){this.activeGestures.clear()}unregisterElement(e){this.activeGestures.delete(e)}}class o7{constructor(){this.pressedKeys=new Set,this.handleKeyDown=e=>{this.pressedKeys.add(e.key)},this.handleKeyUp=e=>{this.pressedKeys.delete(e.key)},this.clearKeys=()=>{this.pressedKeys.clear()},this.initialize()}initialize(){"undefined"!=typeof window&&(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.clearKeys))}areKeysPressed(e){return!e||0===e.length||e.every(e=>"ControlOrMeta"===e?this.pressedKeys.has("Control")||this.pressedKeys.has("Meta"):this.pressedKeys.has(e))}destroy(){"undefined"!=typeof window&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.clearKeys)),this.clearKeys()}}class ae{constructor(e){this.root=void 0,this.touchAction=void 0,this.passive=void 0,this.preventEventInterruption=!0,this.pointers=new Map,this.gestureHandlers=new Set,this.handleInterruptEvents=e=>{if(this.preventEventInterruption&&"pointerType"in e&&"touch"===e.pointerType)return void e.preventDefault();let t=new PointerEvent("forceCancel",{bubbles:!1,cancelable:!1}),i=this.pointers.values().next().value;if(this.pointers.size>0&&i)for(let[e,n]of(Object.defineProperties(t,{clientX:{value:i.clientX},clientY:{value:i.clientY},pointerId:{value:i.pointerId},pointerType:{value:i.pointerType}}),this.pointers.entries())){let t=(0,a.A)({},n,{type:"forceCancel"});this.pointers.set(e,t)}this.notifyHandlers(t),this.pointers.clear()},this.handlePointerEvent=e=>{let{type:t,pointerId:i}=e;if("pointerdown"===t||"pointermove"===t)this.pointers.set(i,this.createPointerData(e));else if("pointerup"===t||"pointercancel"===t||"forceCancel"===t){this.pointers.set(i,this.createPointerData(e)),this.notifyHandlers(e),this.pointers.delete(i);return}this.notifyHandlers(e)},this.root=e.root??document.getRootNode({composed:!0}),this.touchAction=e.touchAction||"auto",this.passive=e.passive??!1,this.preventEventInterruption=e.preventEventInterruption??!1,this.setupEventListeners()}registerGestureHandler(e){return this.gestureHandlers.add(e),()=>{this.gestureHandlers.delete(e)}}getPointers(){return new Map(this.pointers)}setupEventListeners(){"auto"!==this.touchAction&&(this.root.style.touchAction=this.touchAction),this.root.addEventListener("pointerdown",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointermove",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointerup",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointercancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("forceCancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("blur",this.handleInterruptEvents),this.root.addEventListener("contextmenu",this.handleInterruptEvents)}notifyHandlers(e){this.gestureHandlers.forEach(t=>t(this.pointers,e))}createPointerData(e){return{pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,target:e.target,timeStamp:e.timeStamp,type:e.type,isPrimary:e.isPrimary,pressure:e.pressure,width:e.width,height:e.height,pointerType:e.pointerType,srcEvent:e}}destroy(){this.root.removeEventListener("pointerdown",this.handlePointerEvent),this.root.removeEventListener("pointermove",this.handlePointerEvent),this.root.removeEventListener("pointerup",this.handlePointerEvent),this.root.removeEventListener("pointercancel",this.handlePointerEvent),this.root.removeEventListener("forceCancel",this.handlePointerEvent),this.root.removeEventListener("blur",this.handleInterruptEvents),this.root.removeEventListener("contextmenu",this.handleInterruptEvents),this.pointers.clear(),this.gestureHandlers.clear()}}class at{constructor(e){this.gestureTemplates=new Map,this.elementGestureMap=new Map,this.activeGesturesRegistry=new o9,this.pointerManager=void 0,this.keyboardManager=new o7,this.pointerManager=new ae({root:e.root,touchAction:e.touchAction,passive:e.passive}),e.gestures&&e.gestures.length>0&&e.gestures.forEach(e=>{this.addGestureTemplate(e)})}addGestureTemplate(e){this.gestureTemplates.has(e.name)&&console.warn(`Gesture template with name "${e.name}" already exists. It will be overwritten.`),this.gestureTemplates.set(e.name,e)}setGestureOptions(e,t,i){let n=this.elementGestureMap.get(t);if(!n||!n.has(e))return void console.error(`Gesture "${e}" not found on the provided element.`);let r=new CustomEvent(`${e}ChangeOptions`,{detail:i,bubbles:!1,cancelable:!1,composed:!1});t.dispatchEvent(r)}setGestureState(e,t,i){let n=this.elementGestureMap.get(t);if(!n||!n.has(e))return void console.error(`Gesture "${e}" not found on the provided element.`);let r=new CustomEvent(`${e}ChangeState`,{detail:i,bubbles:!1,cancelable:!1,composed:!1});t.dispatchEvent(r)}registerElement(e,t,i){return Array.isArray(e)||(e=[e]),e.forEach(e=>{let n=i?.[e];this.registerSingleGesture(e,t,n)}),t}registerSingleGesture(e,t,i){let n=this.gestureTemplates.get(e);if(!n)return console.error(`Gesture template "${e}" not found.`),!1;this.elementGestureMap.has(t)||this.elementGestureMap.set(t,new Map);let r=this.elementGestureMap.get(t);r.has(e)&&(console.warn(`Element already has gesture "${e}" registered. It will be replaced.`),this.unregisterElement(e,t));let s=n.clone(i);return s.init(t,this.pointerManager,this.activeGesturesRegistry,this.keyboardManager),r.set(e,s),!0}unregisterElement(e,t){let i=this.elementGestureMap.get(t);return!!i&&!!i.has(e)&&(i.get(e).destroy(),i.delete(e),this.activeGesturesRegistry.unregisterElement(t),0===i.size&&this.elementGestureMap.delete(t),!0)}unregisterAllGestures(e){let t=this.elementGestureMap.get(e);if(t){for(let[,i]of t)i.destroy(),this.activeGesturesRegistry.unregisterElement(e);this.elementGestureMap.delete(e)}}destroy(){for(let[e]of this.elementGestureMap)this.unregisterAllGestures(e);this.gestureTemplates.clear(),this.elementGestureMap.clear(),this.activeGesturesRegistry.destroy(),this.keyboardManager.destroy(),this.pointerManager.destroy()}}let ai={abort:!0,animationcancel:!0,animationend:!0,animationiteration:!0,animationstart:!0,auxclick:!0,beforeinput:!0,beforetoggle:!0,blur:!0,cancel:!0,canplay:!0,canplaythrough:!0,change:!0,click:!0,close:!0,compositionend:!0,compositionstart:!0,compositionupdate:!0,contextlost:!0,contextmenu:!0,contextrestored:!0,copy:!0,cuechange:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,durationchange:!0,emptied:!0,ended:!0,error:!0,focus:!0,focusin:!0,focusout:!0,formdata:!0,gotpointercapture:!0,input:!0,invalid:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,loadeddata:!0,loadedmetadata:!0,loadstart:!0,lostpointercapture:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,pause:!0,play:!0,playing:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,progress:!0,ratechange:!0,reset:!0,resize:!0,scroll:!0,scrollend:!0,securitypolicyviolation:!0,seeked:!0,seeking:!0,select:!0,selectionchange:!0,selectstart:!0,slotchange:!0,stalled:!0,submit:!0,suspend:!0,timeupdate:!0,toggle:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,transitioncancel:!0,transitionend:!0,transitionrun:!0,transitionstart:!0,volumechange:!0,waiting:!0,webkitanimationend:!0,webkitanimationiteration:!0,webkitanimationstart:!0,webkittransitionend:!0,wheel:!0};class an{constructor(e){if(this.name=void 0,this.preventDefault=void 0,this.stopPropagation=void 0,this.preventIf=void 0,this.requiredKeys=void 0,this.keyboardManager=void 0,this.pointerMode=void 0,this.customData={},this.pointerManager=void 0,this.gesturesRegistry=void 0,this.element=void 0,this.state=void 0,this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,!e||!e.name)throw Error("Gesture must be initialized with a valid name.");if(e.name in ai)throw Error(`Gesture can't be created with a native event name. Tried to use "${e.name}". Please use a custom name instead.`);this.name=e.name,this.preventDefault=e.preventDefault??!1,this.stopPropagation=e.stopPropagation??!1,this.preventIf=e.preventIf??[],this.requiredKeys=e.requiredKeys??[],this.pointerMode=e.pointerMode??[]}init(e,t,i,n){this.element=e,this.pointerManager=t,this.gesturesRegistry=i,this.keyboardManager=n;let r=`${this.name}ChangeOptions`;this.element.addEventListener(r,this.handleOptionsChange.bind(this));let s=`${this.name}ChangeState`;this.element.addEventListener(s,this.handleStateChange.bind(this))}handleOptionsChange(e){e&&e.detail&&this.updateOptions(e.detail)}updateOptions(e){this.preventDefault=e.preventDefault??this.preventDefault,this.stopPropagation=e.stopPropagation??this.stopPropagation,this.preventIf=e.preventIf??this.preventIf,this.requiredKeys=e.requiredKeys??this.requiredKeys,this.pointerMode=e.pointerMode??this.pointerMode}handleStateChange(e){e&&e.detail&&this.updateState(e.detail)}updateState(e){Object.assign(this.state,e)}getTargetElement(e){return this.isActive||this.element===e.target||"contains"in this.element&&this.element.contains(e.target)||"getRootNode"in this.element&&this.element.getRootNode()instanceof ShadowRoot&&e.composedPath().includes(this.element)?this.element:null}set isActive(e){e?this.gesturesRegistry.registerActiveGesture(this.element,this):this.gesturesRegistry.unregisterActiveGesture(this.element,this)}get isActive(){return this.gesturesRegistry.isGestureActive(this.element,this)??!1}shouldPreventGesture(e){if(!this.keyboardManager.areKeysPressed(this.requiredKeys))return!0;if(0===this.preventIf.length)return!1;let t=this.gesturesRegistry.getActiveGestures(e);return this.preventIf.some(e=>t[e])}isPointerTypeAllowed(e){return!this.pointerMode||0===this.pointerMode.length||this.pointerMode.includes(e)}destroy(){let e=`${this.name}ChangeOptions`;this.element.removeEventListener(e,this.handleOptionsChange.bind(this));let t=`${this.name}ChangeState`;this.element.removeEventListener(t,this.handleStateChange.bind(this))}}class ar extends an{constructor(e){super(e),this.unregisterHandler=null,this.originalTarget=null,this.optionsType=void 0,this.mutableOptionsType=void 0,this.minPointers=void 0,this.maxPointers=void 0,this.minPointers=e.minPointers??1,this.maxPointers=e.maxPointers??1/0}init(e,t,i,n){super.init(e,t,i,n),this.unregisterHandler=this.pointerManager.registerGestureHandler(this.handlePointerEvent.bind(this))}updateOptions(e){super.updateOptions(e),this.minPointers=e.minPointers??this.minPointers,this.maxPointers=e.maxPointers??this.maxPointers}getRelevantPointers(e,t){return e.filter(e=>this.isPointerTypeAllowed(e.pointerType)&&(t===e.target||e.target===this.originalTarget||t===this.originalTarget||"contains"in t&&t.contains(e.target))||"getRootNode"in t&&t.getRootNode()instanceof ShadowRoot&&e.srcEvent.composedPath().includes(t))}destroy(){this.unregisterHandler&&(this.unregisterHandler(),this.unregisterHandler=null),super.destroy()}}function as(e){if(0===e.length)return{x:0,y:0};let t=e.reduce((e,t)=>(e.x+=t.clientX,e.y+=t.clientY,e),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}}let ao=1e-5,aa=1e-5,al=.15;function au(e,t){let i=t.x-e.x,n=t.y-e.y,r={vertical:null,horizontal:null,mainAxis:null},s=ad(t,e),o=Math.abs(i)>Math.abs(n)?"horizontal":"vertical",a=s||"horizontal"===o?ao:al,l=s?ao:"horizontal"===o?al:ao;return Math.abs(i)>a&&(r.horizontal=i>0?"right":"left"),Math.abs(n)>l&&(r.vertical=n>0?"down":"up"),r.mainAxis=s?"diagonal":o,r}function ad(e,t){let i=t.x-e.x,n=180*Math.atan2(t.y-e.y,i)/Math.PI;return n>=-45+aa&&n<=-22.5+aa||n>=22.5+aa&&n<=45+aa||n>=135+aa&&n<=157.5+aa||n>=-157.5+aa&&n<=-135+aa}function ac(e,t){if(!e.vertical&&!e.horizontal)return!1;if(0===t.length)return!0;let i=null===e.vertical||t.includes(e.vertical),n=null===e.horizontal||t.includes(e.horizontal);return i&&n}function ah(e,t){return`${e}${"ongoing"===t?"":t.charAt(0).toUpperCase()+t.slice(1)}`}class af extends ar{constructor(e){super(e),this.state={startPointers:new Map,startCentroid:null,lastCentroid:null,movementThresholdReached:!1,totalDeltaX:0,totalDeltaY:0,activeDeltaX:0,activeDeltaY:0,lastDirection:{vertical:null,horizontal:null,mainAxis:null},lastDeltas:null},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.threshold=void 0,this.direction=void 0,this.direction=e.direction||["up","down","left","right"],this.threshold=e.threshold||0}clone(e){return new af((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,direction:[...this.direction],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}destroy(){this.resetState(),super.destroy()}updateOptions(e){super.updateOptions(e),this.direction=e.direction||this.direction}resetState(){this.isActive=!1,this.state=(0,a.A)({},this.state,{startPointers:new Map,startCentroid:null,lastCentroid:null,lastDeltas:null,activeDeltaX:0,activeDeltaY:0,movementThresholdReached:!1,lastDirection:{vertical:null,horizontal:null,mainAxis:null}})}handlePointerEvent(e,t){let i=Array.from(e.values());if("forceCancel"===t.type)return void this.cancel(t.target,i,t);let n=this.getTargetElement(t);if(!n)return;if(this.shouldPreventGesture(n))return void this.cancel(n,i,t);let r=this.getRelevantPointers(i,n);if(r.length<this.minPointers||r.length>this.maxPointers)return void this.cancel(n,r,t);switch(t.type){case"pointerdown":this.isActive||this.state.startCentroid||(r.forEach(e=>{this.state.startPointers.set(e.pointerId,e)}),this.originalTarget=n,this.state.startCentroid=as(r),this.state.lastCentroid=(0,a.A)({},this.state.startCentroid));break;case"pointermove":if(this.state.startCentroid&&r.length>=this.minPointers){let e=as(r),i=e.x-this.state.startCentroid.x,s=e.y-this.state.startCentroid.y,o=Math.sqrt(i*i+s*s),a=au(this.state.lastCentroid??this.state.startCentroid,e),l=this.state.lastCentroid?e.x-this.state.lastCentroid.x:0,u=this.state.lastCentroid?e.y-this.state.lastCentroid.y:0;!this.state.movementThresholdReached&&o>=this.threshold&&ac(a,this.direction)?(this.state.movementThresholdReached=!0,this.isActive=!0,this.state.lastDeltas={x:l,y:u},this.state.totalDeltaX+=l,this.state.totalDeltaY+=u,this.state.activeDeltaX+=l,this.state.activeDeltaY+=u,this.emitPanEvent(n,"start",r,t,e),this.emitPanEvent(n,"ongoing",r,t,e)):this.state.movementThresholdReached&&this.isActive&&(this.state.lastDeltas={x:l,y:u},this.state.totalDeltaX+=l,this.state.totalDeltaY+=u,this.state.activeDeltaX+=l,this.state.activeDeltaY+=u,this.emitPanEvent(n,"ongoing",r,t,e)),this.state.lastCentroid=e,this.state.lastDirection=a}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive&&this.state.movementThresholdReached){if(r.filter(e=>"pointerup"!==e.type&&"pointercancel"!==e.type).length<this.minPointers){let e=this.state.lastCentroid||this.state.startCentroid;"pointercancel"===t.type&&this.emitPanEvent(n,"cancel",r,t,e),this.emitPanEvent(n,"end",r,t,e),this.resetState()}}else this.resetState()}}emitPanEvent(e,t,i,n,r){if(!this.state.startCentroid)return;let s=this.state.lastDeltas?.x??0,o=this.state.lastDeltas?.y??0,a=this.state.startPointers.values().next().value,l=a?(n.timeStamp-a.timeStamp)/1e3:0,u=l>0?s/l:0,d=l>0?o/l:0,c=Math.sqrt(u*u+d*d),h=this.gesturesRegistry.getActiveGestures(e),f={gestureName:this.name,initialCentroid:this.state.startCentroid,centroid:r,target:n.target,srcEvent:n,phase:t,pointers:i,timeStamp:n.timeStamp,deltaX:s,deltaY:o,direction:this.state.lastDirection,velocityX:u,velocityY:d,velocity:c,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,activeDeltaX:this.state.activeDeltaX,activeDeltaY:this.state.activeDeltaY,activeGestures:h,customData:this.customData},p=new CustomEvent(ah(this.name,t),{bubbles:!0,cancelable:!0,composed:!0,detail:f});e.dispatchEvent(p),this.preventDefault&&n.preventDefault(),this.stopPropagation&&n.stopPropagation()}cancel(e,t,i){if(this.isActive){let n=e??this.element;this.emitPanEvent(n,"cancel",t,i,this.state.lastCentroid),this.emitPanEvent(n,"end",t,i,this.state.lastCentroid)}this.resetState()}}class ap extends ar{constructor(e){super(e),this.state={lastPosition:null},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.threshold=void 0,this.handleElementEnterBound=void 0,this.handleElementLeaveBound=void 0,this.handleElementEnterBound=this.handleElementEnter.bind(this),this.handleElementLeaveBound=this.handleElementLeave.bind(this),this.threshold=e.threshold||0}clone(e){return new ap((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}init(e,t,i,n){super.init(e,t,i,n),this.element.addEventListener("pointerenter",this.handleElementEnterBound),this.element.addEventListener("pointerleave",this.handleElementLeaveBound)}destroy(){this.element.removeEventListener("pointerenter",this.handleElementEnterBound),this.element.removeEventListener("pointerleave",this.handleElementLeaveBound),this.resetState(),super.destroy()}updateOptions(e){super.updateOptions(e)}resetState(){this.isActive=!1,this.state={lastPosition:null}}handleElementEnter(e){if("mouse"!==e.pointerType&&"pen"!==e.pointerType)return;let t=Array.from((this.pointerManager.getPointers()||new Map).values());if(t.length>=this.minPointers&&t.length<=this.maxPointers){this.isActive=!0;let i={x:e.clientX,y:e.clientY};this.state.lastPosition=i,this.emitMoveEvent(this.element,"start",t,e),this.emitMoveEvent(this.element,"ongoing",t,e)}}handleElementLeave(e){if("mouse"!==e.pointerType&&"pen"!==e.pointerType||!this.isActive)return;let t=Array.from((this.pointerManager.getPointers()||new Map).values());this.emitMoveEvent(this.element,"end",t,e),this.resetState()}handlePointerEvent(e,t){if("pointermove"!==t.type||"mouse"!==t.pointerType&&"pen"!==t.pointerType)return;this.preventDefault&&t.preventDefault(),this.stopPropagation&&t.stopPropagation();let i=Array.from(e.values()),n=this.getTargetElement(t);if(!n||i.length<this.minPointers||i.length>this.maxPointers)return;if(this.shouldPreventGesture(n)){if(!this.isActive)return;this.resetState(),this.emitMoveEvent(n,"end",i,t);return}let r={x:t.clientX,y:t.clientY};this.state.lastPosition=r,this.isActive||(this.isActive=!0,this.emitMoveEvent(n,"start",i,t)),this.emitMoveEvent(n,"ongoing",i,t)}emitMoveEvent(e,t,i,n){let r=this.state.lastPosition||as(i),s=this.gesturesRegistry.getActiveGestures(e),o={gestureName:this.name,centroid:r,target:n.target,srcEvent:n,phase:t,pointers:i,timeStamp:n.timeStamp,activeGestures:s,customData:this.customData},a=new CustomEvent(ah(this.name,t),{bubbles:!0,cancelable:!0,composed:!0,detail:o});e.dispatchEvent(a)}}function am(e,t){let i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function ag(e){if(e.length<2)return 0;let t=0,i=0;for(let n=0;n<e.length;n+=1)for(let r=n+1;r<e.length;r+=1)t+=am({x:e[n].clientX,y:e[n].clientY},{x:e[r].clientX,y:e[r].clientY}),i+=1;return i>0?t/i:0}let av=0,ay=e=>e>av?1:e<-av?-1:0;class ab extends ar{constructor(e){super((0,a.A)({},e,{minPointers:e.minPointers??2})),this.state={startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,totalScale:1,deltaScale:0},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.threshold=void 0,this.threshold=e.threshold??0}clone(e){return new ab((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}destroy(){this.resetState(),super.destroy()}updateOptions(e){super.updateOptions(e)}resetState(){this.isActive=!1,this.state=(0,a.A)({},this.state,{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,deltaScale:0})}handlePointerEvent(e,t){let i=Array.from(e.values()),n=this.getTargetElement(t);if(!n)return;if(this.shouldPreventGesture(n)){this.isActive&&(this.emitPinchEvent(n,"cancel",i,t),this.resetState());return}let r=this.getRelevantPointers(i,n);switch(t.type){case"pointerdown":if(r.length>=2&&!this.isActive){let e=ag(r);this.state.startDistance=e,this.state.lastDistance=e,this.state.lastTime=t.timeStamp,this.originalTarget=n}break;case"pointermove":if(this.state.startDistance&&r.length>=this.minPointers){let e=ag(r),i=Math.abs(e-this.state.lastDistance);if(0!==i&&i>=this.threshold){let i=this.state.startDistance?e/this.state.startDistance:1,s=i/this.state.lastScale;this.state.totalScale*=s;let o=(t.timeStamp-this.state.lastTime)/1e3;if(this.state.lastDistance){let t=(e-this.state.lastDistance)/o;this.state.velocity=Number.isNaN(t)?0:t}this.state.lastDistance=e,this.state.deltaScale=i-this.state.lastScale,this.state.lastScale=i,this.state.lastTime=t.timeStamp,this.isActive||(this.isActive=!0,this.emitPinchEvent(n,"start",r,t)),this.emitPinchEvent(n,"ongoing",r,t)}}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive){let e=r.filter(e=>"pointerup"!==e.type&&"pointercancel"!==e.type);if(e.length<this.minPointers)"pointercancel"===t.type&&this.emitPinchEvent(n,"cancel",r,t),this.emitPinchEvent(n,"end",r,t),this.resetState();else if(e.length>=2){let t=ag(e);this.state.startDistance=t/this.state.lastScale}}}}emitPinchEvent(e,t,i,n){let r=as(i),s=this.state.lastDistance,o=this.state.lastScale,a=this.gesturesRegistry.getActiveGestures(e),l={gestureName:this.name,centroid:r,target:n.target,srcEvent:n,phase:t,pointers:i,timeStamp:n.timeStamp,scale:o,deltaScale:this.state.deltaScale,totalScale:this.state.totalScale,distance:s,velocity:this.state.velocity,activeGestures:a,direction:ay(this.state.velocity),customData:this.customData};this.preventDefault&&n.preventDefault(),this.stopPropagation&&n.stopPropagation();let u=new CustomEvent(ah(this.name,t),{bubbles:!0,cancelable:!0,composed:!0,detail:l});e.dispatchEvent(u)}}class aS extends an{constructor(e){super(e),this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.sensitivity=void 0,this.max=void 0,this.min=void 0,this.initialDelta=void 0,this.invert=void 0,this.handleWheelEventBound=void 0,this.sensitivity=e.sensitivity??1,this.max=e.max??Number.MAX_SAFE_INTEGER,this.min=e.min??Number.MIN_SAFE_INTEGER,this.initialDelta=e.initialDelta??0,this.invert=e.invert??!1,this.state.totalDeltaX=this.initialDelta,this.state.totalDeltaY=this.initialDelta,this.state.totalDeltaZ=this.initialDelta,this.handleWheelEventBound=this.handleWheelEvent.bind(this)}clone(e){return new aS((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,sensitivity:this.sensitivity,max:this.max,min:this.min,initialDelta:this.initialDelta,invert:this.invert,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}init(e,t,i,n){super.init(e,t,i,n),this.element.addEventListener("wheel",this.handleWheelEventBound)}destroy(){this.element.removeEventListener("wheel",this.handleWheelEventBound),this.resetState(),super.destroy()}resetState(){this.isActive=!1,this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0}}updateOptions(e){super.updateOptions(e),this.sensitivity=e.sensitivity??this.sensitivity,this.max=e.max??this.max,this.min=e.min??this.min,this.initialDelta=e.initialDelta??this.initialDelta,this.invert=e.invert??this.invert}handleWheelEvent(e){if(this.shouldPreventGesture(this.element))return;let t=Array.from((this.pointerManager.getPointers()||new Map).values());this.state.totalDeltaX+=e.deltaX*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaY+=e.deltaY*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaZ+=e.deltaZ*this.sensitivity*(this.invert?-1:1),["totalDeltaX","totalDeltaY","totalDeltaZ"].forEach(e=>{this.state[e]<this.min&&(this.state[e]=this.min),this.state[e]>this.max&&(this.state[e]=this.max)}),this.emitWheelEvent(t,e)}emitWheelEvent(e,t){let i=e.length>0?as(e):{x:t.clientX,y:t.clientY},n=this.gesturesRegistry.getActiveGestures(this.element),r={gestureName:this.name,centroid:i,target:t.target,srcEvent:t,phase:"ongoing",pointers:e,timeStamp:t.timeStamp,deltaX:t.deltaX*this.sensitivity*(this.invert?-1:1),deltaY:t.deltaY*this.sensitivity*(this.invert?-1:1),deltaZ:t.deltaZ*this.sensitivity*(this.invert?-1:1),deltaMode:t.deltaMode,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,totalDeltaZ:this.state.totalDeltaZ,activeGestures:n,customData:this.customData};this.preventDefault&&t.preventDefault(),this.stopPropagation&&t.stopPropagation();let s=new CustomEvent(ah(this.name,"ongoing"),{bubbles:!0,cancelable:!0,composed:!0,detail:r});this.element.dispatchEvent(s)}}class aw extends ar{constructor(e){super(e),this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.maxDistance=void 0,this.taps=void 0,this.maxDistance=e.maxDistance??10,this.taps=e.taps??1}clone(e){return new aw((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,maxDistance:this.maxDistance,taps:this.taps,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}destroy(){this.resetState(),super.destroy()}updateOptions(e){super.updateOptions(e),this.maxDistance=e.maxDistance??this.maxDistance,this.taps=e.taps??this.taps}resetState(){this.isActive=!1,this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null}}handlePointerEvent(e,t){let i=Array.from(e.values()),n=this.getTargetElement(t);if(!n)return;let r=this.getRelevantPointers(i,n);if(this.shouldPreventGesture(n)||r.length<this.minPointers||r.length>this.maxPointers){this.isActive&&this.cancelTap(n,r,t);return}switch(t.type){case"pointerdown":this.isActive||(this.state.startCentroid=as(r),this.state.lastPosition=(0,a.A)({},this.state.startCentroid),this.isActive=!0,this.originalTarget=n);break;case"pointermove":if(this.isActive&&this.state.startCentroid){let e=as(r);this.state.lastPosition=e;let i=e.x-this.state.startCentroid.x,s=e.y-this.state.startCentroid.y;Math.sqrt(i*i+s*s)>this.maxDistance&&this.cancelTap(n,r,t)}break;case"pointerup":if(this.isActive){this.state.currentTapCount+=1;let e=this.state.lastPosition||this.state.startCentroid;if(!e)return void this.cancelTap(n,r,t);this.state.currentTapCount>=this.taps?(this.fireTapEvent(n,r,t,e),this.resetState()):(this.state.lastTapTime=t.timeStamp,this.isActive=!1,this.state.startCentroid=null,setTimeout(()=>{this.state&&this.state.currentTapCount>0&&this.state.currentTapCount<this.taps&&(this.state.currentTapCount=0)},300))}break;case"pointercancel":case"forceCancel":this.cancelTap(n,r,t)}}fireTapEvent(e,t,i,n){let r=this.gesturesRegistry.getActiveGestures(e),s={gestureName:this.name,centroid:n,target:i.target,srcEvent:i,phase:"end",pointers:t,timeStamp:i.timeStamp,x:n.x,y:n.y,tapCount:this.state.currentTapCount,activeGestures:r,customData:this.customData},o=new CustomEvent(this.name,{bubbles:!0,cancelable:!0,composed:!0,detail:s});e.dispatchEvent(o),this.preventDefault&&i.preventDefault(),this.stopPropagation&&i.stopPropagation()}cancelTap(e,t,i){if(this.state.startCentroid||this.state.lastPosition){let n=this.state.lastPosition||this.state.startCentroid,r=this.gesturesRegistry.getActiveGestures(e),s={gestureName:this.name,centroid:n,target:i.target,srcEvent:i,phase:"cancel",pointers:t,timeStamp:i.timeStamp,x:n.x,y:n.y,tapCount:this.state.currentTapCount,activeGestures:r,customData:this.customData},o=new CustomEvent(ah(this.name,"cancel"),{bubbles:!0,cancelable:!0,composed:!0,detail:s});e.dispatchEvent(o)}this.resetState()}}class aC extends ar{constructor(e){super(e),this.state={startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1},this.isSinglePhase=void 0,this.eventType=void 0,this.optionsType=void 0,this.mutableOptionsType=void 0,this.mutableStateType=void 0,this.duration=void 0,this.maxDistance=void 0,this.duration=e.duration??500,this.maxDistance=e.maxDistance??10}clone(e){return new aC((0,a.A)({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,duration:this.duration,maxDistance:this.maxDistance,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf]},e))}destroy(){this.clearPressTimer(),this.resetState(),super.destroy()}updateOptions(e){super.updateOptions(e),this.duration=e.duration??this.duration,this.maxDistance=e.maxDistance??this.maxDistance}resetState(){this.clearPressTimer(),this.isActive=!1,this.state=(0,a.A)({},this.state,{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1})}clearPressTimer(){null!==this.state.timerId&&(clearTimeout(this.state.timerId),this.state.timerId=null)}handlePointerEvent(e,t){let i=Array.from(e.values());if("forceCancel"===t.type)return void this.cancelPress(t.target,i,t);let n=this.getTargetElement(t);if(!n)return;if(this.shouldPreventGesture(n)){this.isActive&&this.cancelPress(n,i,t);return}let r=this.getRelevantPointers(i,n);if(r.length<this.minPointers||r.length>this.maxPointers){this.isActive&&this.cancelPress(n,r,t);return}switch(t.type){case"pointerdown":this.isActive||this.state.startCentroid||(this.state.startCentroid=as(r),this.state.lastPosition=(0,a.A)({},this.state.startCentroid),this.state.startTime=t.timeStamp,this.isActive=!0,this.originalTarget=n,this.clearPressTimer(),this.state.timerId=setTimeout(()=>{if(this.isActive&&this.state.startCentroid){this.state.pressThresholdReached=!0;let e=this.state.lastPosition;this.emitPressEvent(n,"start",r,t,e),this.emitPressEvent(n,"ongoing",r,t,e)}},this.duration));break;case"pointermove":if(this.isActive&&this.state.startCentroid){let e=as(r);this.state.lastPosition=e;let i=e.x-this.state.startCentroid.x,s=e.y-this.state.startCentroid.y;Math.sqrt(i*i+s*s)>this.maxDistance&&this.cancelPress(n,r,t)}break;case"pointerup":if(this.isActive){if(this.state.pressThresholdReached){let e=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(n,"end",r,t,e)}this.resetState()}break;case"pointercancel":case"forceCancel":this.cancelPress(n,r,t)}}emitPressEvent(e,t,i,n,r){let s=this.gesturesRegistry.getActiveGestures(e),o=n.timeStamp-this.state.startTime,a={gestureName:this.name,centroid:r,target:n.target,srcEvent:n,phase:t,pointers:i,timeStamp:n.timeStamp,x:r.x,y:r.y,duration:o,activeGestures:s,customData:this.customData},l=new CustomEvent(ah(this.name,t),{bubbles:!0,cancelable:!0,composed:!0,detail:a});e.dispatchEvent(l),this.preventDefault&&n.preventDefault(),this.stopPropagation&&n.stopPropagation()}cancelPress(e,t,i){if(this.isActive&&this.state.pressThresholdReached){let n=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(e??this.element,"cancel",t,i,n),this.emitPressEvent(e??this.element,"end",t,i,n)}this.resetState()}}let ax=e=>e.preventDefault(),ak=e=>{let{svgRef:t}=e;l.useEffect(()=>{let e=t.current;if(!e)return;let i=new at({gestures:[new af({name:"pan",threshold:0,maxPointers:1}),new ap({name:"move",preventIf:["pan","pinch"]}),new ab({name:"pinch",threshold:5,preventIf:["pan"]}),new aS({name:"turnWheel",sensitivity:.01,initialDelta:1}),new aw({name:"tap",maxDistance:10,preventIf:["pan","pinch"]}),new aC({name:"quickPress",duration:50,maxDistance:10})]});return i.registerElement(["pan","move","pinch","turnWheel","tap","quickPress"],e),()=>{i.destroy()}},[t]);let i=l.useCallback((e,i,n)=>{let r=t.current;return null==r||r.addEventListener(e,i,n),{cleanup:()=>null==r?void 0:r.removeEventListener(e,i)}},[t]);return l.useEffect(()=>{let e=t.current;return null==e||e.addEventListener("gesturestart",ax),null==e||e.addEventListener("gesturechange",ax),null==e||e.addEventListener("gestureend",ax),()=>{null==e||e.removeEventListener("gesturestart",ax),null==e||e.removeEventListener("gesturechange",ax),null==e||e.removeEventListener("gestureend",ax)}},[t]),{instance:{addInteractionListener:i}}};ak.params={},ak.getInitialState=()=>({});let aA=[o3,o1,o0,o6,ak,oY],aE=["apiRef"],aM=e=>{let{plugins:t}=e,i=(0,d.A)(e.props,aE),n={};t.forEach(e=>{Object.assign(n,e.params)});let r={};return Object.keys(i).forEach(e=>{let t=i[e];n[e]&&(r[e]=t)}),t.reduce((e,t)=>t.getDefaultizedParams?t.getDefaultizedParams({params:e}):e,r)},aT=0;function a_(e,t,i){let n=(0,sU.A)(),r=l.useMemo(()=>[...aA,...e],[e]),s=aM({plugins:r,props:t});s.id=s.id??n;let o=l.useRef({}).current,a=aI(t.apiRef),u=l.useRef(null),d=l.useRef(null),c=l.useRef(null);if(null==c.current){let e={cacheKey:{id:aT+=1}};r.forEach(t=>{t.getInitialState&&Object.assign(e,t.getInitialState(s,e,i))}),c.current=new oX(e)}let h=e=>{let t=e({instance:o,params:s,plugins:r,store:c.current,svgRef:d,chartRootRef:u,seriesConfig:i});t.publicAPI&&Object.assign(a.current,t.publicAPI),t.instance&&Object.assign(o,t.instance)};return r.forEach(h),{contextValue:l.useMemo(()=>({store:c.current,publicAPI:a.current,instance:o,svgRef:d,chartRootRef:u}),[o,a])}}function aP(e){return null==e.current&&(e.current={}),e}function aI(e){let t=l.useRef({});return e?aP(e):t}function aR(e){let t=1/0,i=-1/0;for(let n of e??[])n<t&&(t=n),n>i&&(i=n);return[t,i]}let aO=(e,t)=>"x"===t?{x:e,y:null}:{x:null,y:e},aD=e=>{let{axis:t,getFilters:i,isDefaultAxis:n}=e,r=i?.({currentAxisId:t.id,isDefaultAxis:n});return aR((r?t.data?.filter((e,t)=>r({x:null,y:null},t)):t.data)??[])},aL=e=>t=>{let{series:i,axis:n,getFilters:r,isDefaultAxis:s}=t;return Object.keys(i).filter(t=>{let r="x"===e?i[t].xAxisId:i[t].yAxisId;return r===n.id||s&&void 0===r}).reduce((t,o)=>{let{stackedData:a}=i[o],l=r?.({currentAxisId:n.id,isDefaultAxis:s,seriesXAxisId:i[o].xAxisId,seriesYAxisId:i[o].yAxisId}),[u,d]=a?.reduce((t,i,n)=>!l||l(aO(i[0],e),n)&&l(aO(i[1],e),n)?[Math.min(...i,t[0]),Math.max(...i,t[1])]:t,[1/0,-1/0])??[1/0,-1/0];return[Math.min(u,t[0]),Math.max(d,t[1])]},[1/0,-1/0])},aN=e=>Object.keys(e.series).some(t=>"horizontal"===e.series[t].layout)?aL("x")(e):aD(e),aF=e=>Object.keys(e.series).some(t=>"horizontal"===e.series[t].layout)?aD(e):aL("y")(e);var aB=i(16041),aV=i(68280);function aU(e){var t=e.map(az);return(0,aV.A)(e).sort(function(e,i){return t[e]-t[i]})}function az(e){for(var t,i=-1,n=0,r=e.length,s=-1/0;++i<r;)(t=+e[i][1])>s&&(s=t,n=i);return n}function aj(e){var t=e.map(aH);return(0,aV.A)(e).sort(function(e,i){return t[e]-t[i]})}function aH(e){for(var t,i=0,n=-1,r=e.length;++n<r;)(t=+e[n][1])&&(i+=t);return i}function a$(e){return aj(e).reverse()}function aW(e){var t,i,n=e.length,r=e.map(aH),s=aU(e),o=0,a=0,l=[],u=[];for(t=0;t<n;++t)i=s[t],o<a?(o+=r[i],l.push(i)):(a+=r[i],u.push(i));return u.reverse().concat(l)}function aq(e){return(0,aV.A)(e).reverse()}var aG=i(52905);function aK(e,t){if((a=e.length)>0)for(var i,n,r,s,o,a,l=0,u=e[t[0]].length;l<u;++l)for(s=o=0,i=0;i<a;++i)(r=(n=e[t[i]][l])[1]-n[0])>0?(n[0]=s,n[1]=s+=r):r<0?(n[1]=o,n[0]=o+=r):(n[0]=0,n[1]=r)}var aX=i(27471),aY=i(43307),aJ=i(56844);let aQ={appearance:aU,ascending:aj,descending:a$,insideOut:aW,none:aV.A,reverse:aq},aZ={expand:aG.A,diverging:aK,none:aX.A,silhouette:aY.A,wiggle:aJ.A},a0=e=>{let{series:t,seriesOrder:i,defaultStrategy:n}=e,r=[],s={};return i.forEach(e=>{let{stack:i,stackOrder:o,stackOffset:a}=t[e];void 0===i?r.push({ids:[e],stackingOrder:aQ.none,stackingOffset:aZ.none}):void 0===s[i]?(s[i]=r.length,r.push({ids:[e],stackingOrder:aQ[o??n?.stackOrder??"none"],stackingOffset:aZ[a??n?.stackOffset??"diverging"]})):(r[s[i]].ids.push(e),void 0!==o&&(r[s[i]].stackingOrder=aQ[o]),void 0!==a&&(r[s[i]].stackingOffset=aZ[a]))}),r},a1=e=>null==e?"":e.toLocaleString(),a2={seriesProcessor:(e,t)=>{let{seriesOrder:i,series:n}=e,r=a0(e),s=t??[];i.forEach(e=>{let i=n[e].data;if(void 0!==i)i.forEach((t,i)=>{s.length<=i?s.push({[e]:t}):s[i][e]=t});else if(void 0===t)throw Error(`MUI X Charts: bar series with id='${e}' has no data.
Either provide a data property to the series or use the dataset prop.`)});let o={};return r.forEach(e=>{let{ids:i,stackingOffset:r,stackingOrder:l}=e,u=(0,aB.A)().keys(i.map(e=>{let t=n[e].dataKey;return void 0===n[e].data&&void 0!==t?t:e})).value((e,t)=>e[t]??0).order(l).offset(r)(s);i.forEach((e,i)=>{let r=n[e].dataKey;o[e]=(0,a.A)({layout:"vertical",labelMarkType:"square",minBarSize:0,valueFormatter:n[e].valueFormatter??a1},n[e],{data:r?t.map(e=>{let t=e[r];return"number"!=typeof t?null:t}):n[e].data,stackedData:u[i].map(([e,t])=>[e,t])})})}),{seriesOrder:i,stackingGroups:r,series:o}},colorProcessor:iy,legendGetter:e=>{let{seriesOrder:t,series:i}=e;return t.reduce((e,t)=>{let n=rs(i[t].label,"legend");return void 0===n||e.push({markType:i[t].labelMarkType,id:t,seriesId:t,color:i[t].color,label:n}),e},[])},tooltipGetter:e=>{let{series:t,getColor:i,identifier:n}=e;if(!n||void 0===n.dataIndex)return null;let r=rs(t.label,"tooltip"),s=t.data[n.dataIndex];if(null==s)return null;let o=t.valueFormatter(s,{dataIndex:n.dataIndex});return{identifier:n,color:i(n.dataIndex),label:r,value:s,formattedValue:o,markType:t.labelMarkType}},axisTooltipGetter:e=>Object.values(e).map(e=>"horizontal"===e.layout?{direction:"y",axisId:e.yAxisId}:{direction:"x",axisId:e.xAxisId}),xExtremumGetter:aN,yExtremumGetter:aF,getSeriesWithDefaultValues:(e,t,i)=>(0,a.A)({id:e.id??`auto-generated-id-${t}`,color:i[t%i.length]},e)},a5={seriesProcessor:({series:e,seriesOrder:t},i)=>({series:Object.fromEntries(Object.entries(e).map(([e,t])=>{let n=t?.datasetKeys,r=["x","y","id"].filter(e=>"string"!=typeof n?.[e]);if(t?.datasetKeys&&r.length>0)throw Error(`MUI X Charts: scatter series with id='${e}' has incomplete datasetKeys.
Properties ${r.map(e=>`"${e}"`).join(", ")} are missing.`);let s=n?i?.map(e=>({x:e[n.x]??null,y:e[n.y]??null,z:n.z&&e[n.z],id:n.id&&e[n.id]}))??[]:t.data??[];return[e,(0,a.A)({labelMarkType:"circle",markerSize:4},t,{preview:(0,a.A)({markerSize:1},t?.preview),data:s,valueFormatter:t.valueFormatter??(e=>e&&`(${e.x}, ${e.y})`)})]})),seriesOrder:t}),colorProcessor:(e,t,i,n)=>{let r=n?.colorScale,s=i?.colorScale,o=t?.colorScale;return r?t=>{if(void 0===t)return e.color;if(n?.data?.[t]!==void 0){let e=r(n?.data?.[t]);if(null!==e)return e}let i=e.data[t],s=null===i?e.color:r(i.z);return null===s?e.color:s}:s?t=>{if(void 0===t)return e.color;let i=e.data[t],n=null===i?e.color:s(i.y);return null===n?e.color:n}:o?t=>{if(void 0===t)return e.color;let i=e.data[t],n=null===i?e.color:o(i.x);return null===n?e.color:n}:()=>e.color},legendGetter:e=>{let{seriesOrder:t,series:i}=e;return t.reduce((e,t)=>{let n=rs(i[t].label,"legend");return void 0===n||e.push({markType:i[t].labelMarkType,id:t,seriesId:t,color:i[t].color,label:n}),e},[])},tooltipGetter:e=>{let{series:t,getColor:i,identifier:n}=e;if(!n||void 0===n.dataIndex)return null;let r=rs(t.label,"tooltip"),s=t.data[n.dataIndex],o=t.valueFormatter(s,{dataIndex:n.dataIndex});return{identifier:n,color:i(n.dataIndex),label:r,value:s,formattedValue:o,markType:t.labelMarkType}},xExtremumGetter:e=>{let{series:t,axis:i,isDefaultAxis:n,getFilters:r}=e,s=1/0,o=-1/0;for(let e in t){if(!Object.hasOwn(t,e))continue;let a=t[e].xAxisId;if(!(a===i.id||void 0===a&&n))continue;let l=r?.({currentAxisId:i.id,isDefaultAxis:n,seriesXAxisId:t[e].xAxisId,seriesYAxisId:t[e].yAxisId}),u=t[e].data??[];for(let e=0;e<u.length;e+=1){let t=u[e];(!l||l(t,e))&&null!==t.x&&(t.x<s&&(s=t.x),t.x>o&&(o=t.x))}}return[s,o]},yExtremumGetter:e=>{let{series:t,axis:i,isDefaultAxis:n,getFilters:r}=e,s=1/0,o=-1/0;for(let e in t){if(!Object.hasOwn(t,e))continue;let a=t[e].yAxisId;if(!(a===i.id||void 0===a&&n))continue;let l=r?.({currentAxisId:i.id,isDefaultAxis:n,seriesXAxisId:t[e].xAxisId,seriesYAxisId:t[e].yAxisId}),u=t[e].data??[];for(let e=0;e<u.length;e+=1){let t=u[e];(!l||l(t,e))&&null!==t.y&&(t.y<s&&(s=t.y),t.y>o&&(o=t.y))}}return[s,o]},getSeriesWithDefaultValues:(e,t,i)=>(0,a.A)({id:e.id??`auto-generated-id-${t}`,color:i[t%i.length]},e)};function a3(e,t,i,n){return i.reduce((i,r,s)=>{if(null===t[s])return i;let[o,a]=e(r);return!n||n({y:o,x:null},s)&&n({y:a,x:null},s)?[Math.min(o,a,i[0]),Math.max(o,a,i[1])]:i},[1/0,-1/0])}function a4(e,t){let i={};return Object.keys(e).forEach(n=>{i[n]=(0,a.A)({},e[n],{valueFormatter:e[n].valueFormatter??t})}),i}let a6={colorProcessor:(e,t,i)=>{let n=i?.colorScale,r=t?.colorScale;return n?t=>{if(void 0===t)return e.color;let i=e.data[t],r=null===i?e.color:n(i);return null===r?e.color:r}:r?i=>{if(void 0===i)return e.color;let n=t.data?.[i],s=null===n?e.color:r(n);return null===s?e.color:s}:()=>e.color},seriesProcessor:(e,t)=>{let{seriesOrder:i,series:n}=e,r=a0((0,a.A)({},e,{defaultStrategy:{stackOffset:"none"}})),s=t??[];i.forEach(e=>{let t=n[e].data;void 0!==t&&t.forEach((t,i)=>{s.length<=i?s.push({[e]:t}):s[i][e]=t})});let o={};return r.forEach(e=>{let{ids:i,stackingOrder:r,stackingOffset:l}=e,u=(0,aB.A)().keys(i.map(e=>{let t=n[e].dataKey;return void 0===n[e].data&&void 0!==t?t:e})).value((e,t)=>e[t]??0).order(r).offset(l)(s);i.forEach((e,i)=>{let r=n[e].dataKey;o[e]=(0,a.A)({labelMarkType:"line"},n[e],{data:r?t.map(e=>{let t=e[r];return"number"!=typeof t?null:t}):n[e].data,stackedData:u[i].map(([e,t])=>[e,t])})})}),{seriesOrder:i,stackingGroups:r,series:a4(o,e=>null==e?"":e.toLocaleString())}},legendGetter:e=>{let{seriesOrder:t,series:i}=e;return t.reduce((e,t)=>{let n=rs(i[t].label,"legend");return void 0===n||e.push({markType:i[t].labelMarkType,id:t,seriesId:t,color:i[t].color,label:n}),e},[])},tooltipGetter:e=>{let{series:t,getColor:i,identifier:n}=e;if(!n||void 0===n.dataIndex)return null;let r=rs(t.label,"tooltip"),s=t.data[n.dataIndex],o=t.valueFormatter(s,{dataIndex:n.dataIndex});return{identifier:n,color:i(n.dataIndex),label:r,value:s,formattedValue:o,markType:t.labelMarkType}},axisTooltipGetter:e=>Object.values(e).map(e=>({direction:"x",axisId:e.xAxisId})),xExtremumGetter:e=>{let{axis:t}=e;return aR(t.data??[])},yExtremumGetter:e=>{let{series:t,axis:i,isDefaultAxis:n,getFilters:r}=e;return Object.keys(t).filter(e=>{let r=t[e].yAxisId;return r===i.id||n&&void 0===r}).reduce((e,s)=>{let{area:o,stackedData:a,data:l}=t[s],u=void 0!==o,d=r?.({currentAxisId:i.id,isDefaultAxis:n,seriesXAxisId:t[s].xAxisId,seriesYAxisId:t[s].yAxisId}),[c,h]=a3(u&&"log"!==i.scaleType&&"string"!=typeof t[s].baseline?e=>e:e=>[e[1],e[1]],l,a,d);return[Math.min(c,e[0]),Math.max(h,e[1])]},[1/0,-1/0])},getSeriesWithDefaultValues:(e,t,i)=>(0,a.A)({id:e.id??`auto-generated-id-${t}`,color:i[t%i.length]},e)};var a8=i(27012),a9=i(73595);function a7(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function le(e){return e}var lt=i(31145);function li(){var e=le,t=a7,i=null,n=(0,a9.A)(0),r=(0,a9.A)(lt.FA),s=(0,a9.A)(0);function o(o){var a,l,u,d,c,h=(o=(0,a8.A)(o)).length,f=0,p=Array(h),m=Array(h),g=+n.apply(this,arguments),v=Math.min(lt.FA,Math.max(-lt.FA,r.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/h,s.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<h;++a)(c=m[p[a]=a]=+e(o[a],a,o))>0&&(f+=c);for(null!=t?p.sort(function(e,i){return t(m[e],m[i])}):null!=i&&p.sort(function(e,t){return i(o[e],o[t])}),a=0,u=f?(v-h*b)/f:0;a<h;++a,g=d)d=g+((c=m[l=p[a]])>0?c*u:0)+b,m[l]={data:o[l],index:a,value:c,startAngle:g,endAngle:d,padAngle:y};return m}return o.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,a9.A)(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,i=null,o):t},o.sort=function(e){return arguments.length?(i=e,t=null,o):i},o.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:(0,a9.A)(+e),o):n},o.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,a9.A)(+e),o):r},o.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:(0,a9.A)(+e),o):s},o}let ln=(e="none")=>{if("function"==typeof e)return e;switch(e){case"none":default:return null;case"desc":return(e,t)=>t-e;case"asc":return(e,t)=>e-t}},lr={bar:a2,scatter:a5,line:a6,pie:{colorProcessor:e=>t=>e.data[t].color,seriesProcessor:e=>{let{seriesOrder:t,series:i}=e,n={};return t.forEach(e=>{let t=li().startAngle(2*Math.PI*(i[e].startAngle??0)/360).endAngle(2*Math.PI*(i[e].endAngle??360)/360).padAngle(2*Math.PI*(i[e].paddingAngle??0)/360).sortValues(ln(i[e].sortingValues??"none"))(i[e].data.map(e=>e.value));n[e]=(0,a.A)({labelMarkType:"circle",valueFormatter:e=>e.value.toLocaleString()},i[e],{data:i[e].data.map((i,n)=>(0,a.A)({},i,{id:i.id??`auto-generated-pie-id-${e}-${n}`},t[n])).map((t,n)=>(0,a.A)({labelMarkType:"circle"},t,{formattedValue:i[e].valueFormatter?.((0,a.A)({},t,{label:rs(t.label,"arc")}),{dataIndex:n})??t.value.toLocaleString()}))})}),{seriesOrder:t,series:n}},legendGetter:e=>{let{seriesOrder:t,series:i}=e;return t.reduce((e,t)=>(i[t].data.forEach((n,r)=>{let s=rs(n.label,"legend");void 0!==s&&e.push({markType:n.labelMarkType??i[t].labelMarkType,id:n.id??r,seriesId:t,color:n.color,label:s,itemId:n.id??r})}),e),[])},tooltipGetter:e=>{let{series:t,getColor:i,identifier:n}=e;if(!n||void 0===n.dataIndex)return null;let r=t.data[n.dataIndex];if(null==r)return null;let s=rs(r.label,"tooltip"),o=(0,a.A)({},r,{label:s}),l=t.valueFormatter(o,{dataIndex:n.dataIndex});return{identifier:n,color:i(n.dataIndex),label:s,value:o,formattedValue:l,markType:r.labelMarkType??t.labelMarkType}},getSeriesWithDefaultValues:(e,t,i)=>(0,a.A)({id:e.id??`auto-generated-id-${t}`},e,{data:e.data.map((e,t)=>(0,a.A)({color:i[t%i.length]},e))})}},ls=[s$,s1,s3,s4];function lo(e){let{children:t,plugins:i=ls,pluginParams:n={},seriesConfig:r=lr}=e,{contextValue:s}=a_(i,n,r);return(0,ew.jsx)(b.Provider,{value:s,children:t})}function la(e){let{children:t,localeText:i,chartProviderProps:n,slots:r,slotProps:s}=oK(e);return(0,ew.jsx)(lo,(0,a.A)({},n,{children:(0,ew.jsx)(sP,{localeText:i,children:(0,ew.jsx)(or,{slots:r,slotProps:s,defaultSlots:oi,children:t})})}))}function ll(e){let{isReversed:t,gradientId:i,size:n,direction:r,scale:s,colorMap:o}=e;return n<=0?null:(0,ew.jsx)("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"0",[`${r}${t?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:o.thresholds.map((e,i)=>{let r=s(e);if(void 0===r)return null;let a=t?1-r/n:r/n;return Number.isNaN(a)?null:(0,ew.jsxs)(l.Fragment,{children:[(0,ew.jsx)("stop",{offset:a,stopColor:o.colors[i],stopOpacity:1}),(0,ew.jsx)("stop",{offset:a,stopColor:o.colors[i+1],stopOpacity:1})]},e.toString()+i)})})}var lu=i(20277);let ld=10;function lc(e){let{gradientUnits:t,isReversed:i,gradientId:n,size:r,direction:s,scale:o,colorScale:a,colorMap:l}=e,u=[l.min??0,l.max??100],d=u.map(o).filter(e=>void 0!==e);if(2!==d.length)return null;let c="number"==typeof u[0]?(0,j.A)(u[0],u[1]):(0,lu.A)(u[0],u[1]),h=Math.round((Math.max(...d)-Math.min(...d))/ld),f=`${u[0]}-${u[1]}-`;return(0,ew.jsx)("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${i?1:2}`]:"objectBoundingBox"===t?1:`${r}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:h+1},(e,t)=>{let n=c(t/h);if(void 0===n)return null;let s=o(n);if(void 0===s)return null;let l=i?1-s/r:s/r,u=a(n);return null===u?null:(0,ew.jsx)("stop",{offset:l,stopColor:u,stopOpacity:1},f+t)})})}let lh=10,lf=e=>e?{x1:"1",x2:"0",y1:"0",y2:"0"}:{x1:"0",x2:"1",y1:"0",y2:"0"};function lp(e){let{isReversed:t,gradientId:i,colorScale:n,colorMap:r}=e,s=[r.min??0,r.max??100],o="number"==typeof s[0]?(0,j.A)(s[0],s[1]):(0,lu.A)(s[0],s[1]),l=lh,u=`${s[0]}-${s[1]}-`;return(0,ew.jsx)("linearGradient",(0,a.A)({id:i},lf(t),{gradientUnits:"objectBoundingBox",children:Array.from({length:l+1},(e,t)=>{let i=t/l,r=o(i);if(void 0===r)return null;let s=n(r);return null===s?null:(0,ew.jsx)("stop",{offset:i,stopColor:s,stopOpacity:1},u+t)})}))}function lm(){let e=iS();return l.useCallback(t=>"".concat(e,"-gradient-").concat(t),[e])}function lg(){let e=iS();return l.useCallback(t=>"".concat(e,"-gradient-").concat(t,"-object-bound"),[e])}function lv(){let{top:e,height:t,bottom:i,left:n,width:r,right:s}=t2(),o=e+t+i,a=n+r+s,u=lm(),d=lg(),{xAxis:c,xAxisIds:h}=tX(),{yAxis:f,yAxisIds:p}=tY(),{zAxis:m,zAxisIds:g}=nZ(),v=p.filter(e=>void 0!==f[e].colorMap),y=h.filter(e=>void 0!==c[e].colorMap),b=g.filter(e=>void 0!==m[e].colorMap);return 0===v.length&&0===y.length&&0===b.length?null:(0,ew.jsxs)("defs",{children:[v.map(e=>{let t=u(e),i=d(e),{colorMap:n,scale:r,colorScale:s,reverse:a}=f[e];return n?.type==="piecewise"?(0,ew.jsx)(ll,{isReversed:!a,scale:r,colorMap:n,size:o,gradientId:t,direction:"y"},t):n?.type==="continuous"?(0,ew.jsxs)(l.Fragment,{children:[(0,ew.jsx)(lc,{isReversed:!a,scale:r,colorScale:s,colorMap:n,size:o,gradientId:t,direction:"y"}),(0,ew.jsx)(lp,{isReversed:a,colorScale:s,colorMap:n,gradientId:i})]},t):null}),y.map(e=>{let t=u(e),i=d(e),{colorMap:n,scale:r,reverse:s,colorScale:o}=c[e];return n?.type==="piecewise"?(0,ew.jsx)(ll,{isReversed:s,scale:r,colorMap:n,size:a,gradientId:t,direction:"x"},t):n?.type==="continuous"?(0,ew.jsxs)(l.Fragment,{children:[(0,ew.jsx)(lc,{isReversed:s,scale:r,colorScale:o,colorMap:n,size:a,gradientId:t,direction:"x"}),(0,ew.jsx)(lp,{isReversed:s,colorScale:o,colorMap:n,gradientId:i})]},t):null}),b.map(e=>{let t=d(e),{colorMap:i,colorScale:n}=m[e];return i?.type==="continuous"?(0,ew.jsx)(lp,{colorScale:n,colorMap:i,gradientId:t},t):null})]})}let ly=["children","className","title","desc"],lb=(0,c.Ay)("svg",{name:"MuiChartsSurface",slot:"Root"})(e=>{var t,i;let{ownerState:n}=e;return{width:null!=(t=n.width)?t:"100%",height:null!=(i=n.height)?i:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",touchAction:"pan-y",userSelect:"none"}}),lS=l.forwardRef(function(e,t){let i=x(),{width:n,height:r}=E(i,eF),{width:s,height:o}=E(i,eN),l=ra(),c=(0,H.A)(l,t),h=(0,u.A)({props:e,name:"MuiChartsSurface"}),{children:f,className:p,title:m,desc:g}=h,v=(0,d.A)(h,ly),y=r>0&&n>0;return(0,ew.jsxs)(lb,(0,a.A)({ownerState:{width:s,height:o},viewBox:"".concat(0," ",0," ").concat(n," ").concat(r),className:p},v,{ref:c,children:[m&&(0,ew.jsx)("title",{children:m}),g&&(0,ew.jsx)("desc",{children:g}),(0,ew.jsx)(lv,{}),y&&f]}))}),lw=["width","height","margin","children","series","colors","dataset","desc","onAxisClick","highlightedAxis","onHighlightedAxisChange","disableVoronoi","voronoiMaxRadius","onItemClick","disableAxisListener","highlightedItem","onHighlightChange","sx","title","xAxis","yAxis","zAxis","rotationAxis","radiusAxis","skipAnimation","seriesConfig","plugins","localeText","slots","slotProps","experimentalFeatures"],lC=(e,t)=>{let i=e,{width:n,height:r,margin:s,children:o,series:l,colors:u,dataset:c,desc:h,onAxisClick:f,highlightedAxis:p,onHighlightedAxisChange:m,disableVoronoi:g,voronoiMaxRadius:v,onItemClick:y,disableAxisListener:b,highlightedItem:S,onHighlightChange:w,sx:C,title:x,xAxis:k,yAxis:A,zAxis:E,rotationAxis:M,radiusAxis:T,skipAnimation:_,seriesConfig:P,plugins:I,localeText:R,slots:O,slotProps:D,experimentalFeatures:L}=i,N=(0,d.A)(i,lw);return{chartDataProviderProps:{margin:s,series:l,colors:u,dataset:c,disableAxisListener:b,highlightedItem:S,onHighlightChange:w,onAxisClick:f,highlightedAxis:p,onHighlightedAxisChange:m,disableVoronoi:g,voronoiMaxRadius:v,onItemClick:y,xAxis:k,yAxis:A,zAxis:E,rotationAxis:M,radiusAxis:T,skipAnimation:_,width:n,height:r,localeText:R,seriesConfig:P,experimentalFeatures:L,plugins:null!=I?I:oq,slots:O,slotProps:D},chartsSurfaceProps:(0,a.A)({title:x,desc:h,sx:C,ref:t},N),children:o}};var lx=i(70369);function lk(){return S().chartRootRef}let lA=(e,t)=>"vertical"===e?t?.horizontal==="start"?"row":"row-reverse":t?.vertical==="bottom"?"column-reverse":"column",lE=(e,t)=>{if("vertical"===e){if(t?.vertical==="top")return"flex-start";if(t?.vertical==="bottom")return"flex-end"}if("horizontal"===e){if(t?.horizontal==="start")return"flex-start";if(t?.horizontal==="end")return"flex-end"}return"center"},lM=(0,c.Ay)("div",{name:"MuiChartsWrapper",slot:"Root",shouldForwardProp:e=>(0,lx.MC)(e)&&"extendVertically"!==e})(({ownerState:e})=>({display:"flex",flexDirection:lA(e.legendDirection,e.legendPosition),flex:1,justifyContent:"center",alignItems:lE(e.legendDirection,e.legendPosition),variants:[{props:{extendVertically:!0},style:{height:"100%"}}]}));function lT(e){let{children:t,sx:i,extendVertically:n}=e,r=lk(),{height:s}=E(x(),eN);return(0,ew.jsx)(lM,{ref:r,ownerState:e,sx:i,extendVertically:n??void 0===s,children:t})}let l_=l.forwardRef(function(e,t){var i,n,r,s,o;let l=(0,u.A)({props:e,name:"MuiBarChart"}),{chartsWrapperProps:d,chartContainerProps:c,barPlotProps:h,gridProps:f,clipPathProps:p,clipPathGroupProps:m,overlayProps:g,chartsAxisProps:v,axisHighlightProps:y,legendProps:b,children:S}=s9(l),{chartDataProviderProps:w,chartsSurfaceProps:C}=lC(c,t),x=null!=(o=null==(i=l.slots)?void 0:i.tooltip)?o:rJ,k=null==(n=l.slots)?void 0:n.toolbar;return(0,ew.jsx)(la,(0,a.A)({},w,{children:(0,ew.jsxs)(lT,(0,a.A)({},d,{children:[l.showToolbar&&k?(0,ew.jsx)(k,(0,a.A)({},null==(r=l.slotProps)?void 0:r.toolbar)):null,!l.hideLegend&&(0,ew.jsx)(si,(0,a.A)({},b)),(0,ew.jsxs)(lS,(0,a.A)({},C,{children:[(0,ew.jsx)(sk,(0,a.A)({},f)),(0,ew.jsxs)("g",(0,a.A)({},m,{children:[(0,ew.jsx)(iB,(0,a.A)({},h)),(0,ew.jsx)(sV,(0,a.A)({},g)),(0,ew.jsx)(sm,(0,a.A)({},y))]})),(0,ew.jsx)(nB,(0,a.A)({},v)),(0,ew.jsx)(sg,(0,a.A)({},p)),S]})),!l.loading&&(0,ew.jsx)(x,(0,a.A)({},null==(s=l.slotProps)?void 0:s.tooltip))]}))}))})},75053:e=>{var t=4,i=.001,n=1e-7,r=10,s=11,o=.1,a="function"==typeof Float32Array;function l(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function d(e){return 3*e}function c(e,t,i){return((l(t,i)*e+u(t,i))*e+d(t))*e}function h(e,t,i){return 3*l(t,i)*e*e+2*u(t,i)*e+d(t)}function f(e,t,i,s,o){var a,l,u=0;do(a=c(l=t+(i-t)/2,s,o)-e)>0?i=l:t=l;while(Math.abs(a)>n&&++u<r);return l}function p(e,i,n,r){for(var s=0;s<t;++s){var o=h(i,n,r);if(0===o)break;var a=c(i,n,r)-e;i-=a/o}return i}function m(e){return e}e.exports=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return m;for(var l=a?new Float32Array(s):Array(s),u=0;u<s;++u)l[u]=c(u*o,e,n);function d(t){for(var r=0,a=1,u=s-1;a!==u&&l[a]<=t;++a)r+=o;var d=r+(t-l[--a])/(l[a+1]-l[a])*o,c=h(d,e,n);return c>=i?p(t,d,e,n):0===c?d:f(t,r,r+o,e,n)}return function(e){return 0===e?0:1===e?1:c(d(e),t,r)}}},75129:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckContentShareConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.PermissionDenied=2]="PermissionDenied",e[e.TimedOut=3]="TimedOut",e[e.ConnectionFailed=4]="ConnectionFailed"}(i=t.CheckContentShareConnectivityFeedback||(t.CheckContentShareConnectivityFeedback={})),t.default=i},75376:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(10106)),o=r(i(64632)),a=r(i(38865)),l=i(36243),u=r(i(10052)),d=r(i(73876));class c{constructor(e,t,i){this.tileFactory=e,this.audioVideoController=t,this.logger=i,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.resolutionObservers=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=t.configuration.keepLastFrameWhenPaused}createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new o.default(new a.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return n(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;let e=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,e.destroy()})}bindVideoElement(e,t){let i=this.getVideoTile(e);if(null===i)return void this.logger.warn(`Ignoring video element binding for unknown tile id ${e}`);i.bindVideoElement(t)}unbindVideoElement(e,t=!0){let i=this.getVideoTile(e);if(null===i)return void this.logger.warn(`Ignoring video element unbinding for unknown tile id ${e}`);this.logger.info("Unbinding the video element"),this.notifyRemoteObserversOfUnbound(i.state().boundAttendeeId);let n=i.stateRef().boundVideoElement;i.bindVideoElement(null),t&&(this.logger.info("Cleaning up the video element"),d.default.disconnectVideoStreamFromVideoElement(n,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===s.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;let e=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),e.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(e){let t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)||(this.audioVideoController.pauseReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.add(e)),t.pause())}unpauseVideoTile(e){let t=this.getVideoTile(e);t&&(this.currentPausedTilesByIds.has(e)&&(this.audioVideoController.resumeReceivingStream(t.stateRef().streamId),this.currentPausedTilesByIds.delete(e)),t.unpause())}getVideoTile(e){return this.tileMap.has(e)?this.tileMap.get(e):null}getVideoTileArea(e){let t=e.state(),i=0,n=0;return t.boundVideoElement&&(i=t.boundVideoElement.clientHeight*t.devicePixelRatio,n=t.boundVideoElement.clientWidth*t.devicePixelRatio),i*n}getAllRemoteVideoTiles(){let e=[];return this.tileMap.forEach((t,i)=>{this.currentLocalTile&&i===this.currentLocalTile.id()||e.push(t)}),e}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(e=!1){let t=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();let i=this.tileFactory.makeTile(t,e,this,this.devicePixelRatioMonitor,this.createResolutionMonitor(t));return this.tileMap.set(t,i),i}removeVideoTile(e){if(!this.tileMap.has(e))return;let t=this.tileMap.get(e);this.currentLocalTile===t&&(this.currentLocalTile=null),t.destroy(),this.tileMap.delete(e),this.audioVideoController.forEachObserver(t=>{l.Maybe.of(t.videoTileWasRemoved).map(i=>i.bind(t)(e))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(e){let t=[];for(let i of this.getAllVideoTiles()){let n=i.state();n.boundAttendeeId===e&&(this.removeVideoTile(n.tileId),t.push(n.tileId))}return t}removeAllVideoTiles(){for(let e of Array.from(this.tileMap.keys()))this.removeVideoTile(e)}sendTileStateUpdate(e){this.audioVideoController.forEachObserver(t=>{l.Maybe.of(t.videoTileDidUpdate).map(i=>i.bind(t)(e))})}haveVideoTilesWithStreams(){for(let e of this.getAllVideoTiles())if(e.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(e){return!!this.getVideoTileForAttendeeId(e)}getVideoTileForAttendeeId(e){for(let t of this.getAllVideoTiles())if(t.state().boundAttendeeId===e)return t}captureVideoTile(e){let t=this.getVideoTile(e);return t?t.capture():null}registerVideoTileResolutionObserver(e){this.resolutionObservers.add(e)}removeVideoTileResolutionObserver(e){this.resolutionObservers.delete(e)}notifyResolutionObserversOfChange(e,t,i){for(let n of this.resolutionObservers)n.videoTileResolutionDidChange(e,t,i)}notifyRemoteObserversOfUnbound(e){for(let t of this.resolutionObservers)t.videoTileUnbound(e)}createResolutionMonitor(e){let t=new class{constructor(e,t){this.controller=e,this.tileId=t}videoElementResolutionChanged(e,t){let i=this.controller.getVideoTile(this.tileId);if(i){let n=i.state().boundAttendeeId;this.controller.notifyResolutionObserversOfChange(n,e,t)}}}(this,e),i=new u.default;return i.registerObserver(t),i}findOrCreateLocalVideoTile(){return this.currentLocalTile||(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId)),this.currentLocalTile}}t.default=c},75478:function(e){!function(t,i){e.exports=i()}(0,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,(function(t){return e[t]}).bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=90)}({17:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(18);t.default=function(){function e(){}return e.getFirstMatch=function(e,t){var i=t.match(e);return i&&i.length>0&&i[1]||""},e.getSecondMatch=function(e,t){var i=t.match(e);return i&&i.length>1&&i[2]||""},e.matchAndReturnConst=function(e,t,i){if(e.test(t))return i},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,i,n){void 0===n&&(n=!1);var r=e.getVersionPrecision(t),s=e.getVersionPrecision(i),o=Math.max(r,s),a=0,l=e.map([t,i],function(t){var i=o-e.getVersionPrecision(t),n=t+Array(i+1).join(".0");return e.map(n.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(n&&(a=o-Math.min(r,s)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return -1}},e.map=function(e,t){var i,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)n.push(t(e[i]));return n},e.find=function(e,t){var i,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(i=0,n=e.length;i<n;i+=1){var r=e[i];if(t(r,i))return r}},e.assign=function(e){for(var t,i,n=e,r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var a=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){n[t]=e[t]})};for(t=0,i=s.length;t<i;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}(),e.exports=t.default},18:function(e,t,i){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(91))&&n.__esModule?n:{default:n},s=i(18);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.default=function(){var e;function t(){}return t.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new r.default(e,t)},t.parse=function(e){return new r.default(e).getResult()},e=null,o(t,[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}]),t}(),e.exports=t.default},91:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=l(i(92)),r=l(i(93)),s=l(i(94)),o=l(i(95)),a=l(i(17));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,i={},n=0,r={},s=0;if(Object.keys(e).forEach(function(t){var o=e[t];"string"==typeof o?(r[t]=o,s+=1):"object"==typeof o&&(i[t]=o,n+=1)}),n>0){var o=Object.keys(i),l=a.default.find(o,function(e){return t.isOS(e)});if(l){var u=this.satisfies(i[l]);if(void 0!==u)return u}var d=a.default.find(o,function(e){return t.isPlatform(e)});if(d){var c=this.satisfies(i[d]);if(void 0!==c)return c}}if(s>0){var h=Object.keys(r),f=a.default.find(h,function(e){return t.isBrowser(e,!0)});if(void 0!==f)return this.compareVersion(r[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var i=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),r=a.default.getBrowserTypeByAlias(n);return t&&r&&(n=r.toLowerCase()),n===i},t.compareVersion=function(e){var t=[0],i=e,n=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(i=e.substr(1),"="===e[1]?(n=!0,i=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?i=e.substr(1):"~"===e[0]&&(n=!0,i=e.substr(1)),t.indexOf(a.default.compareVersions(r,i,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}(),e.exports=t.default},92:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},s=/version\/(\d+(\.?_?\d+)+)/i;t.default=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},i=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},i=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},i=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},i=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},i=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},i=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},i=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},i=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},i=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},i=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},i=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},i=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},i=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},i=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},i=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return i&&(t.version=i),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},i=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},i=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},i=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},i=r.default.getFirstMatch(s,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},i=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},i=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},i=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},i=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},i=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},i=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},i=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},i=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},i=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t={name:"Android Browser"},i=r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},i=r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},i=r.default.getFirstMatch(s,e);return i&&(t.version=i),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}],e.exports=t.default},93:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},s=i(18);t.default=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),i=r.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},i=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return i&&(t.version=i),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),i=r.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return i&&(n.versionName=i),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),i=r.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return i&&(n.versionName=i),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),i={name:s.OS_MAP.WebOS};return t&&t.length&&(i.version=t),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}],e.exports=t.default},94:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},s=i(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",i={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(i.model=t),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),i=e.test(/like (ipod|iphone)/i);return t&&!i},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},s=i(18);t.default=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},i=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},i=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=e.test(/gecko/i),i=e.test(/like gecko/i);return t&&!i},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},i=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},i=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}}],e.exports=t.default}})})},75585:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(i=t.LogLevel||(t.LogLevel={})),t.default=i},76052:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckNetworkUDPConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",e[e.ConnectionFailed=2]="ConnectionFailed",e[e.ICENegotiationFailed=3]="ICENegotiationFailed"}(i=t.CheckNetworkUDPConnectivityFeedback||(t.CheckNetworkUDPConnectivityFeedback={})),t.default=i},76234:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(25958)),o=r(i(33605));class a{constructor(e){this.logger=e,this.taskName="BaseTask",this.parentTask=null,this.status=o.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}once(...e){return new s.default(this.logger,this,e)}cancel(){}name(){return this.parentTask?`${this.parentTask.name()}/${this.taskName}`:this.taskName}setParent(e){this.parentTask=e}getStatus(){return this.status}logAndThrow(e){throw this.logger.info(e),Error(e)}baseRun(e){return n(this,void 0,void 0,function*(){try{let t=Date.now();switch(this.logger.info(`running task ${this.name()}`),this.status){case o.default.RUNNING:this.logAndThrow(`${this.name()} is already running`);case o.default.CANCELED:this.logAndThrow(`${this.name()} was canceled before running`);case o.default.FINISHED:this.logAndThrow(`${this.name()} was already finished`)}this.status=o.default.RUNNING,yield e.call(this),this.logger.info(`${this.name()} took ${Math.round(Date.now()-t)} ms`)}catch(e){throw e}finally{this.status!==o.default.CANCELED&&(this.status=o.default.FINISHED)}})}baseCancel(e){if(this.status===o.default.CANCELED||this.status===o.default.FINISHED)return void this.logger.info(`Not canceling ${this.name()}: state is ${this.status}`);this.logger.info(`canceling task ${this.name()}`),this.status=o.default.CANCELED,e.call(this)}}t.default=a},76278:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp")},76709:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward")},76794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}}t.default=i},76842:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900)),s=n(i(53510));class o extends r.default{constructor(e,t){super(e,t,s.default.VideoConcurrentSendersHealth),this.concurrentVideoSendersThreshold=e.concurrentVideoSendersThreshold}health(){return this.currentData.isContentShare?this.maximumHealth():this.currentData.numberOfPublishedVideoSources>this.concurrentVideoSendersThreshold?this.minimumHealth():this.maximumHealth()}}t.default=o},77341:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>f,C:()=>h,a6:()=>p,ao:()=>v,bZ:()=>m,iG:()=>g});var n=i(96180),r=i(67331),s=i(91358),o=i(6256),a=i(45351),l=i(98592),u=i(59985),d=i(68476);function c(){var e,t,i,o,a,l=0,u=1,d=s.D_,c=!1;function h(t){return null==t||isNaN(t*=1)?a:d(0===i?.5:(t=(o(t)-e)*i,c?Math.max(0,Math.min(1,t)):t))}function f(e){return function(t){var i,n;return arguments.length?([i,n]=t,d=e(i,n),h):[d(0),d(1)]}}return h.domain=function(n){return arguments.length?([l,u]=n,e=o(l*=1),t=o(u*=1),i=e===t?0:1/(t-e),h):[l,u]},h.clamp=function(e){return arguments.length?(c=!!e,h):c},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=f(n.A),h.rangeRound=f(r.A),h.unknown=function(e){return arguments.length?(a=e,h):a},function(n){return o=n,e=n(l),t=n(u),i=e===t?0:1/(t-e),h}}function h(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function f(){var e=(0,a.C)(c()(s.D_));return e.copy=function(){return h(e,f())},o.K.apply(e,arguments)}function p(){var e=(0,l.g)(c()).domain([1,10]);return e.copy=function(){return h(e,p()).base(e.base())},o.K.apply(e,arguments)}function m(){var e=(0,u.s)(c());return e.copy=function(){return h(e,m()).constant(e.constant())},o.K.apply(e,arguments)}function g(){var e=(0,d.DS)(c());return e.copy=function(){return h(e,g()).exponent(e.exponent())},o.K.apply(e,arguments)}function v(){return g.apply(null,arguments).exponent(.5)}},77541:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(75585));class s{constructor(e=r.default.OFF){this.level=e}info(e){}warn(e){}error(e){}debug(e){r.default.DEBUG<this.level||"string"!=typeof e&&e()}setLogLevel(e){this.level=e}getLogLevel(){return this.level}}t.default=s},77826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n,r){this.logger=e,this.realtimeController=t,this.minVolumeDecibels=i,this.maxVolumeDecibels=n,this.selfAttendeeId=r,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(e){let t=0;for(let i of e.streams){let n=!!i.attendeeId,r=!!i.externalUserId,s=i.hasOwnProperty("muted"),o=!!i.dropped;if(n){this.attendeeIdToStreamId[i.attendeeId]&&this.attendeeIdToStreamId[i.attendeeId]<i.audioStreamId&&delete this.attendeeIdToStreamId[i.attendeeId],this.streamIdToAttendeeId[i.audioStreamId]=i.attendeeId;let n=r?i.externalUserId:i.attendeeId;this.streamIdToExternalUserId[i.audioStreamId]=n,this.attendeeIdToStreamId[i.attendeeId]=i.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(i.attendeeId,!0,n,!1,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}if(s){let e=this.streamIdToAttendeeId[i.audioStreamId],t=this.streamIdToExternalUserId[i.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(e,null,i.muted,null,t)}if(!n&&!s){let n=this.streamIdToAttendeeId[i.audioStreamId];if(n){let r=this.streamIdToExternalUserId[i.audioStreamId];delete this.streamIdToAttendeeId[i.audioStreamId],delete this.streamIdToExternalUserId[i.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[i.audioStreamId],this.attendeeIdToStreamId[n]===i.audioStreamId&&delete this.attendeeIdToStreamId[n];let s=!1;for(let e of Object.keys(this.streamIdToAttendeeId)){let t=parseInt(e);if(t>i.audioStreamId&&this.streamIdToAttendeeId[t]===n){s=!0;break}}s||this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,r,o,{attendeeIndex:t++,attendeesInFrame:e.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(e),this.sessionReconnected=!1)}cleanUpState(e){let t=Object.values(this.streamIdToAttendeeId),i=e.streams.map(e=>e.attendeeId);for(let[e,n]of t.filter(e=>!i.includes(e)).entries()){let t=this.attendeeIdToStreamId[n],i=this.streamIdToExternalUserId[t];if(delete this.streamIdToAttendeeId[t],delete this.streamIdToExternalUserId[t],delete this.warnedAboutMissingStreamIdMapping[t],delete this.attendeeIdToStreamId[n],n===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(n,!1,i,!1,{attendeeIndex:e,attendeesInFrame:n.length})}}sendRealtimeUpdatesForAudioMetadata(e){let t=null,i=null;for(let n of e.attendeeStates){let e=this.attendeeIdForStreamId(n.audioStreamId);n.hasOwnProperty("volume")&&(null===t&&(t={}),null!==e&&(t[e]=this.normalizedVolume(n))),n.hasOwnProperty("signalStrength")&&(null===i&&(i={}),null!==e&&(i[e]=this.normalizedSignalStrength(n)))}this.applyRealtimeUpdatesForAudioMetadata(t,i)}normalizedVolume(e){return Math.min(Math.max(1-(-e.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels),0),1)}normalizedSignalStrength(e){return Math.min(Math.max(e.signalStrength/i.MAX_SIGNAL_STRENGTH_LEVELS,0),1)}applyRealtimeUpdatesForAudioMetadata(e,t){for(let n in this.streamIdToAttendeeId){let r=this.streamIdToAttendeeId[n],s=this.streamIdToExternalUserId[n],o=null,a=null;null!==e&&(o=e.hasOwnProperty(r)?e[r]:i.IMPLICIT_VOLUME),null!==t&&(a=t.hasOwnProperty(r)?t[r]:i.IMPLICIT_SIGNAL_STRENGTH),(null!==o||null!==a)&&this.realtimeController.realtimeUpdateVolumeIndicator(r,o,null,a,s)}}attendeeIdForStreamId(e){if(0===e)return null;let t=this.streamIdToAttendeeId[e];return t||(this.warnedAboutMissingStreamIdMapping[e]||(this.warnedAboutMissingStreamIdMapping[e]=!0,this.logger.warn(`volume indicator stream id ${e} seen before being defined`)),null)}}t.default=i,i.MAX_SIGNAL_STRENGTH_LEVELS=2,i.IMPLICIT_VOLUME=0,i.IMPLICIT_SIGNAL_STRENGTH=1},77963:(e,t,i)=>{"use strict";let{_tr_init:n,_tr_stored_block:r,_tr_flush_block:s,_tr_tally:o,_tr_align:a}=i(14457),l=i(45493),u=i(95975),d=i(13452),{Z_NO_FLUSH:c,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:f,Z_FINISH:p,Z_BLOCK:m,Z_OK:g,Z_STREAM_END:v,Z_STREAM_ERROR:y,Z_DATA_ERROR:b,Z_BUF_ERROR:S,Z_DEFAULT_COMPRESSION:w,Z_FILTERED:C,Z_HUFFMAN_ONLY:x,Z_RLE:k,Z_FIXED:A,Z_DEFAULT_STRATEGY:E,Z_UNKNOWN:M,Z_DEFLATED:T}=i(97453),_=9,P=15,I=8,R=286,O=30,D=19,L=573,N=15,F=3,B=258,V=262,U=32,z=42,j=57,H=69,$=73,W=91,q=103,G=113,K=666,X=1,Y=2,J=3,Q=4,Z=3,ee=(e,t)=>(e.msg=d[t],t),et=e=>2*e-9*(e>4),ei=e=>{let t=e.length;for(;--t>=0;)e[t]=0},en=e=>{let t,i,n,r=e.w_size;n=t=e.hash_size;do i=e.head[--n],e.head[n]=i>=r?i-r:0;while(--t);n=t=r;do i=e.prev[--n],e.prev[n]=i>=r?i-r:0;while(--t)},er=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask,es=e=>{let t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},eo=(e,t)=>{s(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,es(e.strm)},ea=(e,t)=>{e.pending_buf[e.pending++]=t},el=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},eu=(e,t,i,n)=>{let r=e.avail_in;return(r>n&&(r=n),0===r)?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=l(e.adler,t,r,i):2===e.state.wrap&&(e.adler=u(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},ed=(e,t)=>{let i,n,r=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,u=e.window,d=e.w_mask,c=e.prev,h=e.strstart+B,f=u[s+o-1],p=u[s+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(i=t)+o]!==p||u[i+o-1]!==f||u[i]!==u[s]||u[++i]!==u[s+1])continue;s+=2,i++;do;while(u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&s<h);if(n=B-(h-s),s=h-B,n>o){if(e.match_start=t,o=n,n>=a)break;f=u[s+o-1],p=u[s+o]}}while((t=c[t&d])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead},ec=e=>{let t,i,n,r=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-V)&&(e.window.set(e.window.subarray(r,r+r-i),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),en(e),i+=r),0===e.strm.avail_in)break;if(t=eu(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=F)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=er(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=er(e,e.ins_h,e.window[n+F-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<F)););}while(e.lookahead<V&&0!==e.strm.avail_in)},eh=(e,t)=>{let i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,o,a=0,l=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,n>(s=e.strstart-e.block_start)+e.strm.avail_in&&(n=s+e.strm.avail_in),n>o&&(n=o),n<i&&(0===n&&t!==p||t===c||n!==s+e.strm.avail_in)))break;a=+(t===p&&n===s+e.strm.avail_in),r(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,es(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(eu(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return((l-=e.strm.avail_in)&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a)?Q:t!==c&&t!==p&&0===e.strm.avail_in&&e.strstart===e.block_start?Y:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(eu(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,i=(o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o)>e.w_size?e.w_size:o,((s=e.strstart-e.block_start)>=i||(s||t===p)&&t!==c&&0===e.strm.avail_in&&s<=o)&&(n=s>o?o:s,a=+(t===p&&0===e.strm.avail_in&&n===s),r(e,e.block_start,n,a),e.block_start+=n,es(e.strm)),a?J:X)},ef=(e,t)=>{let i,n;for(;;){if(e.lookahead<V){if(ec(e),e.lookahead<V&&t===c)return X;if(0===e.lookahead)break}if(i=0,e.lookahead>=F&&(e.ins_h=er(e,e.ins_h,e.window[e.strstart+F-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-V&&(e.match_length=ed(e,i)),e.match_length>=F)if(n=o(e,e.strstart-e.match_start,e.match_length-F),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=F){e.match_length--;do e.strstart++,e.ins_h=er(e,e.ins_h,e.window[e.strstart+F-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=er(e,e.ins_h,e.window[e.strstart+1]);else n=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(eo(e,!1),0===e.strm.avail_out))return X}return(e.insert=e.strstart<F-1?e.strstart:F-1,t===p)?(eo(e,!0),0===e.strm.avail_out)?J:Q:e.sym_next&&(eo(e,!1),0===e.strm.avail_out)?X:Y},ep=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<V){if(ec(e),e.lookahead<V&&t===c)return X;if(0===e.lookahead)break}if(i=0,e.lookahead>=F&&(e.ins_h=er(e,e.ins_h,e.window[e.strstart+F-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=F-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-V&&(e.match_length=ed(e,i),e.match_length<=5&&(e.strategy===C||e.match_length===F&&e.strstart-e.match_start>4096)&&(e.match_length=F-1)),e.prev_length>=F&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-F,n=o(e,e.strstart-1-e.prev_match,e.prev_length-F),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=er(e,e.ins_h,e.window[e.strstart+F-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length);if(e.match_available=0,e.match_length=F-1,e.strstart++,n&&(eo(e,!1),0===e.strm.avail_out))return X}else if(e.match_available){if((n=o(e,0,e.window[e.strstart-1]))&&eo(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return X}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=o(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<F-1?e.strstart:F-1,t===p)?(eo(e,!0),0===e.strm.avail_out)?J:Q:e.sym_next&&(eo(e,!1),0===e.strm.avail_out)?X:Y},em=(e,t)=>{let i,n,r,s,a=e.window;for(;;){if(e.lookahead<=B){if(ec(e),e.lookahead<=B&&t===c)return X;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=F&&e.strstart>0&&(n=a[r=e.strstart-1])===a[++r]&&n===a[++r]&&n===a[++r]){s=e.strstart+B;do;while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);e.match_length=B-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=F?(i=o(e,1,e.match_length-F),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(eo(e,!1),0===e.strm.avail_out))return X}return(e.insert=0,t===p)?(eo(e,!0),0===e.strm.avail_out)?J:Q:e.sym_next&&(eo(e,!1),0===e.strm.avail_out)?X:Y},eg=(e,t)=>{let i;for(;;){if(0===e.lookahead&&(ec(e),0===e.lookahead)){if(t===c)return X;break}if(e.match_length=0,i=o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(eo(e,!1),0===e.strm.avail_out))return X}return(e.insert=0,t===p)?(eo(e,!0),0===e.strm.avail_out)?J:Q:e.sym_next&&(eo(e,!1),0===e.strm.avail_out)?X:Y};function ev(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}let ey=[new ev(0,0,0,0,eh),new ev(4,4,8,4,ef),new ev(4,5,16,8,ef),new ev(4,6,32,32,ef),new ev(4,4,16,16,ep),new ev(8,16,32,32,ep),new ev(8,16,128,128,ep),new ev(8,32,128,256,ep),new ev(32,128,258,1024,ep),new ev(32,258,258,4096,ep)],eb=e=>{e.window_size=2*e.w_size,ei(e.head),e.max_lazy_match=ey[e.level].max_lazy,e.good_match=ey[e.level].good_length,e.nice_match=ey[e.level].nice_length,e.max_chain_length=ey[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=F-1,e.match_available=0,e.ins_h=0};function eS(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*L),this.dyn_dtree=new Uint16Array((2*O+1)*2),this.bl_tree=new Uint16Array((2*D+1)*2),ei(this.dyn_ltree),ei(this.dyn_dtree),ei(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(N+1),this.heap=new Uint16Array(2*R+1),ei(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*R+1),ei(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let ew=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(t.status===z||t.status===j||t.status===H||t.status===$||t.status===W||t.status===q||t.status===G||t.status===K)?0:1},eC=e=>{if(ew(e))return ee(e,y);e.total_in=e.total_out=0,e.data_type=M;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?j:t.wrap?z:G,e.adler=+(2!==t.wrap),t.last_flush=-2,n(t),g},ex=e=>{let t=eC(e);return t===g&&eb(e.state),t},ek=(e,t)=>ew(e)||2!==e.state.wrap?y:(e.state.gzhead=t,g),eA=(e,t,i,n,r,s)=>{if(!e)return y;let o=1;if(t===w&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>_||i!==T||n<8||n>15||t<0||t>9||s<0||s>A||8===n&&1!==o)return ee(e,y);8===n&&(n=9);let a=new eS;return e.state=a,a.strm=e,a.status=z,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+F-1)/F),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=i,ex(e)},eE=(e,t)=>eA(e,t,T,P,I,E),eM=(e,t)=>{if(ew(e)||t>m||t<0)return e?ee(e,y):y;let i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===K&&t!==p)return ee(e,0===e.avail_out?S:y);let n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(es(e),0===e.avail_out)return i.last_flush=-1,g}else if(0===e.avail_in&&et(t)<=et(n)&&t!==p)return ee(e,S);if(i.status===K&&0!==e.avail_in)return ee(e,S);if(i.status===z&&0===i.wrap&&(i.status=G),i.status===z){let t=T+(i.w_bits-8<<4)<<8,n=-1;if(t|=(n=i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(t|=U),el(i,t+=31-t%31),0!==i.strstart&&(el(i,e.adler>>>16),el(i,65535&e.adler)),e.adler=1,i.status=G,es(e),0!==i.pending)return i.last_flush=-1,g}if(i.status===j){if(e.adler=0,ea(i,31),ea(i,139),ea(i,8),i.gzhead)ea(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),ea(i,255&i.gzhead.time),ea(i,i.gzhead.time>>8&255),ea(i,i.gzhead.time>>16&255),ea(i,i.gzhead.time>>24&255),ea(i,9===i.level?2:4*(i.strategy>=x||i.level<2)),ea(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ea(i,255&i.gzhead.extra.length),ea(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=u(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=H;else if(ea(i,0),ea(i,0),ea(i,0),ea(i,0),ea(i,0),ea(i,9===i.level?2:4*(i.strategy>=x||i.level<2)),ea(i,Z),i.status=G,es(e),0!==i.pending)return i.last_flush=-1,g}if(i.status===H){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=u(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,es(e),0!==i.pending)return i.last_flush=-1,g;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=u(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=$}if(i.status===$){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=u(e.adler,i.pending_buf,i.pending-n,n)),es(e),0!==i.pending)return i.last_flush=-1,g;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ea(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=u(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=W}if(i.status===W){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=u(e.adler,i.pending_buf,i.pending-n,n)),es(e),0!==i.pending)return i.last_flush=-1,g;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ea(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=u(e.adler,i.pending_buf,i.pending-n,n))}i.status=q}if(i.status===q){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(es(e),0!==i.pending))return i.last_flush=-1,g;ea(i,255&e.adler),ea(i,e.adler>>8&255),e.adler=0}if(i.status=G,es(e),0!==i.pending)return i.last_flush=-1,g}if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==K){let n=0===i.level?eh(i,t):i.strategy===x?eg(i,t):i.strategy===k?em(i,t):ey[i.level].func(i,t);if((n===J||n===Q)&&(i.status=K),n===X||n===J)return 0===e.avail_out&&(i.last_flush=-1),g;if(n===Y&&(t===h?a(i):t!==m&&(r(i,0,0,!1),t===f&&(ei(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),es(e),0===e.avail_out))return i.last_flush=-1,g}return t!==p?g:i.wrap<=0?v:(2===i.wrap?(ea(i,255&e.adler),ea(i,e.adler>>8&255),ea(i,e.adler>>16&255),ea(i,e.adler>>24&255),ea(i,255&e.total_in),ea(i,e.total_in>>8&255),ea(i,e.total_in>>16&255),ea(i,e.total_in>>24&255)):(el(i,e.adler>>>16),el(i,65535&e.adler)),es(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?g:v)},eT=e=>{if(ew(e))return y;let t=e.state.status;return e.state=null,t===G?ee(e,b):g},e_=(e,t)=>{let i=t.length;if(ew(e))return y;let n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==z||n.lookahead)return y;if(1===r&&(e.adler=l(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(ei(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}let s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,ec(n);n.lookahead>=F;){let e=n.strstart,t=n.lookahead-(F-1);do n.ins_h=er(n,n.ins_h,n.window[e+F-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t);n.strstart=e,n.lookahead=F-1,ec(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=r,g};e.exports.deflateInit=eE,e.exports.deflateInit2=eA,e.exports.deflateReset=ex,e.exports.deflateResetKeep=eC,e.exports.deflateSetHeader=ek,e.exports.deflate=eM,e.exports.deflateEnd=eT,e.exports.deflateSetDictionary=e_,e.exports.deflateInfo="pako deflate (from Nodeca project)"},78095:(e,t,i)=>{"use strict";var n,r,s,o,a,l,u,d;i.d(t,{A:()=>G}),function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n||(n={}));let c=n.Root,h=n.Text,f=n.Directive,p=n.Comment,m=n.Script,g=n.Style,v=n.Tag,y=n.CDATA,b=n.Doctype,S=new Uint16Array('<\xd5\0\0\0\0\0\0EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\xc6P&cute\xc1reve;iyx}rc\xc2;r;\ud835\udd04rave\xc0pha;acr;d;gp\x9d\xa1on;f;\ud835\udd38plyFunction;ing\xc5cs\xbe\xc3r;\ud835\udc9cign;ilde\xc3ml\xc4aceforsu\xe5\xfb\xfecr\xea\xf2kslash;\xf6\xf8;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;c\xf2mpeq;HOacdefhilorsucy;PY\xa9cpyute;;italDifferentialD;leys;aeioron;dil\xc7rc;nint;ot;dnilla;terDot;\xf2i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegra\xeco\0\0\xbbnArrow;eoftARTrrow;ightArrow;e\xe5ngLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;H\xd0cute\xc9aiyron;rc\xca;ot;r;\ud835\udd08rave\xc8ement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;ml\xcbipsts;onentialE;cfiosy;r;\ud835\udd09lled\0\0mallSquare;erySmallSquare;\0\0\0f;\ud835\udd3dAll;riertrf;c\xf2JTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ct\xf2rok;mpownHum\xf0qual;EJOacdfgmnostucy;lig;cy;cute\xcdiyrc\xce;ot;r;rave\xcc;apcgr;inaryI;lie\xf3\0;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\0cy;l\xcfcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\0r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ight\xe1sEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftaright\xe1ight\xe1f;\ud835\udd43erLReftArrow;ightArrow;cht\xf2;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c\xf2;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicn\xeberyThi\xeetedGLreaterGreate\xf2essLes\xf3Line;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde\xd1;Eacdfgmoprstuvlig;cute\xd3iyrc\xd4;blac;r;\ud835\udd12rave\xd2aeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaash\xd8ide\xd5es;ml\xd6erBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplan\xe5f;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;G\xaecnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;r\xbbo;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArrow\xbbeftArrow\xbbightArrow\xbbpArrow;gma;allCircle;pf;\ud835\udd4a\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th\xe1;;esrset;Equal;et\xbbHRSacfhiorsORN\xdeADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\0\0\0\0\0\0\0crute\xdar;ocir;r\0y;ve;iyrc\xdb;blac;r;\ud835\udd18rave\xd9acr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;own\xe1erLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;ml\xdcDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cute\xddiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\0oWidt\xe8a;r;pf;cr;\ud835\udcb5\0\0\0\0\0\0\0cute\xe1reve;;Ediuy;;rc\xe2te\xb4;lig\xe6;r\xb2;\ud835\udd1erave\xe0epfpsym;\xe8ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;e\xbbsd;a;;;;;;;;t;vb;d;pth;\xbb\xb9arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;e\xf1ing\xe5ctyr;\ud835\udcb6;mp;e\xf1ilde\xe3ml\xe4cionin\xf4nt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;ge\xbbrk;tbrk;oy;quo;cmprtaus;eptyv;s\xe9no\xf5ahw;;een;r;\ud835\udd1fgcostuvwaiu\xf0rc;p\xbbdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;e\xe5\xe5arow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tom\xbbtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbar\xa6ceior;\ud835\udcb7mi;m;el;bh;sub;l;et\xbbp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;\xeeaeiu\0s;on;dil\xe7rc;ps;sm;ot;dmnil\xb8ptyv;t\xa2;er\xe4r;\ud835\udd20ceiy;ck;mark\xbb;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd\xbb;st;irc;ash;nint;id;cir;ubs;uit\xbb\0on;e;q\xc7\xc6\0\0a;t;;fl\xeeemxent\xbbe\xf3\0;dot;n\xf4fry;\ud835\udd54o\xe4\xa9;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0re\xe3u\xe3ee;edge;en\xa4earrowlreft\xbbight\xbbe\xe4cionin\xf4nt;lcty;AHabcdefhijlorstuwzr\xf2ar;glrsger;eth;\xf2h;v\xbbarow;a\xe3ayron;;;aogrr;tseq;glm\xb0ta;ptyv;irsht;;\ud835\udd21arlr\xbb\xbbaegsvm;osnd;suit;amma;in;;iode\xf7;ontimes;n\xf8cy;c\0\0rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedg\xe5\xfanadhownarrow\xf3arpoonlref\xf4igh\xf4karo\xf7\0\0rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahr\xf2a\xf2angle;ciy;grarr;DacdefglmnopqrstuxDoo\xf4csute\xe9ter;aioyron;r;c\xealon;;ot;Drot;;\ud835\udd22;rsave\xe8;dot;;ilsnters;;;dot;apscr;ty;svet\xbbp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon\xbb;csuviorc\xbb\0\0\xedantgltr\xbbess\xbbaeils;st;v;DD;parsl;Daot;rr;cdir;o\xf4ah;\xf0mrl\xebo;cipl;s\xf4eoctatio\xeenential\xe5\0\0\0\0\0\0\0llingdotse\xf1y;male;ilrlig;\0\0g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\0f;\ud835\udd57ak;v;artint;aocs\0\0\xbd;\xbc;;;\0;;\0\0\xbe;;5;\0;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan\xf4;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox\xbb;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pro\xf8r;qlqles\xf3i\xedenrtneqq;\xc5Aabcefkosyr\xf2ilmrrs\xf0f\xbbil\xf4drcy;;cwir;;ar;irc;alrrts;uit\xbblip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdas\xe8rok;bpull;hen\xbb\0\0\0\0\0\0cute\xed;iyrc\xee;cxy;cl\xa1fr;\ud835\udd26rave\xec;inoinnt;t;fin;ta;lig;aopcgtr;elpin\xe5ar\xf4h;f;ed;;cfotare;in;tie;do\xf4;celpal;grer\xf3\xe3arhk;rod;cgpty;on;f;\ud835\udd5aa;uest\xbfcir;\ud835\udcben;Edsv;ot;;v;;ilde;\0cy;l\xefcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\0r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartr\xf2\xf2ail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;ra\xeebda;g;dl;\xe5;uo\xabr;bfhlpst;fs;s;\xebp;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;ta\xe9arpoonduown\xbbp\xbbeftarrows;ightahsrrow;sarpoon\xf3quigarro\xf7hreetimes;;qslan\xf4;cdgsc;ot;o;r;;es;adegsppro\xf8ot;qgq\xf4gt\xf2\xf4i\xedilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtr\xf2orne\xf2ard;ri;iodot;ust;ache\xbbEaes;p;prox\xbb;q;qim;abnoptwznrg;r;r\xebglmreftaright\xe1apsto;ight\xe1parrowlref\xf4ight;aflr;;\ud835\udd5dus;imes;st;\xe1;efnge\xbbar;lt;achmtr\xf2orne\xf2ar;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;re\xe5mes;arr;uest;Piar;;efrdushar;har;enrtneqq;\xc5DacdefhilnopsuDot;clprr\xafet;;ese\xbb;sto;dluow\xeeef\xf4\xf0ker;oymma;;ash;asuredangle\xbbr;\ud835\udd2ao;cdnro\xb5;acds\xf4ir;ot\xb7us;bd;u;p;\xf2\xf0dpels;f;\ud835\udd5ectr;\ud835\udcc2pos\xbb;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptla\xbbute;g;;Eiop;d;s;ro\xf8ur;al;s\0p\xa0mp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;ui\xf6eiar;\xedist;sr;\ud835\udd2bEest;qs;qslan\xf4i\xed;r\xbbAapr\xf2rr;ar;;sv;d;cy;AEadestr\xf2;rr;r;;fqstarrro\xf7ightarro\xf7;qslan\xf4;s\xbbi\xed;ri;ei\xe4ptf;\ud835\udd5f\xac;inn;Edv;ot;;;i;v;;aorr;astlle\xecl;;lint;;ceu\xe5;c;e\xf1Aaitr\xf2rr;cw;;ghtarrow\xbbri;echimpqu;ceru\xe5;\ud835\udcc3ort\0\0ar\xe1m;e;qsubp\xe5\xe5bcp;Ees;et;eq;qc;e\xf1;Ees;et;eq;qgilr\xeclde\xf1\xe7ianglelreft;e\xf1ight;e\xf1;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csute\xf3iyr;c\xf4;abioslac;v;old;lig;crir;;\ud835\udd2c\0\0\0n;ave\xf2;bmar;acitr\xf2irr;oss;n\xe5;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr\xf2;efmr;of\xbb\xaa\xbagof;r;lope;;clo\xf2ash\xf8l;ide\xf5es;as;ml\xf6bar;\0\0\0\0\0\0\0\0\0r;ast\xb6;lle\xec\0\0m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;ma\xf4ne;;tvchfork\xbb;aunckk;h;\xf6s;abcdemstcir;ir;ou;;n\xb1im;wo;ipuntint;f;\ud835\udd61nd\xa3;Eaceinosu;p;u\xe5;c;acensppro\xf8urlye\xf1\xf1aespprox;qq;im;i\xedme;sEas\xf0dfpalslar;ine;urf;;t\xefrel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnion\xf3nt;st;e\xf1\xf4ABHabcdefhilmnoprstuxartr\xf2\xf2ail;ar\xf2ar;cdenqrteu;te;i\xe3mptyv;g;del;;\xe5uo\xbbr;abcfhlpstwp;;fs;;s;\xeb\xf0l;im;l;;aiil;o;nal\xf3abrr\xf2rk;akcek;;es;ldu;;aeuyron;diil;\xec\xe2;clqsa;dhar;uo;rh;acgl;ipsn\xe5ar\xf4t;ilrsht;;\ud835\udd2faordu\xbb;l;;v;gnshtahlrstrrow;ta\xe9arpoonduow\xeep\xbbeftahrrow\xf3arpoon\xf3ightarrows;quigarro\xf7hreetimes;g;ingdotse\xf1ahmr\xf2a\xf2;oust;ache\xbbmid;abptnrg;r;r\xebaflr;;\ud835\udd63us;imes;apr;gt;olint;ar\xf2achqquo;r;\ud835\udcc7buo;rhirre\xe5mes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu\xef;Eaceinpsy;\0;on;u\xe5;dil;rc;Eas;p;im;olint;i\xed;ot;be;Aacmstxrr;rhr\xeb;ot\xa7i;war;min\xf0nu\xf3\xf1t;r;o\ud835\udd30acoyrp;hycy;;rt\0\0i\xe4ara\xec\xadgmma;fv;;deglnprot;;q;E;;E;e;lus;arr;ar\xf2aeitlslsetm\xe9hp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uit\xbbcsuaup;s;p;s;ubp;eset;e\xf1;eset;e\xf1;afr\xbbar\xf2cemtr;\ud835\udcc8tm\xee\xf1i\xecar\xe6arr;fanighteppsilo\xeeh\xe9s\xbbbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acensppro\xf8urlye\xf1\xf1aesppro\xf8q\xf1g;123;Edehlmnps\xb9\xb2\xb3;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr\xeb;owar;lig\xdf\0\0\0\0\0\0\0\0\0\0\0\0get;;r\xebaeyron;dil;;lrec;r;\ud835\udd31eiko\0e4fa;svym;cnkasppro\xf8im\xbbs\xf0as\xf0rn\xfees\xd7;bd;ar;;eps\xe1;bcfot;ir;;o\ud835\udd65rk;\xe1rime;aipd\xe5adempstngle;dlqrown\xbbeft;e\xf1;ight;e\xf1ot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;iox\xf4headlreftarro\xf7ightarrow\xbbAHabcdfghlmoprstuwr\xf2ar;crute\xfa\xf2r\0y;ve;iyrc\xfb;abhr\xf2lac;a\xf2irsht;;\ud835\udd32rave\xf9rlr\xbb\xbblk;ct\0\0rn;er\xbbop;ri;alcr;\xa8gpon;f;\ud835\udd66adhlsuown\xe1arpoonlref\xf4igh\xf4i;hl\xbbon\xbbparrows;cit\0\0rn;er\xbbop;ng;ri;cr;\ud835\udccadirot;lde;i;f\xbbamr\xf2l\xfcangle;ABDacdeflnoprszr\xf2ar;v;as\xe8nrgrt;eknprstapp\xe1othin\xe7hirop\xf4;h\xefiugm\xe1bpsetneq;q;setneq;q;hret\xe1ianglelreft\xbbight\xbby;ash\xbbelr;bear;q;lip;bta\xf2r;\ud835\udd33tr\xe9subp\xbb\xbbpf;\ud835\udd67ro\xf0tr\xe9cur;\ud835\udccbbpnEe\xbbnEe\xbbigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eat\xe8cr;\ud835\udccc\0\0\0\0\0\0\0tr\xe9r;\ud835\udd35Aar\xf2r\xf2;Aar\xf2r\xf2a\xf0is;dptfl;\ud835\udd69im\xe5Aar\xf2r\xf2cqr;\ud835\udccdptr\xe9acefiosucuyte\xfd;iyrc;;n\xa5r;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;l\xffacdefhioswcute;ayron;;ot;ettr\xe6a;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(e=>e.charCodeAt(0))),w=new Uint16Array("aglq	\x15\x18\x1b\x0f\0\0\x12p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0))),C=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),x=null!=(r=String.fromCodePoint)?r:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};function k(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!=(t=C.get(e))?t:e}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(s||(s={}));let A=32;function E(e){return e>=s.ZERO&&e<=s.NINE}function M(e){return e>=s.UPPER_A&&e<=s.UPPER_F||e>=s.LOWER_A&&e<=s.LOWER_F}function T(e){return e>=s.UPPER_A&&e<=s.UPPER_Z||e>=s.LOWER_A&&e<=s.LOWER_Z||E(e)}function _(e){return e===s.EQUALS||T(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(o||(o={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(a||(a={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(l||(l={}));class P{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=a.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=l.Strict}startEntity(e){this.decodeMode=e,this.state=a.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case a.EntityStart:if(e.charCodeAt(t)===s.NUM)return this.state=a.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1);return this.state=a.NamedEntity,this.stateNamedEntity(e,t);case a.NumericStart:return this.stateNumericStart(e,t);case a.NumericDecimal:return this.stateNumericDecimal(e,t);case a.NumericHex:return this.stateNumericHex(e,t);case a.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|A)===s.LOWER_X?(this.state=a.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=a.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,i,n){if(t!==i){let r=i-t;this.result=this.result*Math.pow(n,r)+parseInt(e.substr(t,r),n),this.consumed+=r}}stateNumericHex(e,t){let i=t;for(;t<e.length;){let n=e.charCodeAt(t);if(!(E(n)||M(n)))return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(n,3);t+=1}return this.addToNumericResult(e,i,t,16),-1}stateNumericDecimal(e,t){let i=t;for(;t<e.length;){let n=e.charCodeAt(t);if(!E(n))return this.addToNumericResult(e,i,t,10),this.emitNumericEntity(n,2);t+=1}return this.addToNumericResult(e,i,t,10),-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return null==(i=this.errors)||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===s.SEMI)this.consumed+=1;else if(this.decodeMode===l.Strict)return 0;return this.emitCodePoint(k(this.result),this.consumed),this.errors&&(e!==s.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:i}=this,n=i[this.treeIndex],r=(n&o.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let a=e.charCodeAt(t);if(this.treeIndex=R(i,n,this.treeIndex+Math.max(1,r),a),this.treeIndex<0)return 0===this.result||this.decodeMode===l.Attribute&&(0===r||_(a))?0:this.emitNotTerminatedNamedEntity();if(0!=(r=((n=i[this.treeIndex])&o.VALUE_LENGTH)>>14)){if(a===s.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==l.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:i}=this,n=(i[t]&o.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null==(e=this.errors)||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){let{decodeTree:n}=this;return this.emitCodePoint(1===t?n[e]&~o.VALUE_LENGTH:n[e+1],i),3===t&&this.emitCodePoint(n[e+2],i),i}end(){var e;switch(this.state){case a.NamedEntity:return 0!==this.result&&(this.decodeMode!==l.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case a.NumericDecimal:return this.emitNumericEntity(0,2);case a.NumericHex:return this.emitNumericEntity(0,3);case a.NumericStart:return null==(e=this.errors)||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case a.EntityStart:return 0}}}function I(e){let t="",i=new P(e,e=>t+=x(e));return function(e,n){let r=0,s=0;for(;(s=e.indexOf("&",s))>=0;){t+=e.slice(r,s),i.startEntity(n);let o=i.write(e,s+1);if(o<0){r=s+i.end();break}r=s+o,s=0===o?r+1:r}let o=t+e.slice(r);return t="",o}}function R(e,t,i,n){let r=(t&o.BRANCH_LENGTH)>>7,s=t&o.JUMP_TABLE;if(0===r)return 0!==s&&n===s?i:-1;if(s){let t=n-s;return t<0||t>=r?-1:e[i+t]-1}let a=i,l=a+r-1;for(;a<=l;){let t=a+l>>>1,i=e[t];if(i<n)a=t+1;else{if(!(i>n))return e[t+r];l=t-1}}return -1}I(S),I(w);let O=/["&'<>$\x80-\uFFFF]/g,D=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),L=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>(64512&e.charCodeAt(t))==55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function N(e){let t,i="",n=0;for(;null!==(t=O.exec(e));){let r=t.index,s=e.charCodeAt(r),o=D.get(s);void 0!==o?(i+=e.substring(n,r)+o,n=r+1):(i+=`${e.substring(n,r)}&#x${L(e,r).toString(16)};`,n=O.lastIndex+=Number((64512&s)==55296))}return i+e.substr(n)}function F(e,t){return function(i){let n,r=0,s="";for(;n=e.exec(i);)r!==n.index&&(s+=i.substring(r,n.index)),s+=t.get(n[0].charCodeAt(0)),r=n.index+1;return s+i.substring(r)}}F(/[&<>'"]/g,D);let B=F(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),V=F(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(u||(u={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(d||(d={}));let U=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),z=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),j=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function H(e){return e.replace(/"/g,"&quot;")}function $(e,t){var i;if(!e)return;let n=(null!=(i=t.encodeEntities)?i:t.decodeEntities)===!1?H:t.xmlMode||"utf8"!==t.encodeEntities?N:B;return Object.keys(e).map(i=>{var r,s;let o=null!=(r=e[i])?r:"";return("foreign"===t.xmlMode&&(i=null!=(s=z.get(i))?s:i),t.emptyAttrs||t.xmlMode||""!==o)?`${i}="${n(o)}"`:i}).join(" ")}let W=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function q(e,t={}){let i="length"in e?e:[e],n="";for(let e=0;e<i.length;e++)n+=K(i[e],t);return n}let G=q;function K(e,t){switch(e.type){case c:return q(e.children,t);case b:case f:return Q(e);case p:return et(e);case y:return ee(e);case m:case g:case v:return J(e,t);case h:return Z(e,t)}}let X=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Y=new Set(["svg","math"]);function J(e,t){var i;"foreign"===t.xmlMode&&(e.name=null!=(i=U.get(e.name))?i:e.name,e.parent&&X.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&Y.has(e.name)&&(t={...t,xmlMode:"foreign"});let n=`<${e.name}`,r=$(e.attribs,t);return r&&(n+=` ${r}`),0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&W.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=q(e.children,t)),(t.xmlMode||!W.has(e.name))&&(n+=`</${e.name}>`)),n}function Q(e){return`<${e.data}>`}function Z(e,t){var i;let n=e.data||"";return(null!=(i=t.encodeEntities)?i:t.decodeEntities)===!1||!t.xmlMode&&e.parent&&j.has(e.parent.name)||(n=t.xmlMode||"utf8"!==t.encodeEntities?N(n):V(n)),n}function ee(e){return`<![CDATA[${e.children[0].data}]]>`}function et(e){return`<!--${e.data}-->`}},78822:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(87165),r=i(81529),s=i(54976),o=i(74449);class a{constructor(e){this.logger=e,this.currentState=s.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}perform(e,t){let i=this.currentState;if(i===s.SessionStateControllerState.NotConnected&&e===n.SessionStateControllerAction.Connect)this.transition(s.SessionStateControllerState.Connecting,e);else if(i===s.SessionStateControllerState.Connecting&&e===n.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(i===s.SessionStateControllerState.Connecting&&e===n.SessionStateControllerAction.FinishConnecting)this.transition(s.SessionStateControllerState.Connected,e);else if(i===s.SessionStateControllerState.Connected&&e===n.SessionStateControllerAction.Disconnect)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(i===s.SessionStateControllerState.Connected&&e===n.SessionStateControllerAction.Reconnect)this.transition(s.SessionStateControllerState.Connecting,e);else if(i===s.SessionStateControllerState.Connected&&e===n.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(i===s.SessionStateControllerState.Connected&&e===n.SessionStateControllerAction.Update)this.transition(s.SessionStateControllerState.Updating,e);else if(i===s.SessionStateControllerState.Updating&&e===n.SessionStateControllerAction.Fail)this.transition(s.SessionStateControllerState.Disconnecting,e);else if(i===s.SessionStateControllerState.Updating&&e===n.SessionStateControllerAction.FinishUpdating)this.transition(s.SessionStateControllerState.Connected,e);else if(i===s.SessionStateControllerState.Disconnecting&&e===n.SessionStateControllerAction.FinishDisconnecting)this.transition(s.SessionStateControllerState.NotConnected,e);else if(this.canDefer(e))return this.logger.info(`deferring transition from ${s.SessionStateControllerState[this.currentState]} with ${n.SessionStateControllerAction[e]}`),this.deferAction(e,t),o.SessionStateControllerTransitionResult.DeferredTransition;else return this.logger.warn(`no transition found from ${s.SessionStateControllerState[this.currentState]} with ${n.SessionStateControllerAction[e]}`),o.SessionStateControllerTransitionResult.NoTransitionAvailable;try{t()}catch(t){return this.logger.error(`error during state ${s.SessionStateControllerState[this.currentState]} with action ${n.SessionStateControllerAction[e]}: ${t}`),this.logger.info(`rolling back transition to ${s.SessionStateControllerState[i]}`),this.currentState=i,o.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),o.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(e,t){this.logger.info(`transitioning from ${s.SessionStateControllerState[this.currentState]} to ${s.SessionStateControllerState[e]} with ${n.SessionStateControllerAction[t]}`),this.currentState=e}deferPriority(e){switch(e){case n.SessionStateControllerAction.Disconnect:return r.SessionStateControllerDeferPriority.VeryHigh;case n.SessionStateControllerAction.Fail:return r.SessionStateControllerDeferPriority.High;case n.SessionStateControllerAction.Reconnect:return r.SessionStateControllerDeferPriority.Medium;case n.SessionStateControllerAction.Update:return r.SessionStateControllerDeferPriority.Low;default:return r.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(e,t){null!==this.deferredAction&&this.deferPriority(this.deferredAction)>this.deferPriority(e)||(this.deferredAction=e,this.deferredWork=t)}canDefer(e){return this.deferPriority(e)!==r.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===s.SessionStateControllerState.Connecting||this.currentState===s.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;let e=this.deferredAction,t=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info(`performing deferred action ${n.SessionStateControllerAction[e]}`),this.perform(e,t)!==o.SessionStateControllerTransitionResult.Transitioned&&this.logger.info(`unable to perform deferred action ${n.SessionStateControllerAction[e]} in state ${s.SessionStateControllerState[this.currentState]}`)}}t.default=a},78946:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994)),o=r(i(42434));class a{constructor(e){this.logger=e}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e}acquireAudioInputStream(){return n(this,void 0,void 0,function*(){return 0===this._mediaStream.getAudioTracks().length?(this.logger.info("No audio stream available. Synthesizing an audio stream."),o.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return n(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(e){return n(this,void 0,void 0,function*(){return e&&e.video&&e.video.mandatory&&e.video.mandatory.chromeMediaSource&&e.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(e):navigator.mediaDevices.getDisplayMedia(e)})}acquireScreenCaptureDisplayInputStream(e,t){return n(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(e,t))})}screenCaptureDisplayMediaConstraints(e,t){return{audio:!!(!e&&new s.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!e&&{frameRate:{max:t||a.defaultFrameRate}}),e&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:t||a.defaultFrameRate}})}}toggleMediaStream(e){let t=!1;if(this.mediaStream)for(let i=0;i<this.mediaStream.getTracks().length;i++)this.mediaStream.getTracks()[i].enabled!==e&&(this.mediaStream.getTracks()[i].enabled=e,t=!0);return t}cleanup(){if(this.mediaStream)for(let e=0;e<this.mediaStream.getTracks().length;e++)this.mediaStream.getTracks()[e].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw Error("unsupported")}unmuteLocalAudioInputStream(){throw Error("unsupported")}addMediaStreamBrokerObserver(e){}removeMediaStreamBrokerObserver(e){}}t.default=a,a.defaultFrameRate=15},79018:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadWorker=void 0;let n=i(17627),r={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};t.loadWorker=(e,t,i,s)=>{null==s||s.debug(`Loading ${t} worker from ${e}.`);let o=!1;try{o=self.origin===new URL(e).origin}catch(e){null==s||s.error("Could not compare origins.",e)}return o?Promise.resolve(new Worker((0,n.withQueryString)(e,i),{name:t})):(0,n.fetchWithBehavior)(e,r,i).then(e=>{if(e.ok)return e.blob().then(e=>new Worker(window.URL.createObjectURL(e)));throw Error("Fetch failed.")})}},79227:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.maxRedPacketSizeBytes=1024,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=16384,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=24e4,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=[],this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}static initializeWorker(){i.log("Initializing RedundantAudioEncoder");let e=new i;self.RTCRtpScriptTransformer&&(self.onrtctransform=t=>{"SenderTransform"===t.transformer.options.type?e.setupSenderTransform(t.transformer.readable,t.transformer.writable):"ReceiverTransform"===t.transformer.options.type?e.setupReceiverTransform(t.transformer.readable,t.transformer.writable):"PassthroughTransform"===t.transformer.options.type&&e.setupPassthroughTransform(t.transformer.readable,t.transformer.writable)}),self.onmessage=t=>{"StartRedWorker"===t.data.msgType?(e.setupSenderTransform(t.data.send.readable,t.data.send.writable),e.setupReceiverTransform(t.data.receive.readable,t.data.receive.writable)):"PassthroughTransform"===t.data.msgType?(e.setupPassthroughTransform(t.data.send.readable,t.data.send.writable),e.setupPassthroughTransform(t.data.receive.readable,t.data.receive.writable)):"RedPayloadType"===t.data.msgType?e.setRedPayloadType(t.data.payloadType):"OpusPayloadType"===t.data.msgType?e.setOpusPayloadType(t.data.payloadType):"UpdateNumRedundantEncodings"===t.data.msgType?e.setNumRedundantEncodings(t.data.numRedundantEncodings):"Enable"===t.data.msgType?e.setRedundancyEnabled(!0):"Disable"===t.data.msgType&&e.setRedundancyEnabled(!1)}}static log(e){i.shouldLog&&self.postMessage({type:"REDWorkerLog",log:`[AudioRed] ${e}`})}static getNumRedundantEncodingsForPacketLoss(e){let t=0,i=!1;return e<=8?t=0:e<=18?t=1:e<=75?t=2:(t=0,i=!0),[t,i]}setupPassthroughTransform(e,t){i.log("Setting up passthrough transform"),e.pipeTo(t)}setupSenderTransform(e,t){i.log("Setting up sender RED transform");let n=new TransformStream({transform:this.senderTransform.bind(this)});e.pipeThrough(n).pipeTo(t)}setupReceiverTransform(e,t){i.log("Setting up receiver RED transform");let n=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});e.pipeThrough(n).pipeTo(t)}setRedPayloadType(e){this.redPayloadType=e,i.log(`red payload type set to ${this.redPayloadType}`)}setOpusPayloadType(e){this.opusPayloadType=e,i.log(`opus payload type set to ${this.opusPayloadType}`)}setNumRedundantEncodings(e){this.numRedundantEncodings=e,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),i.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`)}setRedundancyEnabled(e){this.redundancyEnabled=e,i.log(`redundancy ${this.redundancyEnabled?"enabled":"disabled"}`)}enqueueAudioFrameIfPayloadSizeIsValid(e,t){e.data.byteLength>this.maxAudioPayloadSizeBytes||t.enqueue(e)}senderTransform(e,t){if(e.getMetadata().payloadType!==this.redPayloadType)return void this.enqueueAudioFrameIfPayloadSizeIsValid(e,t);let i=this.getPrimaryPayload(e.timestamp,e.data);if(!i)return void this.enqueueAudioFrameIfPayloadSizeIsValid(e,t);let n=this.encode(e.timestamp,i);if(!n)return void this.enqueueAudioFrameIfPayloadSizeIsValid(e,t);e.data=n,this.enqueueAudioFrameIfPayloadSizeIsValid(e,t)}getPrimaryPayload(e,t){let i=this.splitEncodings(e,t);return!i||i.length<1?null:i[i.length-1].payload}splitEncodings(e,t,i=!1,n){let r=new DataView(t),s=r.byteLength,o=0,a=0,l=0,u=0,d=!1,c=[],h=[],f=[];for(;s>0;){if(d=(128&r.getUint8(u))==0){if((127&r.getUint8(u))!==this.opusPayloadType||(o+=this.redLastHeaderSizeBytes,a+=this.redLastHeaderSizeBytes,o>=r.byteLength))return null;l=r.byteLength-o;break}{if(s<this.redHeaderSizeBytes)return null;let t=((3&r.getUint8(u+2))<<8)+r.getUint8(u+3);h.push(t);let i=e-(r.getUint16(u+1)>>2);f.push(i),o+=t+this.redHeaderSizeBytes,a+=this.redHeaderSizeBytes,u+=this.redHeaderSizeBytes,s-=this.redHeaderSizeBytes}}if(!d)return void 0!==n?(c.push({payload:t,isRedundant:!1,seq:n}),c):null;let p=a;for(let e=0;e<f.length;e++){let t=new ArrayBuffer(h[e]);new Uint8Array(t).set(new Uint8Array(r.buffer,p,h[e]),0);let n={timestamp:f[e],payload:t,isRedundant:!0};i&&(n.hasFec=this.opusPacketHasFec(new DataView(t),t.byteLength)),c.push(n),p+=h[e]}let m=r.byteLength-l,g=new ArrayBuffer(l);new Uint8Array(g).set(new Uint8Array(r.buffer,m,l),0);let v={timestamp:e,payload:g,isRedundant:!1,seq:n};return i&&(v.hasFec=this.opusPacketHasFec(new DataView(g),g.byteLength)),c.push(v),c}encode(e,t){let i=t.byteLength;if(0===i||i>=this.maxRedPacketSizeBytes||i>=this.maxAudioPayloadSizeBytes)return null;let n=this.numRedundantEncodings,r=this.redLastHeaderSizeBytes,s=i,o=this.maxAudioPayloadSizeBytes-i-r,a=[],l=[];if(this.redundancyEnabled){let t=this.uint32WrapAround(e-this.redPacketizationTime*this.redPacketDistance);for(let i=0;i<n&&!(this.uint32WrapAround(e-t)>=this.maxRedTimestampOffset);i++){let e=t,i=this.encodingHistory.find(t=>t.timestamp===e);if(i||(e=this.uint32WrapAround(t-this.redPacketizationTime),i=this.encodingHistory.find(t=>t.timestamp===e)),i){let e=i.payload.byteLength;if(o<this.redHeaderSizeBytes+e)break;o-=this.redHeaderSizeBytes+e,r+=this.redHeaderSizeBytes,s+=e,a.unshift(i.timestamp),l.unshift(i.payload)}t-=this.redPacketizationTime*this.redPacketDistance,t=this.uint32WrapAround(t)}}let u=new ArrayBuffer(r+s),d=new DataView(u),c=0;for(let t=0;t<a.length;t++){let i=e-a[t];d.setUint8(c,128|this.opusPayloadType),d.setUint16(c+1,i<<2|l[t].byteLength>>8),d.setUint8(c+3,255&l[t].byteLength),c+=this.redHeaderSizeBytes}d.setUint8(c,this.opusPayloadType),c+=this.redLastHeaderSizeBytes;let h=new Uint8Array(u);for(let e=0;e<l.length;e++)h.set(new Uint8Array(l[e]),c),c+=l[e].byteLength;return(h.set(new Uint8Array(t),c),(c+=t.byteLength)!==r+s)?null:(this.updateEncodingHistory(e,t),u)}updateEncodingHistory(e,t){for(let t of this.encodingHistory){let i=this.redPacketizationTime*this.redMaxRecoveryDistance;if(e-t.timestamp>=i)this.encodingHistory.shift();else break}let i=new DataView(t);(this.opusPacketIsCeltOnly(i)||this.opusPacketHasVoiceActivity(i,i.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:e,payload:t}))}initializePacketLogs(){let e=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:Array(e),index:0,windowSize:e},this.redRecoveryLog={window:Array(e),index:0,windowSize:e},this.fecRecoveryLog={window:Array(e),index:0,windowSize:e},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(e,t){let i=e.getMetadata();if(i.payloadType!==this.redPayloadType)return void this.enqueueAudioFrameIfPayloadSizeIsValid(e,t);let n=this.splitEncodings(e.timestamp,e.data,!0,i.sequenceNumber);if(!n)return void this.enqueueAudioFrameIfPayloadSizeIsValid(e,t);for(let e=n.length-1;e>=0;e--)this.updateLossStats(n[e])&&(this.updateRedStats(n[e]),this.updateFecStats(n[e]));this.maybeReportLossStats(i.synchronizationSource,n[n.length-1].timestamp),this.enqueueAudioFrameIfPayloadSizeIsValid(e,t)}updateLossStats(e){if(e.isRedundant)return!0;let t=e.timestamp,i=e.seq;if(0===this.totalAudioPacketsExpected)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=i,this.addTimestamp(this.primaryPacketLog,t),!0;let n=this.int16(i-this.newestSequenceNumber);return!(n<-this.maxOutOfOrderPacketDistance)&&(n<0?this.hasTimestamp(this.primaryPacketLog,t)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,t),this.removeFromRecoveryWindows(t)):n>1&&(this.totalAudioPacketsLost+=n-1),n>0&&(this.totalAudioPacketsExpected+=n,this.newestSequenceNumber=e.seq,this.addTimestamp(this.primaryPacketLog,t)),!0)}updateRedStats(e){if(!e.isRedundant||0===this.totalAudioPacketsLost)return;let t=e.timestamp;!this.hasTimestamp(this.primaryPacketLog,t)&&(this.hasTimestamp(this.redRecoveryLog,t)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,t)),this.removeTimestamp(this.fecRecoveryLog,t)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(e){if(!e.hasFec||0===this.totalAudioPacketsLost)return;let t=e.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,t)||this.hasTimestamp(this.redRecoveryLog,t)||this.hasTimestamp(this.fecRecoveryLog,t)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,t))}maybeReportLossStats(e,t){void 0===t||t-this.lastLossReportTimestamp<this.lossReportInterval||(i.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:e,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=t)}addTimestamp(e,t){void 0!==t&&(e.window[e.index]=t,e.index=(e.index+1)%e.windowSize)}hasTimestamp(e,t){return!!e.window.find(e=>e===t)}removeTimestamp(e,t){let i=e.window.indexOf(t);return i>=0&&(e.window[i]=void 0,!0)}removeFromRecoveryWindows(e){let t=this.removeTimestamp(this.redRecoveryLog,e);t&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,(t=this.removeTimestamp(this.fecRecoveryLog,e))&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(e){let t=0x100000000,i=e;return e>=0x100000000?i=e-t:e<0&&(i=t+e),i}int16(e){return e<<16>>16}opusPacketIsCeltOnly(e){return!!(128&e.getUint8(0))}opusPacketGetSamplesPerFrame(e,t){let i,n;return t=Math.min(Math.max(t=Math.round(t),-0x100000000),0xffffffff),this.opusPacketIsCeltOnly(e)?(n=e.getUint8(0)>>3&3,i=(t<<n)/400):i=(96&e.getUint8(0))==96?8&e.getUint8(0)?t/50:t/100:3==(n=e.getUint8(0)>>3&3)?60*t/1e3:(t<<n)/100,i}opusNumSilkFrames(e){let t=this.opusPacketGetSamplesPerFrame(e,48e3)/48;switch(t<10&&(t=10),t){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(e){return 4&e.getUint8(0)?2:1}opusParseSize(e,t,i,n){return i<1?(n[0]=-1,-1):252>e.getUint8(t)?(n[0]=e.getUint8(t),1):i<2?(n[0]=-1,-1):(n[0]=4*e.getUint8(t+1)+e.getUint8(t),2)}opusPacketParseImpl(e,t,i,n,r,s,o,a){let l,u;if(!s||t<0)return this.OPUS_BAD_ARG;if(0===t)return this.OPUS_INVALID_PACKET;let d=0,c=!1,h=e.getUint8(0);n&&(n[0]=h);let f=t-1,p=1,m=f;switch(3&h){case 0:l=1;break;case 1:if(l=2,c=!0,!i){if(1&f)return this.OPUS_INVALID_PACKET;m=f/2,s[0][0]=m}break;case 2:if(l=2,u=this.opusParseSize(e,p,f,s[0]),f-=u,s[0][0]<0||s[0][0]>f)return this.OPUS_INVALID_PACKET;p+=u,m=f-s[0][0];break;default:if(f<1)return this.OPUS_INVALID_PACKET;let g=e.getUint8(p++);if(--f,(l=63&g)<=0||this.opusPacketGetSamplesPerFrame(e,48e3)*l>5760)return this.OPUS_INVALID_PACKET;if(64&g){let t,i;do{if(f<=0)return this.OPUS_INVALID_PACKET;t=e.getUint8(p++),--f,f-=i=255===t?254:t,d+=i}while(255===t)}if(f<0)return this.OPUS_INVALID_PACKET;if(c=!(128&g)){if(!i){if((m=Math.trunc(f/l))*l!==f)return this.OPUS_INVALID_PACKET;for(let e=0;e<l-1;++e)s[e][0]=m}}else{m=f;for(let t=0;t<l-1;++t){if(u=this.opusParseSize(e,p,f,s[t]),f-=u,s[t][0]<0||s[t][0]>f)return this.OPUS_INVALID_PACKET;p+=u,m-=u+s[t][0]}if(m<0)return this.OPUS_INVALID_PACKET}}if(i){if(u=this.opusParseSize(e,p,f,s[l-1]),f-=u,s[l-1][0]<0||s[l-1][0]>f)return this.OPUS_INVALID_PACKET;if(p+=u,c){if(s[l-1][0]*l>f)return this.OPUS_INVALID_PACKET;for(let e=0;e<l-1;++e)s[e][0]=s[l-1][0]}else if(!(u+s[l-1][0]<=m))return this.OPUS_INVALID_PACKET}else{if(m>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;s[l-1][0]=m}o&&(o[0]=p);for(let e=0;e<l;++e)r&&(r[e][0]=p),p+=s[e][0];return a&&(a[0]=p+d),l}opusPacketParse(e,t,i,n,r,s){return this.opusPacketParseImpl(e,t,!1,i,n,r,s,null)}opusPacketHasVoiceActivity(e,t){if(!e||t<=0)return 0;if(this.opusPacketIsCeltOnly(e))return -1;let i=this.opusNumSilkFrames(e);if(0===i)return -1;let n=Array(this.OPUS_MAX_OPUS_FRAMES),r=Array(this.OPUS_MAX_OPUS_FRAMES);for(let e=0;e<this.OPUS_MAX_OPUS_FRAMES;++e)n[e]=[void 0],r[e]=[void 0];let s=this.opusPacketParse(e,t,null,n,r,null);if(s<0)return -1;for(let t=0;t<s;++t)if(!(r[t][0]<1)&&(e.getUint8(n[t][0])>>8-i||2===this.opusPacketGetNumChannels(e)&&e.getUint8(n[t][0])<<i+1>>8-i))return 1;return 0}opusPacketHasFec(e,t){if(!e||t<=0||this.opusPacketIsCeltOnly(e))return!1;let i=Array(this.OPUS_MAX_OPUS_FRAMES),n=Array(this.OPUS_MAX_OPUS_FRAMES);for(let e=0;e<this.OPUS_MAX_OPUS_FRAMES;++e)i[e]=[void 0],n[e]=[void 0];if(0>this.opusPacketParse(e,t,null,i,n,null)||n[0][0]<=1)return!1;let r=this.opusNumSilkFrames(e);if(0===r)return!1;let s=this.opusPacketGetNumChannels(e);if(1!==s&&2!==s)return!1;for(let t=0;t<s;t++)if(e.getUint8(i[0][0])&128>>(t+1)*(r+1)-1)return!0;return!1}}t.default=i,i.shouldLog=!1,i.shouldReportStats=!1},79338:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(99618));class o extends s.default{constructor(e,t,i){super(e,t,i),this.videoQualityControlParameterMap=new Map;let n=4;for(let e=0;e<o.NAME_ARR_ASCENDING.length;e++){let t=o.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:n,maxBitrate:1e3*o.BITRATE_ARR_ASCENDING[e]}),n/=2}}setEncodingParameters(e){return n(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;let t=this._localCameraTransceiver.sender,i=Array.from(e.values());if(i.length<=0)return;let n=t.getParameters();if(n.encodings)for(let t of n.encodings)t.rid===o.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(o.LOW_LEVEL_NAME),t),t.rid===o.MID_LEVEL_NAME&&this.copyEncodingParams(e.get(o.MID_LEVEL_NAME),t),t.rid===o.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(o.HIGH_LEVEL_NAME),t);else n.encodings=i;yield t.setParameters(n),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(e){return n(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var e,t;if(this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),!this._localAudioTransceiver&&(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),(null==(t=null==(e=this.meetingSessionContext)?void 0:e.audioProfile)?void 0:t.hasRedundancyEnabled())&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){let e=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:e})}}logVideoTransceiverParameters(){let e=this._localCameraTransceiver.sender.getParameters().encodings,t="simulcast: current encoding parameters \n";for(let i of e)t+=`rid=${i.rid} maxBitrate=${i.maxBitrate} active=${i.active} scaleDownBy=${i.scaleResolutionDownBy} maxFrameRate = ${i.maxFramerate} 
`;this.logger.info(t)}copyEncodingParams(e,t){t.active=e.active,t.maxBitrate=e.maxBitrate,t.scaleResolutionDownBy=e.scaleResolutionDownBy,t.maxFramerate=e.maxFramerate}}t.default=o,o.LOW_LEVEL_NAME="low",o.MID_LEVEL_NAME="mid",o.HIGH_LEVEL_NAME="hi",o.NAME_ARR_ASCENDING=["low","mid","hi"],o.BITRATE_ARR_ASCENDING=[200,400,1100]},79649:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),i=0;i<e.length;)t[i]=e[i],i+=1;return t}return Uint32Array.from(e)}},79813:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(82599)),o=r(i(68130));class a extends s.default{constructor(e,t){super("background replacement",e,t,new o.default),this.replacementBlob=t.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info(`BackgroundReplacement spec: ${this.stringify(this.spec)}`),this.logger.info(`BackgroundReplacement options: { filterCPUUtilization: ${t.filterCPUUtilization}, reportingPeriodMillis: ${t.reportingPeriodMillis}}`)}setImageBlob(e){return n(this,void 0,void 0,function*(){this.replacementBlob=e,this.replacementImage=yield a.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(e,t){t||(t=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(t,0,0);let{canvasCtx:i,targetCanvas:n}=this,{width:r,height:s}=n;i.save(),i.clearRect(0,0,r,s),i.drawImage(this.scaledCanvas,0,0,r,s),i.globalCompositeOperation="source-in",i.drawImage(e,0,0,r,s),i.globalCompositeOperation="destination-over",i.drawImage(this.replacementImage,0,0,n.width,n.height),i.restore()}static loadImageExecutor(e,t,i){let n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",()=>{e(n)},!1),n.addEventListener("error",e=>{t(Error(`Could not load replacement image ${n.src}: ${e.message}`))},!1),n.src=i}static loadImage(e){return n(this,void 0,void 0,function*(){return new Promise((t,i)=>this.loadImageExecutor(t,i,e))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){let e=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return n(this,void 0,void 0,function*(){this.replacementImage=yield a.loadImage(this.createReplacementObjectUrl()),e.loadAssets.call(this)})}addObserver(e){this.delegate.addObserver(e)}removeObserver(e){this.delegate.removeObserver(e)}destroy(){let e=Object.create(null,{destroy:{get:()=>super.destroy}});return n(this,void 0,void 0,function*(){e.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(e){this.eventController?this.eventController=e:(this.eventController=e,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){let e={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",e)}}t.default=a},79952:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(12115);function r(e,t){var i=(0,n.useRef)(null),r=(0,n.useRef)(null);r.current=t;var s=(0,n.useRef)(null);(0,n.useEffect)(function(){o()});var o=(0,n.useCallback)(function(){var t=s.current,n=r.current,o=t||(n?n instanceof Element?n:n.current:null);i.current&&i.current.element===o&&i.current.subscriber===e||(i.current&&i.current.cleanup&&i.current.cleanup(),i.current={element:o,subscriber:e,cleanup:o?e(o):void 0})},[e]);return(0,n.useEffect)(function(){return function(){i.current&&i.current.cleanup&&(i.current.cleanup(),i.current=null)}},[]),(0,n.useCallback)(function(e){s.current=e,o()},[o])}function s(e,t,i){return e[t]?e[t][0]?e[t][0][i]:e[t][i]:"contentBoxSize"===t?e.contentRect["inlineSize"===i?"width":"height"]:void 0}function o(e){void 0===e&&(e={});var t=e.onResize,i=(0,n.useRef)(void 0);i.current=t;var o=e.round||Math.round,a=(0,n.useRef)(),l=(0,n.useState)({width:void 0,height:void 0}),u=l[0],d=l[1],c=(0,n.useRef)(!1);(0,n.useEffect)(function(){return c.current=!1,function(){c.current=!0}},[]);var h=(0,n.useRef)({width:void 0,height:void 0}),f=r((0,n.useCallback)(function(t){return a.current&&a.current.box===e.box&&a.current.round===o||(a.current={box:e.box,round:o,instance:new ResizeObserver(function(t){var n=t[0],r="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=s(n,r,"inlineSize"),l=s(n,r,"blockSize"),u=a?o(a):void 0,f=l?o(l):void 0;if(h.current.width!==u||h.current.height!==f){var p={width:u,height:f};h.current.width=u,h.current.height=f,i.current?i.current(p):c.current||d(p)}})}),a.current.instance.observe(t,{box:e.box}),function(){a.current&&a.current.instance.unobserve(t)}},[e.box,o]),e.ref);return(0,n.useMemo)(function(){return{ref:f,width:u.width,height:u.height}},[f,u.width,u.height])}},80241:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(9947)),o=r(i(60554)),a=r(i(75585)),l=r(i(72127)),u=r(i(79813));class d extends l.default{loadAssets(){return n(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return n(this,void 0,void 0,function*(){})}}class c extends s.default{static create(e,t){return n(this,void 0,void 0,function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);let{logger:i}=t;if(!(yield c.isSupported(e,t)))return i.warn("Using no-op processor because background replacement is not supported"),new d;i.info("Using background replacement filter");let n=new u.default(e,t);return yield n.loadAssets(),n})}static resolveOptions(e={}){let t=Object.assign({},e);return t.logger||(t.logger=new o.default("BackgroundReplacementProcessor",a.default.INFO)),super.resolveOptions(t)}static resolveOptionsAsync(e){return n(this,void 0,void 0,function*(){if(!e.imageBlob){let t=document.createElement("canvas");t.width=100,t.height=100;let i=t.getContext("2d");i.fillStyle="blue",i.fillRect(0,0,100,100),e.imageBlob=yield new Promise(e=>{t.toBlob(e)})}})}static isSupported(e,t){let i=Object.create(null,{isSupported:{get:()=>super.isSupported}});return n(this,void 0,void 0,function*(){e=this.resolveSpec(e),t=this.resolveOptions(t),yield this.resolveOptionsAsync(t);let n=t.imageBlob,r=URL.createObjectURL(n);try{yield u.default.loadImage(r)}catch(e){return t.logger.info(`Failed to fetch load replacement image ${e.message}`),!1}finally{URL.revokeObjectURL(r)}return i.isSupported.call(this,e,t)})}}t.default=c},80680:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoLogEvent=void 0,function(e){e[e.InputAttached=0]="InputAttached",e[e.SendingFailed=1]="SendingFailed",e[e.SendingSuccess=2]="SendingSuccess"}(i=t.VideoLogEvent||(t.VideoLogEvent={})),t.default=i},80826:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(79338));class o extends s.default{constructor(e,t,i){super(e,t,i);let n=2;this.videoQualityControlParameterMap=new Map;for(let e=0;e<o.NAME_ARR_ASCENDING.length;e++){let t=o.NAME_ARR_ASCENDING[e];this.videoQualityControlParameterMap.set(t,{rid:t,scaleResolutionDownBy:n,maxBitrate:1e3*o.BITRATE_ARR_ASCENDING[e]}),n/=2}}setEncodingParameters(e){return n(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;let t=this._localCameraTransceiver.sender,i=Array.from(e.values());if(i.length<=0)return;let n=t.getParameters();if(n.encodings)for(let t=0;t<n.encodings.length;t++)n.encodings[t].rid===s.default.LOW_LEVEL_NAME&&this.copyEncodingParams(e.get(s.default.LOW_LEVEL_NAME),n.encodings[t]),n.encodings[t].rid===s.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(e.get(s.default.HIGH_LEVEL_NAME),n.encodings[t]);else n.encodings=i;yield t.setParameters(n),this.logVideoTransceiverParameters()})}}t.default=o,o.NAME_ARR_ASCENDING=["low","hi"],o.BITRATE_ARR_ASCENDING=[300,1200]},80885:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}},80927:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});var n=i(70790),r=i(74095);let s=(0,n.f)(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*r.Tt)},(e,t)=>(t-e)/r.Tt,e=>e.getUTCSeconds());s.range},80959:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=i(11689),r=i(49913),s=i(90403),o=i(5770);function a(e){return new Promise(function(t,i){var n=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",l(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),i(Error("ImportKey completed without importing key."))},n.onerror=function(){i(Error("ImportKey failed to import key."))}})}function l(e){return"string"==typeof e?(0,s.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,n.isEmptyData)(e)||(this.operation=this.operation.then(function(i){return i.onerror=function(){t.operation=Promise.reject(Error("Error encountered updating hash"))},i.process(l(e)),i}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(e){return new Promise(function(t,i){e.onerror=function(){i(Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),i(Error("Error encountered finalizing hash"))},e.finish()})})},e.prototype.reset=function(){this.secret?(this.operation=a(this.secret).then(function(e){return(0,o.locateWindow)().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}()},81491:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(21643)),s=n(i(79338)),o=i(36243),a=n(i(12050)),l=n(i(95943));class u{constructor(e,t){this.selfAttendeeId=e,this.logger=t,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.videoIndex=null,this.observerQueue=new Set,this.hiTargetBitrateKbps=u.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=u.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=u.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new a.default(0,0,0,0,!0),this.parametersInEffect=new a.default(0,0,0,0,!0),this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}updateConnectionMetric(e){}calculateEncodingParameters(){let e=[new l.default,new l.default,new l.default];this.shouldDisableSimulcast?(this.newActiveStreams=0,e[0].maxBitrateKbps=0,e[1].maxBitrateKbps=this.hiTargetBitrateKbps,e[2].maxBitrateKbps=0):this.numSenders<=4?(this.newActiveStreams=1,e[0].maxBitrateKbps=this.lowTargetBitrateKbps,e[1].maxBitrateKbps=0,e[2].maxBitrateKbps=this.hiTargetBitrateKbps):(this.newActiveStreams=2,e[0].maxBitrateKbps=2*this.lowTargetBitrateKbps/3,e[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:.6*this.midTargetBitrateKbps,e[2].maxBitrateKbps=0);let t=e.map((e,t,i)=>e.maxBitrateKbps);return this.newQualityMap=this.fillEncodingParamWithBitrates(t),this.encodingParametersEqual()||this.logger.info(`simulcast: policy:calculateEncodingParameters numSources:${this.numSenders} shouldDisableSimulcast:${this.shouldDisableSimulcast} newQualityMap: ${this.getQualityMapString(this.newQualityMap)}`),this.newQualityMap}chooseMediaTrackConstraints(){}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(e){let t=e.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,i=t!==this.numSenders,n=e.numberOfParticipants(),r=n>=0&&n<=2,s=this.shouldDisableSimulcast!==r;this.numSenders=t,this.shouldDisableSimulcast=r,this.optimalParameters=new a.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=e,(i||s)&&(this.newQualityMap=this.calculateEncodingParameters())}wantsResubscribe(){return!this.encodingParametersEqual()}compareEncodingParameter(e,t){return JSON.stringify(e)===JSON.stringify(t)}encodingParametersEqual(){let e=!1;for(let t of s.default.NAME_ARR_ASCENDING)if(e=e||!this.compareEncodingParameter(this.newQualityMap.get(t),this.currentQualityMap.get(t)))break;return!e}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(e){}setHasBandwidthPriority(e){}setHighResolutionFeatureEnabled(e){this.enableFhdVideo=e,this.hiTargetBitrateKbps=e?u.kHiTargetBitrateKbpsFhd:u.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=e?u.kMidTargetBitrateKbpsFhd:u.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=e?u.kLowTargetBitrateKbpsFhd:u.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(e){let t=new Map,i=1e3,n=s.default.NAME_ARR_ASCENDING,r=e,o=this.shouldDisableSimulcast?1:4;for(let e=0;e<n.length;e++){let s=n[e];t.set(s,{rid:s,active:r[e]>0,scaleResolutionDownBy:Math.max(o,1),maxBitrate:r[e]*i}),o/=2}return t}getQualityMapString(e){let t="";return 3===this.videoIndex.localStreamDescriptions().length&&e.forEach(e=>{t+=`{ rid: ${e.rid} active:${e.active} maxBitrate:${e.maxBitrate}}`}),t}getEncodingSimulcastLayer(e){switch(e){case 0:return r.default.High;case 1:return r.default.LowAndHigh;case 2:return r.default.LowAndMedium}}publishEncodingSimulcastLayer(){let e=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(t=>{o.Maybe.of(t.encodingSimulcastLayersDidChange).map(i=>i.bind(t)(e))})}addObserver(e){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(e)}removeObserver(e){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(e)}forEachObserver(e){for(let t of this.observerQueue)e(t)}}t.default=u,u.kHiTargetBitrateKbpsHd=1200,u.kMidTargetBitrateKbpsHd=600,u.kLowTargetBitrateKbpsHd=300,u.kHiTargetBitrateKbpsFhd=2e3,u.kMidTargetBitrateKbpsFhd=1e3,u.kLowTargetBitrateKbpsFhd=500},81529:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerDeferPriority=void 0,function(e){e[e.DoNotDefer=0]="DoNotDefer",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"}(i=t.SessionStateControllerDeferPriority||(t.SessionStateControllerDeferPriority={})),t.default=i},81750:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(96119),s=n(i(11218)),o=n(i(52045));class a{constructor(e){this.logger=e,this.currentIndex=null,this.indexForSubscribe=null,this.indexForLastRemoteVideoUpdate=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new o.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(e){return e>0&&e<1e3?1:Math.trunc(e/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];let e=[];return this.currentIndex.sources.forEach(t=>{let i=new o.default;i.attendeeId=t.attendeeId,i.groupId=t.groupId,i.streamId=t.streamId,i.maxBitrateKbps=t.maxBitrateKbps,i.avgBitrateKbps=this.convertBpsToKbps(t.avgBitrateBps),i.width=t.width,i.height=t.height,i.maxFrameRate=t.framerate,e.push(i)}),e}integrateUplinkPolicyDecision(e){if(e&&e.length){let t=e[0];this.videoStreamDescription.maxBitrateKbps=t.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=t.maxFramerate}}integrateIndexFrame(e){if(this.currentIndex=e,!e)return;let t=new Map,i=!1;for(let n of e.sources){if(!t.has(n.attendeeId)){t.set(n.attendeeId,n.groupId);continue}let e=t.get(n.attendeeId);e<n.groupId&&(this.logger.warn(`Old group ID ${e} found for attendee ID ${n.attendeeId}, replacing with newer group ID ${n.groupId}`),t.set(n.attendeeId,n.groupId)),i=!0}i&&(this.currentIndex.sources=this.currentIndex.sources.filter(e=>t.get(e.attendeeId)===e.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}remoteVideoUpdateSent(){this.indexForLastRemoteVideoUpdate=this.currentIndex}integrateSubscribeAckFrame(e){this.currentSubscribeAck=e,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,e.allocations&&void 0!==e.allocations&&e.allocations.length>0&&(this.sendVideoStreamId=e.allocations[0].streamId)}integrateBitratesFrame(e){if(this.currentIndex)for(let t of e.bitrates){let e=this.currentIndex.sources.find(e=>e.streamId===t.sourceStreamId);void 0!==e&&(e.avgBitrateBps=t.avgBitrateBps)}}allStreams(){let e=new s.default;if(this.currentIndex)for(let t of this.currentIndex.sources)e.add(t.streamId);return e}allVideoSendingSourcesExcludingSelf(e){let t=[],i=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(let n of this.currentIndex.sources){let{attendeeId:s,externalUserId:o,mediaType:a}=n;s===e||a!==r.SdkStreamMediaType.VIDEO||i.has(s)||(t.push({attendee:{attendeeId:s,externalUserId:o}}),i.add(s))}return t}streamSelectionUnderBandwidthConstraint(e,t,i,n){let o=new Set;if(this.currentIndex)for(let n of this.currentIndex.sources)n.attendeeId!==e&&n.mediaType===r.SdkStreamMediaType.VIDEO&&(t.has(n.attendeeId)||i.has(n.attendeeId)||o.add(n.attendeeId));let a=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e),l=new Map,u=0;a.forEach((e,t)=>{l.set(t,e[0]),u+=e[0].maxBitrateKbps}),u=this.trySelectHighBitrateForAttendees(a,t,u,n,l),this.trySelectHighBitrateForAttendees(a,o,u,n,l);let d=new s.default;for(let e of l.values())d.add(e.streamId);return d}highestQualityStreamFromEachGroupExcludingSelf(e){let t=new s.default;if(this.currentIndex){let i=new Map;for(let t of this.currentIndex.sources)t.attendeeId!==e&&t.mediaType===r.SdkStreamMediaType.VIDEO&&(!i.has(t.groupId)||t.maxBitrateKbps>i.get(t.groupId).maxBitrateKbps)&&i.set(t.groupId,t);for(let e of i.values())t.add(e.streamId)}return t}numberOfVideoPublishingParticipantsExcludingSelf(e){return this.highestQualityStreamFromEachGroupExcludingSelf(e).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(e){let t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToAttendeeMap)return this.logger.warn(`no attendee found for track ${e}`),"";let i=this.subscribeStreamToAttendeeMap.get(t);return i||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known attendee`),"")}externalUserIdForTrack(e){let t=this.streamIdForTrack(e);if(void 0===t||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn(`no external user id found for track ${e}`),"";let i=this.subscribeStreamToExternalUserIdMap.get(t);return i||(this.logger.info(`track ${e} (stream ${t}) does not correspond to a known externalUserId`),"")}attendeeIdForStreamId(e){if(!this.streamToAttendeeMap)if(!this.currentIndex)return"";else this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);let t=this.streamToAttendeeMap.get(e);return t||(this.logger.info(`stream ID ${e} does not correspond to a known attendee`),"")}attendeeIdForGroupId(e){if(!this.groupIdToAttendeeMap)if(!this.currentIndex)return"";else this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);let t=this.groupIdToAttendeeMap.get(e);return t||(this.logger.info(`group ID ${e} does not correspond to a known attendee`),"")}groupIdForStreamId(e){if(this.currentIndex&&this.currentIndex.sources){for(let t of this.currentIndex.sources)if(t.streamId===e)return t.groupId;if(this.indexForSubscribe){for(let t of this.indexForSubscribe.sources)if(t.streamId===e)return t.groupId}if(this.indexForLastRemoteVideoUpdate){for(let t of this.indexForLastRemoteVideoUpdate.sources)if(t.streamId===e)return t.groupId}}}StreamIdsInSameGroup(e,t){return this.groupIdForStreamId(e)===this.groupIdForStreamId(t)}streamIdForTrack(e){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(e)}streamIdForSSRC(e){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(e)}overrideStreamIdMappings(e,t){if(this.subscribeTrackToStreamMap){for(let[i,n]of this.subscribeTrackToStreamMap.entries())if(e===n){this.subscribeTrackToStreamMap.set(i,t);break}}if(this.subscribeSsrcToStreamMap){for(let[i,n]of this.subscribeSsrcToStreamMap.entries())if(e===n){this.subscribeSsrcToStreamMap.set(i,t);break}}}groupIdForSSRC(e){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(e)}streamsPausedAtSource(){let e=new s.default;if(this.currentIndex)for(let t of this.currentIndex.pausedAtSourceIds)e.add(t);return e}sendVideoStreamIdFromRid(e){return this.sendVideoStreamId}buildTrackToStreamMap(e){let t=new Map;for(let i of(this.logger.debug(()=>`trackMap ${JSON.stringify(e.tracks)}`),e.tracks))i.trackLabel.length>0&&i.streamId>0&&t.set(i.trackLabel,i.streamId);return t}buildSSRCToStreamMap(e){let t=new Map;for(let i of(this.logger.debug(()=>`ssrcMap ${JSON.stringify(e.tracks)}`),e.tracks))i.trackLabel.length>0&&i.streamId>0&&t.set(i.ssrc,i.streamId);return t}buildSSRCToGroupMap(e){let t=new Map;for(let i of e.tracks)i.trackLabel.length>0&&i.streamId>0&&t.set(i.ssrc,this.groupIdForStreamId(i.streamId));return t}buildStreamToAttendeeMap(e){let t=new Map;if(e)for(let i of e.sources)t.set(i.streamId,i.attendeeId);return t}buildGroupIdToAttendeeMap(e){let t=new Map;for(let i of e.sources)t.set(i.groupId,i.attendeeId);return t}buildStreamExternalUserIdMap(e){let t=new Map;if(e)for(let i of e.sources)i.externalUserId&&t.set(i.streamId,i.externalUserId);return t}trySelectHighBitrateForAttendees(e,t,i,n,r){for(let s of t){if(i>=n)break;if(e.has(s)){for(let t of e.get(s).reverse())if(i-r.get(s).maxBitrateKbps+t.maxBitrateKbps<n){i=i-r.get(s).maxBitrateKbps+t.maxBitrateKbps,r.set(s,t);break}}}return i}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(e){let t=new Map;if(this.currentIndex)for(let i of this.currentIndex.sources)i.attendeeId!==e&&i.mediaType===r.SdkStreamMediaType.VIDEO&&(t.has(i.attendeeId)?t.get(i.attendeeId).push(i):t.set(i.attendeeId,[i]));return t.forEach((e,t)=>{e.sort((e,t)=>e.maxBitrateKbps>t.maxBitrateKbps?1:e.maxBitrateKbps<t.maxBitrateKbps?-1:0)}),t}}t.default=a},82306:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(87644));class s extends r.default{constructor(e){super(e),this.name="NotFoundError"}}t.default=s},82328:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(61994)),o=r(i(5551)),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="SetLocalDescriptionTask"}cancel(){if(this.cancelPromise){let e=Error(`canceling ${this.name()}`);this.cancelPromise(e),delete this.cancelPromise}}run(){return n(this,void 0,void 0,function*(){let e=this.context.peer,t=this.context.sdpOfferInit.sdp;if(this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(t=new o.default(t).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&void 0!==this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(t=new o.default(t).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new s.default().requiresDisablingH264Encoding()&&(t=new o.default(t).removeH264SupportFromSendSection().sdp),t=new o.default(t).withStartingVideoSendBitrate(1e3).sdp,void 0!==this.context.videoSendCodecPreferences&&this.context.videoSendCodecPreferences.length>0&&(t=new o.default(t).withVideoSendCodecPreferences(void 0!==this.context.meetingSupportedVideoSendCodecPreferences?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(t=new o.default(t).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(t=new o.default(t).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){let e=new o.default(t).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(e)}this.logger.debug(()=>`local description is >>>${t}<<<`);let i={type:"offer",sdp:t,toJSON:null};yield new Promise((t,r)=>n(this,void 0,void 0,function*(){this.cancelPromise=e=>{r(e)};try{yield e.setLocalDescription(i),t()}catch(e){r(e)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}}t.default=l},82468:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(i=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===i.Tag||e.type===i.Script||e.type===i.Style},t.Root=i.Root,t.Text=i.Text,t.Directive=i.Directive,t.Comment=i.Comment,t.Script=i.Script,t.Style=i.Style,t.Tag=i.Tag,t.CDATA=i.CDATA,t.Doctype=i.Doctype},82599:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundFilterMonitor=void 0;let s=i(79018),o=r(i(45595)),a=r(i(12114));class l{constructor(){this.value=void 0,this.resolve=null}whenNext(){return this.promise||(this.promise=new Promise(e=>this.resolve=e)),this.promise}next(e){this.value=e,this.resolve(e),delete this.promise}}class u{constructor(e,t,i,n,r){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new o.default(this.targetCanvas),this.mask$=new l,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=u.createWorkerPromise(),this.loadModelPromise=u.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=e,this.validateSpec(t),this.validateOptions(i),this.spec=t,this.logger=i.logger,this.delegate=n,this.initCPUMonitor(i),this.eventController=r}static createWorkerPromise(){let e={resolve:null,reject:null,promise:null};return e.promise=new Promise((t,i)=>{e.resolve=t,e.reject=i}),e}validateSpec(e){if(!e)throw Error("processor has null spec");if(!e.model)throw Error("processor spec has null model");if(!e.paths)throw Error("processor spec has null paths")}validateOptions(e){if(!e)throw Error("processor has null options");if(!e.logger)throw Error("processor has null options - logger");if(!e.reportingPeriodMillis)throw Error("processor has null options - reportingPeriodMillis");if(!e.filterCPUUtilization)throw Error("processor has null options - filterCPUUtilization")}initCPUMonitor(e){let t=5e3,i=10,n=1;this.videoFramesPerFilterUpdate=1,this.frameCounter=new a.default(this.delegate,e.reportingPeriodMillis,e.filterCPUUtilization,this.logger),this.cpuMonitor=new d(t,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,i))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,n))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(e){return JSON.stringify(e,null,2)}handleInitialize(e){if(this.logger.info(`received initialize message: ${this.stringify(e)}`),!e.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(Error("failed to initialize the module"));return}let t=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:t.path,inputHeight:t.input.height,inputWidth:t.input.width,inputChannels:4,modelRangeMin:t.input.range[0],modelRangeMax:t.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(e){if(this.logger.info(`received load model message: ${this.stringify(e)}`),2!==e.payload){this.logger.error("failed to load model! status: "+e.payload),this.loadModelPromise.reject(Error("failed to load model! status: "+e.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(e){this.mask$.next(e.payload.output)}handleWorkerEvent(e){let t=e.data;switch(t.msg){case"initialize":this.handleInitialize(t);break;case"loadModel":this.handleLoadModel(t);break;case"predict":this.handlePredict(t);break;default:this.logger.info(`unexpected event msg: ${this.stringify(t)}`)}}loadAssets(){return n(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield s.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",e=>this.handleWorkerEvent(e)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info(`successfully initialized the ${this.filterType} worker`),yield this.loadModelPromise.promise,this.logger.info(`successfully loaded ${this.filterType} worker segmentation model`)}catch(e){throw Error(`could not initialize the ${this.filterType} video frame processor due to '${e.message}'`)}this.logger.info(`successfully initialized the ${this.filterType} processor`)})}process(e){return n(this,void 0,void 0,function*(){if(this.destroyed)return e;this.frameCounter.frameReceived(e[0].framerate),this.cpuMonitor.frameReceived();let t=e[0].asCanvasElement();if(!t)return e;if(!this.modelInitialized)return e[0]=this.canvasVideoFrameBuffer,e;let i=t.width,n=t.height;if(0===i||0===n)return e;0===this.sourceWidth&&(this.sourceWidth=i,this.sourceHeight=n,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info(`${this.filterType} source width: ${this.sourceWidth}`),this.logger.info(`${this.filterType} source height: ${this.sourceHeight}`),this.initOnFirstExecution()),(this.sourceWidth!==i||this.sourceHeight!==n)&&(this.sourceWidth=i,this.sourceHeight=n,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let e=this.mask$.value,i=this.spec.model.input.width/t.width,n=this.spec.model.input.height/t.height;void 0===this.scaledCanvas&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);let r=this.scaledCanvas.getContext("2d");r.save(),r.scale(i,n),r.drawImage(t,0,0),r.restore();let s=r.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate==0){let t=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:s},[s.data.buffer]),e=yield t}this.destroyed||this.drawImageWithMask(t,e)}catch(t){return this.logger.error(`could not process ${this.filterType} frame buffer due to ${t}`),e}finally{this.frameCounter.filterComplete(),this.frameNumber++}return e[0]=this.canvasVideoFrameBuffer,e})}updateVideoFramesPerFilterUpdate(e){e!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=e,this.logger.info(`Adjusting filter rate to compensate for CPU utilization. Filter rate is ${this.videoFramesPerFilterUpdate} video frames per filter.`))}destroy(){var e,t,i,r;return n(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),null==(e=this.worker)||e.postMessage({msg:"destroy"}),null==(t=this.worker)||t.postMessage({msg:"stop"}),null==(i=this.targetCanvas)||i.remove(),this.targetCanvas=void 0,null==(r=this.scaledCanvas)||r.remove(),this.scaledCanvas=void 0,this.logger.info(`${this.filterType} frame process destroyed`)})}}t.default=u;class d{constructor(e,t){this.monitoringPeriodMillis=e,this.observer=t,this.lastCPUChangeTimestamp=0}filterCPUUtilizationHigh(){let e=Date.now();e-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.reduceCPUUtilization())}frameReceived(){let e=Date.now();e-this.lastCPUChangeTimestamp>=2*this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=e,this.observer.increaseCPUUtilization())}}t.BackgroundFilterMonitor=d},82648:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=i(80959),r=i(47036),s=i(94355),o=i(6333),a=i(69716),l=i(5770),u=i(90778);t.Sha256=function(){function e(e){(0,o.supportsWebCrypto)((0,l.locateWindow)())?this.hash=new r.Sha256(e):(0,a.isMsWindow)((0,l.locateWindow)())?this.hash=new n.Sha256(e):this.hash=new s.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update((0,u.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}()},83654:(e,t,i)=>{"use strict";var n=i(12115),r=i(14806);function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var o="function"==typeof Object.is?Object.is:s,a=r.useSyncExternalStore,l=n.useRef,u=n.useEffect,d=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,n,r){var s=l(null);if(null===s.current){var h={hasValue:!1,value:null};s.current=h}else h=s.current;var f=a(e,(s=d(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var i=n(e);return void 0!==r&&r(t,i)?(s=e,t):(s=e,a=i)}var s,a,l=!1,u=void 0===i?null:i;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,i,n,r]))[0],s[1]);return u(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},83852:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=i(15079),o=i(93863),a=r(i(99789));class l{constructor(e){this.chimeClient=e}makeTwoDigits(e){return e>9?e.toString():"0"+e.toString()}hmac(e,t){let i=new s.Sha256(t);return i.update(e),i.digest()}getDateTimeString(){let e=new Date;return e.getUTCFullYear()+this.makeTwoDigits(e.getUTCMonth()+1)+this.makeTwoDigits(e.getUTCDate())+"T"+this.makeTwoDigits(e.getUTCHours())+this.makeTwoDigits(e.getUTCMinutes())+this.makeTwoDigits(e.getUTCSeconds())+"Z"}getDateString(e){return e.substring(0,e.indexOf("T"))}getSignatureKey(e,t,i,r){return n(this,void 0,void 0,function*(){let n=yield this.hmac(t,"AWS4"+e),s=yield this.hmac(i,n),o=yield this.hmac(r,s);return yield this.hmac("aws4_request",o)})}signURL(e,t,i,r,s,l,u){return n(this,void 0,void 0,function*(){let n,d=this.getDateTimeString(),c=this.getDateString(d),h="AWS4-HMAC-SHA256",f="";f=this.chimeClient.config.region instanceof Function?yield this.chimeClient.config.region():this.chimeClient.config.region;let p="host",m="host:"+r.toLowerCase()+"\n",g=c+"/"+f+"/"+i+"/aws4_request";n=this.chimeClient.config.credentials instanceof Function?yield this.chimeClient.config.credentials():this.chimeClient.config.credentials;let v=new Map;v.set("X-Amz-Algorithm",[h]),v.set("X-Amz-Credential",[encodeURIComponent(n.accessKeyId+"/"+g)]),v.set("X-Amz-Date",[d]),v.set("X-Amz-Expires",["10"]),v.set("X-Amz-SignedHeaders",["host"]),n.sessionToken&&v.set("X-Amz-Security-Token",[encodeURIComponent(n.sessionToken)]),v.set(a.default.X_AMZN_VERSION,[encodeURIComponent(a.default.sdkVersion)]),v.set(a.default.X_AMZN_USER_AGENT,[encodeURIComponent(a.default.sdkUserAgentLowResolution)]),null==u||u.forEach((e,t)=>{let i=encodeURIComponent(t);e.sort().forEach(e=>{v.has(i)||v.set(i,[]),v.get(i).push(encodeURIComponent(e))})});let y="";(v=new Map([...v.entries()].sort())).forEach((e,t)=>{e.forEach(e=>{y.length&&(y+="&"),y+=t+"="+e})});let b=e+"\n"+s+"\n"+y+"\n"+m+"\n"+p+"\n"+o.toHex((yield this.hmac(l))),S="AWS4-HMAC-SHA256\n"+d+"\n"+c+"/"+f+"/"+i+"/aws4_request\n"+o.toHex((yield this.hmac(b))),w=yield this.getSignatureKey(n.secretAccessKey,c,f,i),C=o.toHex((yield this.hmac(S,w)));return t+"://"+r+s+"?"+(y+"&X-Amz-Signature=")+C})}}t.default=l},83914:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},83958:(e,t,i)=>{"use strict";i.d(t,{E:()=>r,u:()=>s});var n=i(81421);function r(e){return(0,n.Ay)("MuiChartsGrid",e)}let s=(0,i(13053).A)("MuiChartsGrid",["root","line","horizontalLine","verticalLine"])},84168:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}filterFrameDurationHigh(e){var t;for(let i of this.observers)null==(t=i.filterFrameDurationHigh)||t.call(i,e)}filterCPUUtilizationHigh(e){var t;for(let i of this.observers)null==(t=i.filterCPUUtilizationHigh)||t.call(i,e)}}t.default=i},84269:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var n=i(90643),r=i(42531);t.crc32=function(e){return new s().update(e).digest()};var s=function(){function e(){this.checksum=0xffffffff}return e.prototype.update=function(e){var t,i;try{for(var r=n.__values(e),s=r.next();!s.done;s=r.next()){var o=s.value;this.checksum=this.checksum>>>8^a[(this.checksum^o)&255]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},e}();t.Crc32=s;var o=[0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d],a=(0,r.uint32ArrayFrom)(o),l=i(55792);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return l.AwsCrc32}})},85073:(e,t,i)=>{"use strict";e.exports=c;var n,r=i(25414),s=r.LongBits,o=r.base64,a=r.utf8;function l(e,t,i){this.fn=e,this.len=t,this.next=void 0,this.val=i}function u(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function c(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(c.create=function(){return new n})()}:function(){return new c}};function f(e,t,i){t[i]=255&e}function p(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function v(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}c.create=h(),c.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(e,t,i){return this.tail=this.tail.next=new l(e,t,i),this.len+=t,this},m.prototype=Object.create(l.prototype),m.prototype.fn=p,c.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},c.prototype.int32=function(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)},c.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},c.prototype.uint64=function(e){var t=s.from(e);return this._push(g,t.length(),t)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)},c.prototype.bool=function(e){return this._push(f,1,+!!e)},c.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(e){var t=s.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},c.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var y=r.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};c.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(r.isString(e)){var i=c.alloc(t=o.length(e));o.decode(e,i,0),e=i}return this.uint32(t)._push(y,t,e)},c.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},c.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new l(u,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},c.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},c.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},c._configure=function(e){n=e,c.create=h(),n._configure()}},85321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e=5e3,t=2,i=64,n=100,r=15){this.flushIntervalMs=e,this.flushSize=t,this.maxBufferCapacityKb=i,this.totalBufferItems=n,this.retryCountLimit=r}}t.default=i},85515:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(96119),s=n(i(48)),o=n(i(12741)),a=n(i(27187));class l{constructor(e,t,i){this.logger=e,this.videoStreamIndex=t,this.selfAttendeeId=i,this.globalMetricReport=new a.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(e,t)=>Number((t?this.streamMetricReports[t]:this.globalMetricReport).currentMetrics[e]),this.decoderLossPercent=(e,t)=>{let i=this.streamMetricReports[t],n=i.currentMetrics.concealedSamples-(i.previousMetrics.concealedSamples||0),r=i.currentMetrics.totalSamplesReceived-(i.previousMetrics.totalSamplesReceived||0);return r<=0||r-n<=0?0:n/r*100},this.packetLossPercent=(e,t)=>{let i=this.streamMetricReports[t],n=i.currentMetrics[e]-(i.previousMetrics[e]||0),r=i.currentMetrics.packetsLost-(i.previousMetrics.packetsLost||0),s=n+r;return s<=0||r<=0?0:100*r/s},this.jitterBufferMs=(e,t)=>{let i=this.streamMetricReports[t],n=i.currentMetrics.jitterBufferDelay-(i.previousMetrics.jitterBufferDelay||0),r=i.currentMetrics.jitterBufferEmittedCount-(i.previousMetrics.jitterBufferEmittedCount||0);return n<=0||r<=0?0:n/r*1e3},this.countPerSecond=(e,t)=>{let i=t?this.streamMetricReports[t]:this.globalMetricReport,n=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(n<=0)return 0;this.previousTimestampMs<=0&&(n=1);let r=i.currentMetrics[e]-(i.previousMetrics[e]||0);return r<=0?0:Math.trunc(r/n)},this.bitsPerSecond=(e,t)=>{let i=t?this.streamMetricReports[t]:this.globalMetricReport,n=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(n<=0)return 0;this.previousTimestampMs<=0&&(n=1);let r=(i.currentMetrics[e]-(i.previousMetrics[e]||0))*8;return r<=0?0:Math.trunc(r/n)},this.secondsToMilliseconds=(e,t)=>Number(1e3*(t?this.streamMetricReports[t]:this.globalMetricReport).currentMetrics[e]),this.averageTimeSpentPerSecondInMilliseconds=(e,t)=>{let i=t?this.streamMetricReports[t]:this.globalMetricReport,n=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(n<=0)return 0;this.previousTimestampMs<=0&&(n=1);let r=i.currentMetrics[e]-(i.previousMetrics[e]||0);return r<=0?0:1e3*r/n},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(e,t)=>{let i=this.streamMetricReports[t];if(void 0===i.previousObjectMetrics[e]||void 0===i.currentObjectMetrics[e])return NaN;let n=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(n<=0)return 0;this.previousTimestampMs<=0&&(n=1);let r=0,s=0;for(let[t,n]of Object.entries(i.previousObjectMetrics[e]))"cpu"===t&&(r=n);for(let[t,n]of Object.entries(i.currentObjectMetrics[e]))"cpu"===t&&(s=n);let o=s-r;return o<=0?0:1e3*o/n},this.isHardwareImplementation=(e,t)=>{let i=this.streamMetricReports[t];if(void 0===i.currentStringMetrics[e])return NaN;let n=String(i.currentStringMetrics[e]),r=n.includes("ExternalDecoder")||n.includes("ExternalEncoder")||n.includes("EncodeAccelerator")||n.includes("DecodeAccelerator"),s=n.includes("fallback from");return r&&!s?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:r.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:r.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:r.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:r.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.VIDEO_SENT_JITTER_MS},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:r.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:r.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:r.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU},videoCodecDegradationHighEncodeCpu:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU},videoCodecDegradationEncodeFailure:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE},videoInputWidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_INPUT_WIDTH},videoInputHeight:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_INPUT_HEIGHT}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:r.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:r.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:r.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:r.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:r.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:r.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:r.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:r.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:r.SdkMetric.Type.VIDEO_DROPPED_FPS},videoRenderWidth:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RENDER_WIDTH},videoRenderHeight:{transform:this.identityValue,type:r.SdkMetric.Type.VIDEO_RENDER_HEIGHT}},this.streamDimensionMap={encoderImplementation:r.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:r.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamFramesInputPerSecond:{source:"framesPerSecond",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamEncoderImplementation:{source:"encoderImplementation",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamTotalEncodeTimePerSecond:{source:"totalEncodeTime",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoUpstreamCpuQualityLimitationDurationPerSecond:{source:"qualityLimitationDurations",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:o.default.VIDEO,dir:s.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:o.default.VIDEO,dir:s.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:o.default.AUDIO,dir:s.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:o.default.AUDIO,dir:s.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:o.default.AUDIO,dir:s.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:o.default.VIDEO,dir:s.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:o.default.VIDEO,dir:s.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:o.default.AUDIO,dir:s.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:o.default.VIDEO,dir:s.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:o.default.AUDIO,dir:s.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}getMetricMap(e,t){switch(e){case o.default.AUDIO:switch(t){case s.default.UPSTREAM:return this.audioUpstreamMetricMap;case s.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case o.default.VIDEO:switch(t){case s.default.UPSTREAM:return this.videoUpstreamMetricMap;case s.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(e){if(this.overriddenObservableMetrics.has(e))return this.overriddenObservableMetrics.get(e);let t=this.observableMetricSpec[e],{transform:i,source:n}=this.getMetricMap(t.media,t.dir)[t.source];if(!t.hasOwnProperty("media"))return i(n||t.source);for(let e in this.streamMetricReports){let r=this.streamMetricReports[e];if(r.direction===t.dir&&r.mediaType===t.media)return i(n||t.source,Number(e))}return 0}getObservableVideoMetricValue(e,t){let i=this.observableVideoMetricSpec[e],{transform:n,source:r}=this.getMetricMap(i.media,i.dir)[i.source];return n(r||i.source,t)}getVideoUpstreamSsrcs(){let e=[];for(let t in this.streamMetricReports)this.streamMetricReports[t].mediaType===o.default.VIDEO&&this.streamMetricReports[t].direction===s.default.UPSTREAM&&e.push(Number(t));return e}getObservableMetrics(){let e={};for(let t in this.observableMetricSpec)e[t]=this.getObservableMetricValue(t);return e}getObservableVideoMetrics(){let e={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),e;for(let t in this.streamMetricReports)if(this.streamMetricReports[t].mediaType===o.default.VIDEO){let i={};for(let e in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[e].dir===this.streamMetricReports[t].direction){let n=this.getObservableVideoMetricValue(e,Number(t));isNaN(n)||(i[e]=n)}let n=this.streamMetricReports[t].groupId,r=this.streamMetricReports[t].streamId,s="";e[s=void 0!==this.videoStreamIndex.attendeeIdForGroupId?n?this.videoStreamIndex.attendeeIdForGroupId(n):this.selfAttendeeId:r?this.videoStreamIndex.attendeeIdForStreamId(r):this.selfAttendeeId]=e[s]?e[s]:{},e[s][t]=i}return e}getRTCStatsReport(){return this.rtcStatsReport}clone(){let e=new l(this.logger,this.videoStreamIndex,this.selfAttendeeId);return e.globalMetricReport=this.globalMetricReport,e.streamMetricReports=this.streamMetricReports,e.rtcStatsReport=this.rtcStatsReport,e.customStatsReports=this.customStatsReports,e.currentTimestampMs=this.currentTimestampMs,e.previousTimestampMs=this.previousTimestampMs,e.overriddenObservableMetrics=this.overriddenObservableMetrics,e}print(){let e={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>`Client Metric Report: ${JSON.stringify(e)}`)}removeDestroyedSsrcs(){for(let e in this.streamMetricReports)this.currentSsrcs[e]||delete this.streamMetricReports[e]}overrideObservableMetric(e,t){this.overriddenObservableMetrics.set(e,t)}}t.default=l},85724:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=i(4272),r=i(89054),s=["checked","value"],o=["input","select","textarea"],a={reset:!0,submit:!0};function l(e,t){void 0===e&&(e={});var i={},l=!!(e.type&&a[e.type]);for(var d in e){var c=e[d];if((0,n.isCustomAttribute)(d)){i[d]=c;continue}var h=d.toLowerCase(),f=u(h);if(f){var p=(0,n.getPropertyInfo)(f);switch(s.includes(f)&&o.includes(t)&&!l&&(f=u("default"+h)),i[f]=c,p&&p.type){case n.BOOLEAN:i[f]=!0;break;case n.OVERLOADED_BOOLEAN:""===c&&(i[f]=!0)}continue}r.PRESERVE_CUSTOM_ATTRIBUTES&&(i[d]=c)}return(0,r.setStyleProp)(e.style,i),i}function u(e){return n.possibleStandardNames[e]}},86007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}toJSON(){return{attendeeId:this.attendeeId,joinToken:null===this.joinToken?null:"<redacted>"}}}t.default=i},86278:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let n=i(28140)._(i(1150));function r(e,t){var i;let r={};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,n.default)({...s,modules:null==(i=s.loadableGenerated)?void 0:i.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86428:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(84168));class s extends r.default{}t.default=s},86436:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(2298)),s=n(i(19408)),o=n(i(90543)),a=i(50492),l=n(i(29919)),u=n(i(30253));class d extends l.default{constructor(e){super(e,d.createConfig()),this.logger=e,super.shouldPauseTiles=!1,this.videoPreferences=void 0}static createConfig(){let e=new u.default;return e.serverSideNetworkAdaption=s.default.None,e}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(e){super.updateIndex(e);let t=a.VideoPreferences.prepare(),i=!1;for(let n of e.remoteStreamDescriptions())t.some(e=>e.attendeeId===n.attendeeId)||(n.attendeeId.endsWith(r.default.Modality)?(t.add(new o.default(n.attendeeId,1)),i=!0):t.add(new o.default(n.attendeeId,2)));i?(this.videoPreferences=t.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(e){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}t.default=d},86575:e=>{"use strict";e.exports={}},86596:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},86963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t){this.appName=e,this.appVersion=t}static create(e,t){let n=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!e||e.length>32)throw Error("appName should be a valid string and 1 to 32 characters in length");if(!n.test(e))throw Error(`appName must satisfy ${n} regular expression`);let r=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!t||t.length>32)throw Error("appVersion should be a valid string and 1 to 32 characters in length");if(!r.test(t))throw Error("appVersion must satisfy Semantic Versioning format");return new i(e,t)}}t.default=i},87165:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateControllerAction=void 0,function(e){e[e.Connect=0]="Connect",e[e.FinishConnecting=1]="FinishConnecting",e[e.Update=2]="Update",e[e.FinishUpdating=3]="FinishUpdating",e[e.Reconnect=4]="Reconnect",e[e.Disconnect=5]="Disconnect",e[e.Fail=6]="Fail",e[e.FinishDisconnecting=7]="FinishDisconnecting"}(i=t.SessionStateControllerAction||(t.SessionStateControllerAction={})),t.default=i},87551:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown")},87599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(e){}}t.default=i},87630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}}t.default=i},87644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e,t){super(t||"Error fetching device."),this.cause=e,this.name="GetUserMediaError"}}t.default=i},88434:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(73876));class s{makeTile(e,t,i,n,s){return new r.default(e,t,i,n,s)}}t.default=s},88525:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(85515)),o=r(i(48)),a=r(i(12741)),l=r(i(87630)),u=r(i(14388)),d=r(i(50211)),c=r(i(7052)),h=r(i(70544)),f=i(96119),p=i(36243),m=r(i(58817)),g=r(i(80680));class v{constructor(e,t,i=v.INTERVAL_MS){this.audioVideoController=e,this.logger=t,this.interval=i,this.intervalScheduler=null,this.redRecoveryMetricReport=new l.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.videoCodecDegradationConcurrentSendersCount=0,this.resolutionMap=new Map,this.metricsAddTime=(e,t,i)=>{},this.metricsLogEvent=(e,t)=>{}}toAttribute(e){return this.toSuffix(e).substring(1)}toSuffix(e){return e.toLowerCase()===e?`_${e}`:e.toUpperCase()===e?`_${e.toLowerCase()}`:e.replace(/([A-Z][a-z]+)/g,function(e){return`_${e}`}).replace(/([A-Z][A-Z]+)/g,function(e){return`_${e}`}).toLowerCase()}logLatency(e,t,i){let n=this.toSuffix(e);this.logEventTime("meeting"+n,t,i)}logStateTimeout(e,t){let i=this.toSuffix(e);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},t),{state:`state${i}`}))}logAudioEvent(e,t){let i="audio"+this.toSuffix(m.default[e]);this.logEvent(i,t)}logVideoEvent(e,t){let i="video"+this.toSuffix(g.default[e]);this.logEvent(i,t)}logEventTime(e,t,i={}){let n=Object.assign(Object.assign({},i),{call_id:this.audioVideoController.configuration.meetingId,client_type:v.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>`[StatsCollector] ${e}: ${JSON.stringify(n)}`),this.metricsAddTime(e,t,n)}logMeetingSessionStatus(e){let t=`${e.statusCode()}`;this.logEvent(t);let i={status:t,status_code:`${e.statusCode()}`};this.logEvent("meeting_session_status",i),e.isTerminal()&&this.logEvent("meeting_session_stopped",i),e.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",i),e.isFailure()&&this.logEvent("meeting_session_failed",i)}logLifecycleEvent(e,t){let i={lifecycle_event:`lifecycle${this.toSuffix(d.default[e])}`,lifecycle_event_code:`${e}`,lifecycle_event_condition:`condition${this.toSuffix(c.default[t])}`,lifecycle_event_condition_code:`${t}`};this.logEvent("meeting_session_lifecycle",i)}logEvent(e,t={}){let i=Object.assign(Object.assign({},t),{call_id:this.audioVideoController.configuration.meetingId,client_type:v.CLIENT_TYPE});this.logger.debug(()=>`[StatsCollector] ${e}: ${JSON.stringify(i)}`),this.metricsLogEvent(e,i)}start(e,t){return!this.intervalScheduler&&(this.logger.info("Starting StatsCollector"),this.signalingClient=e,this.videoStreamIndex=t,this.clientMetricReport=new s.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new h.default(this.interval),this.intervalScheduler.start(()=>n(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}videoTileResolutionDidChange(e,t,i){this.resolutionMap.set(e,{width:t,height:i})}videoTileUnbound(e){this.resolutionMap.delete(e)}updateMetricValues(e,t){let i,n=t?this.clientMetricReport.streamMetricReports[Number(e.ssrc)]:this.clientMetricReport.globalMetricReport;if(t){let t=n.mediaType,r=n.direction;i=this.clientMetricReport.getMetricMap(t,r),t===a.default.VIDEO&&r===o.default.DOWNSTREAM&&this.addRenderResolutionToVideoDownstreamMetrics(n,e.ssrc)}else i=this.clientMetricReport.getMetricMap();for(let t in e)t in i&&("number"==typeof e[t]?(n.previousMetrics[t]=n.currentMetrics[t],n.currentMetrics[t]=e[t]):"string"==typeof e[t]?n.currentStringMetrics[t]=e[t]:"object"==typeof e[t]?(n.previousObjectMetrics[t]=void 0===n.currentObjectMetrics[t]?e[t]:n.currentObjectMetrics[t],n.currentObjectMetrics[t]=e[t]):this.logger.error(`Unknown metric value type ${typeof e[t]} for metric ${t}`))}processRawMetricReports(e){this.clientMetricReport.currentSsrcs={};let t=Date.now();for(let t of e){if(this.isVideoSourceMetricReport(t))continue;let e=this.isStreamRawMetricReport(t);if(e){let e=this.clientMetricReport.streamMetricReports[Number(t.ssrc)];if(e)e.mediaType===a.default.VIDEO&&e.direction===o.default.UPSTREAM?e.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(t.rid):e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc));else{let e=new u.default;e.mediaType=this.getMediaType(t),e.direction=this.getDirectionType(t),e.mediaType===a.default.VIDEO&&e.direction===o.default.UPSTREAM?e.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(t.rid):this.videoStreamIndex.allStreams().empty()||(e.streamId=this.videoStreamIndex.streamIdForSSRC(Number(t.ssrc)),void 0!==this.videoStreamIndex.groupIdForSSRC&&(e.groupId=this.videoStreamIndex.groupIdForSSRC(Number(t.ssrc)))),this.clientMetricReport.streamMetricReports[Number(t.ssrc)]=e}this.clientMetricReport.currentSsrcs[Number(t.ssrc)]=1}this.updateMetricValues(t,e)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=t,this.clientMetricReport.print()}addStreamMetricDimensionFrames(e,t){let i=this.clientMetricReport.getStreamDimensionMap();for(let n in t.currentStringMetrics)if(n in i){let r=f.SdkStreamDimension.create();r.type=i[n];let s=f.SdkDimensionValue.create();s.stringValue=t.currentStringMetrics[n],r.value=s,e.dimensions.push(r)}}addMetricFrame(e,t,i,n){let r=i.type,s=i.transform,o=i.source,a=t.streamMetricFrames.length,l=t.streamMetricFrames[a-1];if(r){let i=f.SdkMetric.create();i.type=r,i.value=s(o||e,n),n?l.metrics.push(i):t.globalMetrics.push(i)}}addGlobalMetricsToProtobuf(e){let t=this.clientMetricReport.getMetricMap();for(let i in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(i,e,t[i])}addStreamMetricsToProtobuf(e){for(let t in this.clientMetricReport.streamMetricReports){let i=this.clientMetricReport.streamMetricReports[t],n=f.SdkStreamMetricFrame.create();n.streamId=i.streamId,n.mediaType=i.mediaType===a.default.AUDIO?f.SdkStreamMediaType.AUDIO:f.SdkStreamMediaType.VIDEO,n.metrics=[],this.addStreamMetricDimensionFrames(n,i),e.streamMetricFrames.push(n);let r=this.clientMetricReport.getMetricMap(i.mediaType,i.direction);for(let n in r)this.hasMetricDependenciesInReport(n,i)&&this.addMetricFrame(n,e,r[n],Number(t))}}hasMetricDependenciesInReport(e,t){return"decoderLoss"===e&&void 0!==t.currentMetrics.concealedSamples&&void 0!==t.currentMetrics.totalSamplesReceived||"jitterBufferMs"===e&&void 0!==t.currentMetrics.jitterBufferDelay&&void 0!==t.currentMetrics.jitterBufferEmittedCount||e in t.currentMetrics||e in t.currentStringMetrics||e in t.currentObjectMetrics}makeClientMetricProtobuf(){let e=f.SdkClientMetricFrame.create();return e.globalMetrics=[],e.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(e),this.addStreamMetricsToProtobuf(e),e}sendClientMetricProtobuf(e){this.signalingClient.sendClientMetrics(e)}isStreamRawMetricReport(e){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(e.type)||this.isVideoSourceMetricReport(e)}getMediaType(e){return"audio"===e.kind?a.default.AUDIO:a.default.VIDEO}getDirectionType(e){let{type:t}=e;return"inbound-rtp"===t||"remote-outbound-rtp"===t||"inbound-rtp-red"===t?o.default.DOWNSTREAM:o.default.UPSTREAM}isValidStandardRawMetric(e){return"inbound-rtp"===e.type||"inbound-rtp-red"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type||"remote-outbound-rtp"===e.type||"candidate-pair"===e.type&&"succeeded"===e.state||"media-source"===e.type}isValidSsrc(e){let t=!0;return this.isStreamRawMetricReport(e)&&this.getDirectionType(e)===o.default.DOWNSTREAM&&this.getMediaType(e)===a.default.VIDEO&&(t=this.videoStreamIndex.streamIdForSSRC(Number(e.ssrc))>0),t}isValidRawMetricReport(e){return this.isValidStandardRawMetric(e)&&this.isValidSsrc(e)}filterRawMetricReports(e){let t=[];for(let i of e)this.isValidRawMetricReport(i)&&t.push(i);return t}handleRawMetricReports(e){let t=this.filterRawMetricReports(e);this.logger.debug(()=>`Filtered raw metrics : ${JSON.stringify(t)}`);let i=[];this.maybeAddRedRecoveryMetrics(i);let n=this.getVideoUpstreamSsrcFromRawMetricReports(t);null!==n&&this.addVideoCodecDegradationMetrics(i,n),this.clientMetricReport.customStatsReports=i,t.push(...i),this.processRawMetricReports(t),this.updateVideoSourceMetrics(t);let r=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(r),this.audioVideoController.forEachObserver(e=>{p.Maybe.of(e.metricsDidReceive).map(t=>t.bind(e)(this.clientMetricReport.clone()))})}getStatsWrapper(){return n(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;let e=[];try{let t=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=t,t.forEach(t=>{e.push(t)}),this.handleRawMetricReports(e)}catch(e){this.logger.error(e.message)}})}overrideObservableMetric(e,t){this.clientMetricReport.overrideObservableMetric(e,t)}recoveryMetricsDidReceive(e){this.redRecoveryMetricReport=e}maybeAddRedRecoveryMetrics(e){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(e.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}videoCodecDegradationHighEncodeCpuDidReceive(){this.videoCodecDegradationHighEncodeCpuCount+=1}videoCodecDegradationEncodeFailureDidReceive(){this.videoCodecDegradationEncodeFailureCount+=1}videoCodecDegradationConcurrentSendersDidReceive(){this.videoCodecDegradationConcurrentSendersCount+=1}addVideoCodecDegradationMetrics(e,t){e.push({kind:"video",type:"outbound-rtp",ssrc:t,timestamp:Date.now(),videoCodecDegradationHighEncodeCpu:this.videoCodecDegradationHighEncodeCpuCount,videoCodecDegradationEncodeFailure:this.videoCodecDegradationEncodeFailureCount,videoCodecDegradationConcurrentSenders:this.videoCodecDegradationConcurrentSendersCount}),this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.videoCodecDegradationConcurrentSendersCount=0}getVideoUpstreamSsrcFromRawMetricReports(e){for(let t of e)if(this.isStreamRawMetricReport(t)&&this.getMediaType(t)===a.default.VIDEO&&this.getDirectionType(t)===o.default.UPSTREAM)return t.ssrc;return null}isVideoSourceMetricReport(e){return"media-source"===e.type&&"video"===e.kind}addRenderResolutionToVideoDownstreamMetrics(e,t){let i=this.videoStreamIndex.streamIdForSSRC(Number(t)),n=this.videoStreamIndex.attendeeIdForStreamId(i);if(void 0===i||""===n)return void this.logger.warn(`No attendee found for ssrc ${t}`);this.resolutionMap.has(n)&&(e.currentMetrics.videoRenderWidth=this.resolutionMap.get(n).width,e.currentMetrics.videoRenderHeight=this.resolutionMap.get(n).height)}updateVideoSourceMetrics(e){for(let t of e)if(this.isVideoSourceMetricReport(t)){let e=this.clientMetricReport.getVideoUpstreamSsrcs();if(0===e.length)return void this.logger.warn("No video upstream ssrcs found");for(let i of e)this.clientMetricReport.streamMetricReports[i].currentMetrics.videoInputWidth=t.width,this.clientMetricReport.streamMetricReports[i].currentMetrics.videoInputHeight=t.height}}}t.default=v,v.INTERVAL_MS=1e3,v.CLIENT_TYPE="amazon-chime-sdk-js"},88956:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(70544));class o{constructor(e,t,i,n=1e3,r=200){this.realtimeController=e,this.selfAttendeeId=t,this.hasBandwidthPriorityCallback=i,this.waitIntervalMs=n,this.updateIntervalMs=r,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}needUpdate(e){return!this.activeSpeakers||0===this.speakerScores[e]&&this.activeSpeakers.includes(e)||this.speakerScores[e]>0&&!this.activeSpeakers.includes(e)}updateActiveSpeakers(e,t,i){if(!this.needUpdate(i))return;let n=[],r=Object.keys(this.speakerScores);for(let e=0;e<r.length;e++){let t=r[e];n.push({attendeeId:t,activeScore:this.speakerScores[t]})}let s=n.sort((e,t)=>t.activeScore-e.activeScore).filter(function(e){return e.activeScore>0}).map(function(e){return e.attendeeId});this.activeSpeakers=s,t(s);let o=s.length>0&&s[0]===this.selfAttendeeId&&e.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==o&&(this.hasBandwidthPriority=o,this.hasBandwidthPriorityCallback(o))}updateScore(e,t,i,n,r){let s=e.calculateScore(i,n,r);this.speakerScores[i]!==s&&(this.speakerScores[i]=s,this.mostRecentUpdateTimestamp[i]=Date.now(),this.updateActiveSpeakers(e,t,i))}subscribe(e,t,i,n){let r=(i,n)=>{if(!n){this.speakerScores[i]=0,this.mostRecentUpdateTimestamp[i]=Date.now(),this.updateActiveSpeakers(e,t,i);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(i,(i,n,r,s)=>{this.mostRecentUpdateTimestamp[i]=Date.now(),null!==r&&(this.speakerMuteState[i]=r),this.updateScore(e,t,i,n,r)})};this.detectorCallbackToHandler.set(t,r);let o=new s.default(this.updateIntervalMs);if(o.start(()=>{for(let i in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[i]>this.waitIntervalMs&&this.updateScore(e,t,i,0,this.speakerMuteState[i])}),this.detectorCallbackToActivityTimer.set(t,o),i&&n){let e=new s.default(n);e.start(()=>{i(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(t,e)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(r)}unsubscribe(e){let t=this.detectorCallbackToHandler.get(e);this.detectorCallbackToHandler.delete(e),t&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(t);let i=this.detectorCallbackToActivityTimer.get(e);i&&(i.stop(),this.detectorCallbackToActivityTimer.delete(e));let n=this.detectorCallbackToScoresTimer.get(e);n&&(n.stop(),this.detectorCallbackToHandler.delete(e))}destroy(){return n(this,void 0,void 0,function*(){for(let e of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(e);for(let e of this.detectorCallbackToActivityTimer.values())e.stop();for(let e of this.detectorCallbackToScoresTimer.values())e.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}}t.default=o},88980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},89054:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=a,t.setStyleProp=u;var r=i(12115),s=n(i(54185)),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function a(e,t){return e.includes("-")?!o.has(e):!!(t&&"string"==typeof t.is)}var l={reactCompat:!0};function u(e,t){if("string"==typeof e){if(!e.trim()){t.style={};return}try{t.style=(0,s.default)(e,l)}catch(e){t.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(r.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var d=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.canTextBeChildOfNode=d,t.returnFirstArg=function(e){return e}},89069:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(44435)),o=r(i(70544));class a{constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(e,t,i)=>{if(!Reflect.has(e,t))return;if(!("ondevicechange"in navigator.mediaDevices)){if("addEventListener"===t)return this.patchAddEventListener(e,t,i);else if("removeEventListener"===t)return this.patchRemoveEventListener(e,t,i)}let n=Reflect.get(e,t,i);return"function"==typeof n?n.bind(e):n},this.patchAddEventListener=(e,t,i)=>{let n=Reflect.get(e,t,i);return(t,i,r)=>{if("devicechange"!==t)return Reflect.apply(n,e,[t,i,r]);this.deviceChangeListeners.add(i),this.scheduler||(this.scheduler=new o.default(a.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists))}},this.patchRemoveEventListener=(e,t,i)=>{let n=Reflect.get(e,t,i);return(t,i,r)=>{if("devicechange"!==t)return Reflect.apply(n,e,[t,i,r]);this.deviceChangeListeners.delete(i),0===this.deviceChangeListeners.size&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null)}},this.pollDeviceLists=()=>n(this,void 0,void 0,function*(){let e=yield this.sortedDeviceList();this.devices&&(e.length!==this.devices.length||e.some((e,t)=>e.deviceId!==this.devices[t].deviceId))&&this.handleDeviceChangeEvent(),this.devices=e})}sortedDeviceList(){return n(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((e,t)=>e.deviceId<t.deviceId?1:e.deviceId>t.deviceId?-1:0)})}handleDeviceChangeEvent(){for(let e of this.deviceChangeListeners)s.default.nextTick(()=>{if(this.deviceChangeListeners.has(e)){let t=new Event("devicechange");"function"==typeof e?e(t):e.handleEvent(t)}})}}t.default=a,a.INTERVAL_MS=1e3},89202:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(99618));class s extends r.default{constructor(e,t,i){super(e,t,i)}setupLocalTransceivers(){this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}t.default=s},89323:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(74850)),s=n(i(46426)),o=n(i(97100)),a=n(i(60087)),l=n(i(64879)),u=n(i(86007)),d=n(i(1417)),c=n(i(44748)),h=n(i(19641)),f=n(i(7040)),p=n(i(31906)),m=n(i(17082));class g extends m.default{constructor(e){let t=new l.default;t.meetingId="",t.externalMeetingId="",t.credentials=new u.default,t.credentials.attendeeId="",t.credentials.joinToken="",t.urls=new h.default,t.urls.turnControlURL="",t.urls.audioHostURL="",t.urls.signalingURL="wss://localhost/";let i=new o.default;super(e||t,i,new p.default(new o.default),new a.default,new f.default(0,new r.default(0,0,0)),new s.default(e||t,i))}setAudioProfile(e){}start(){}stop(){}promoteToPrimaryMeeting(e){return Promise.resolve(new d.default(c.default.OK))}demoteFromPrimaryMeeting(){}}t.default=g},89485:e=>{"use strict";e.exports=function e(e,t){for(var i=Array(arguments.length-1),n=0,r=2,s=!0;r<arguments.length;)i[n++]=arguments[r++];return new Promise(function(r,o){i[n]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];r.apply(null,t)}};try{e.apply(t||null,i)}catch(e){s&&(s=!1,o(e))}})}},89497:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TargetDisplaySize=void 0,function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High",e[e.Maximum=3]="Maximum"}(i=t.TargetDisplaySize||(t.TargetDisplaySize={})),t.default=i},89910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}},90403:(e,t,i)=>{"use strict";i.r(t),i.d(t,{fromUtf8:()=>a,toUtf8:()=>l});let n=e=>{let t=[];for(let i=0,n=e.length;i<n;i++){let n=e.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192,63&n|128);else if(i+1<e.length&&(64512&n)==55296&&(64512&e.charCodeAt(i+1))==56320){let r=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i));t.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else t.push(n>>12|224,n>>6&63|128,63&n|128)}return Uint8Array.from(t)},r=e=>{let t="";for(let i=0,n=e.length;i<n;i++){let n=e[i];n<128?t+=String.fromCharCode(n):192<=n&&n<224?t+=String.fromCharCode((31&n)<<6|63&e[++i]):240<=n&&n<365?t+=decodeURIComponent("%"+[n,e[++i],e[++i],e[++i]].map(e=>e.toString(16)).join("%")):t+=String.fromCharCode((15&n)<<12|(63&e[++i])<<6|63&e[++i])}return t};function s(e){return new TextEncoder().encode(e)}function o(e){return new TextDecoder("utf-8").decode(e)}let a=e=>"function"==typeof TextEncoder?s(e):n(e),l=e=>"function"==typeof TextDecoder?o(e):r(e)},90458:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});let n=e=>new TextDecoder("utf-8").decode(e)},90543:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(89497)),s=n(i(91719));class o{constructor(e,t,i,n){this.attendeeId=e,this.priority=t,this.targetSize=void 0!==i?i:r.default.Maximum,this.degradationPreference=void 0!==n?n:s.default.Balanced}partialCompare(e){return this.priority-e.priority}equals(e){return this.attendeeId===e.attendeeId&&this.targetSize===e.targetSize&&this.priority===e.priority&&this.degradationPreference===e.degradationPreference}clone(){return new o(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(e){switch(e){case r.default.Maximum:return o.MAXIMUM_BITRATE_KBPS;case r.default.High:return o.HIGH_BITRATE_KBPS;case r.default.Medium:return o.MID_BITRATE_KBPS;case r.default.Low:return o.LOW_BITRATE_KBPS}}}t.default=o,o.LOW_BITRATE_KBPS=300,o.MID_BITRATE_KBPS=600,o.HIGH_BITRATE_KBPS=1500,o.MAXIMUM_BITRATE_KBPS=1e4},90564:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SDPCandidateType=void 0,function(e){e.Host="host",e.ServerReflexive="srflx",e.PeerReflexive="prflx",e.Relay="relay"}(i=t.SDPCandidateType||(t.SDPCandidateType={})),t.default=i},90584:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-4-4v-2c0-1.11-.9-2-2-2h-2V9h4V7H9v6h4v2H9v2h4c1.1 0 2-.89 2-2"}),"Looks5Outlined")},90610:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(72828)),s=i(25927),o=n(i(16992)),a=n(i(73266));class l{constructor(e,t){this.mediaStreamBroker=e,this.state=new o.default,this._transcriptionController=t||new r.default(this)}realtimeSetLocalAttendeeId(e,t){this.state.localAttendeeId=e,this.state.localExternalUserId=t}realtimeSetAttendeeIdPresence(e,t,i,n,r){try{for(let s of(t&&(this.state.attendeeIdToExternalUserId[e]=i),this.state.attendeeIdChangesCallbacks))s(e,t,i,n,r)}catch(e){this.onError(e)}}realtimeSubscribeToAttendeeIdPresence(e){try{this.state.attendeeIdChangesCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToAttendeeIdPresence(e){try{let t=this.state.attendeeIdChangesCallbacks.indexOf(e);-1!==t&&this.state.attendeeIdChangesCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSetCanUnmuteLocalAudio(e){try{if(this.state.canUnmute===e)return;for(let t of(this.state.canUnmute=e,this.state.setCanUnmuteLocalAudioCallbacks))t(e)}catch(e){this.onError(e)}}realtimeSubscribeToSetCanUnmuteLocalAudio(e){try{this.state.setCanUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(e){try{let t=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.setCanUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{for(let e of(this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId),this.state.muteAndUnmuteLocalAudioCallbacks))e(!0)}catch(e){this.onError(e)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{for(let e of(this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId),this.state.muteAndUnmuteLocalAudioCallbacks))e(!1);return!0}catch(e){return this.onError(e),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(e){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(e){try{let t=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(e);-1!==t&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(e,t){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(e)||(this.state.volumeIndicatorCallbacks[e]=[]),this.state.volumeIndicatorCallbacks[e].push(t),this.sendVolumeIndicatorChange(e,!0,!0,!0,this.state.attendeeIdToExternalUserId[e])}catch(e){this.onError(e)}}realtimeUnsubscribeFromVolumeIndicator(e,t){if(this.state.volumeIndicatorCallbacks[e])if(t){let i=this.state.volumeIndicatorCallbacks[e].indexOf(t);i>=0&&this.state.volumeIndicatorCallbacks[e].splice(i,1)}else delete this.state.volumeIndicatorCallbacks[e]}realtimeUpdateVolumeIndicator(e,t,i,n,r){try{i=this.applyLocalMuteOverride(e,i);let s=this.getVolumeIndicatorState(e),o=!1,a=!1,l=!1;null!==i&&s.muted!==i&&(s.muted=i,a=!0,s.muted&&0!==s.volume&&(s.volume=0,o=!0)),s.muted||null===t||(s.volume!==t&&(s.volume=t,o=!0),null===s.muted&&(s.muted=!1,a=!0)),null!==n&&s.signalStrength!==n&&(s.signalStrength=n,l=!0),this.sendVolumeIndicatorChange(e,o,a,l,r)}catch(e){this.onError(e)}}realtimeSubscribeToLocalSignalStrengthChange(e){try{if(this.state.localSignalStrengthChangeCallbacks.push(e),null===this.state.localAttendeeId)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(e){this.onError(e)}}realtimeUnsubscribeToLocalSignalStrengthChange(e){try{let t=this.state.localSignalStrengthChangeCallbacks.indexOf(e);-1!==t&&this.state.localSignalStrengthChangeCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSubscribeToSendDataMessage(e){try{this.state.sendDataMessageCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeFromSendDataMessage(e){try{let t=this.state.sendDataMessageCallbacks.indexOf(e);-1!==t&&this.state.sendDataMessageCallbacks.splice(t,1)}catch(e){this.onError(e)}}realtimeSendDataMessage(e,t,i){try{for(let n of this.state.sendDataMessageCallbacks)n(e,t,i)}catch(e){this.onError(e)}}realtimeSubscribeToReceiveDataMessage(e,t){try{this.state.receiveDataMessageCallbacks.has(e)?this.state.receiveDataMessageCallbacks.get(e).push(t):this.state.receiveDataMessageCallbacks.set(e,[t])}catch(e){this.onError(e)}}realtimeUnsubscribeFromReceiveDataMessage(e){try{this.state.receiveDataMessageCallbacks.delete(e)}catch(e){this.onError(e)}}realtimeReceiveDataMessage(e){try{s.iterateEvery(this.state.receiveDataMessageCallbacks.get(e.topic),t=>{t(e)})}catch(e){Promise.reject(e)}}realtimeSubscribeToFatalError(e){try{this.state.fatalErrorCallbacks.push(e)}catch(e){this.onError(e)}}realtimeUnsubscribeToFatalError(e){try{let t=this.state.fatalErrorCallbacks.indexOf(e);-1!==t&&this.state.fatalErrorCallbacks.splice(t,1)}catch(e){this.onError(e)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(e){e?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(e,t){let i=this.state.localAttendeeId,n=this.state.muted;return e===i&&"activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio?n:t}sendVolumeIndicatorChange(e,t,i,n,r){if(this.sendLocalSignalStrengthChange(e,n),!this.state.volumeIndicatorCallbacks.hasOwnProperty(e))return;let s=this.getVolumeIndicatorState(e),o=new a.default;if(t&&(o.volume=s.volume),i&&(o.muted=s.muted),n&&(o.signalStrength=s.signalStrength),!this.stateIsEmpty(o))for(let t of this.state.volumeIndicatorCallbacks[e])t(e,o.volume,o.muted,o.signalStrength,r)}sendLocalSignalStrengthChange(e,t){if(!t||e!==this.state.localAttendeeId)return;let i=this.getVolumeIndicatorState(e).signalStrength;if(null!==i)for(let e of this.state.localSignalStrengthChangeCallbacks)e(i)}getVolumeIndicatorState(e){return this.state.volumeIndicatorState.hasOwnProperty(e)||(this.state.volumeIndicatorState[e]=new a.default),this.state.volumeIndicatorState[e]}stateIsEmpty(e){return null===e.volume&&null===e.muted&&null===e.signalStrength}onError(e){try{for(let t of this.state.fatalErrorCallbacks)t(e)}catch(t){try{console.error(e),console.error(t)}catch(e){}}}}t.default=l},90643:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__assign:()=>s,__asyncDelegator:()=>S,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>d,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>E,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>f,__extends:()=>r,__generator:()=>c,__importDefault:()=>k,__importStar:()=>x,__makeTemplateObject:()=>C,__metadata:()=>u,__param:()=>l,__read:()=>m,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>v,__values:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var s=function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i}function a(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function l(e,t){return function(i,n){t(i,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})}function c(e,t){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(i)throw TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function h(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}function f(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||(t[i]=e[i])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<i;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){r[e]&&(n[e]=function(t){return new Promise(function(i,n){s.push([e,t,i,n])>1||a(e,t)})})}function a(e,t){try{l(r[e](t))}catch(e){c(s[0][3],e)}}function l(e){e.value instanceof y?Promise.resolve(e.value.v).then(u,d):c(s[0][2],e)}function u(e){a("next",e)}function d(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function S(e){var t,i;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,r){t[n]=e[n]?function(t){return(i=!i)?{value:y(e[n](t)),done:"return"===n}:r?r(t):t}:r}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){r(n,s,(t=e[i](t)).done,t.value)})}}function r(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,i){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,i),i}},90775:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M4 22H2V2h2zM22 7H6v3h16zm-6 7H6v3h10z"}),"AlignHorizontalLeft")},90778:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=i(42642);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=i(15451);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var s=i(80885);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var o=i(57120);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},91028:(e,t,i)=>{"use strict";let n,r,s;i.d(t,{Q:()=>K});var o=i(12115);let a=new Set,l=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakSet,g=0,v=0,y="__aa_tgt",b="__aa_del",S="__aa_new",w=e=>{let t=T(e);t&&t.forEach(e=>P(e))},C=e=>{e.forEach(e=>{e.target===n&&A(),l.has(e.target)&&k(e.target)})};function x(e){let t=c.get(e);null==t||t.disconnect();let i=l.get(e),r=0,s=5;i||(i=O(e),l.set(e,i));let{offsetWidth:o,offsetHeight:a}=n,u=[i.top-s,o-(i.left+s+i.width),a-(i.top+s+i.height),i.left-s].map(e=>`${-1*Math.floor(e)}px`).join(" "),d=new IntersectionObserver(()=>{++r>1&&k(e)},{root:n,threshold:1,rootMargin:u});d.observe(e),c.set(e,d)}function k(e){clearTimeout(p.get(e));let t=L(e),i=U(t)?500:t.duration;p.set(e,setTimeout(async()=>{let t=d.get(e);try{await (null==t?void 0:t.finished),l.set(e,O(e)),x(e)}catch{}},i))}function A(){clearTimeout(p.get(n)),p.set(n,setTimeout(()=>{a.forEach(e=>B(e,e=>M(()=>k(e))))},100))}function E(e){setTimeout(()=>{h.set(e,setInterval(()=>M(k.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function M(e){"function"==typeof requestIdleCallback?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}function T(e){return!e.reduce((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)],[]).every(e=>"#comment"===e.nodeName)&&e.reduce((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(_(t.target),!e.has(t.target)){e.add(t.target);for(let i=0;i<t.target.children.length;i++){let n=t.target.children.item(i);if(n){if(b in n)return!1;_(t.target,n),e.add(n)}}}if(t.removedNodes.length)for(let i=0;i<t.removedNodes.length;i++){let n=t.removedNodes[i];if(b in n)return!1;n instanceof Element&&(e.add(n),_(t.target,n),u.set(n,[t.previousSibling,t.nextSibling]))}}return e},new Set)}function _(e,t){t||y in e?!t||y in t||Object.defineProperty(t,y,{value:e}):Object.defineProperty(e,y,{value:e})}function P(e){var t;let i=e.isConnected,n=l.has(e);i&&u.has(e)&&u.delete(e),d.has(e)&&(null==(t=d.get(e))||t.cancel()),S in e?j(e):n&&i?z(e):n&&!i?$(e):j(e)}function I(e){return Number(e.replace(/[^0-9.\-]/g,""))}function R(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function O(e){let t=e.getBoundingClientRect(),{x:i,y:n}=R(e);return{top:t.top+n,left:t.left+i,width:t.width,height:t.height}}function D(e,t,i){let n=t.width,r=t.height,s=i.width,o=i.height,a=getComputedStyle(e);if("content-box"===a.getPropertyValue("box-sizing")){let e=I(a.paddingTop)+I(a.paddingBottom)+I(a.borderTopWidth)+I(a.borderBottomWidth),t=I(a.paddingLeft)+I(a.paddingRight)+I(a.borderRightWidth)+I(a.borderLeftWidth);n-=t,s-=t,r-=e,o-=e}return[n,s,r,o].map(Math.round)}function L(e){return y in e&&f.has(e[y])?f.get(e[y]):{duration:250,easing:"ease-in-out"}}function N(e){if(y in e)return e[y]}function F(e){let t=N(e);return!!t&&m.has(t)}function B(e,...t){t.forEach(t=>t(e,f.has(e)));for(let i=0;i<e.children.length;i++){let n=e.children.item(i);n&&t.forEach(e=>e(n,f.has(n)))}}function V(e){return Array.isArray(e)?e:[e]}function U(e){return"function"==typeof e}function z(e){let t,i=l.get(e),n=O(e);if(!F(e))return l.set(e,n);if(!i)return;let r=L(e);if("function"!=typeof r){let s=i.left-n.left,o=i.top-n.top,[a,l,u,d]=D(e,i,n),c={transform:`translate(${s}px, ${o}px)`},h={transform:"translate(0, 0)"};a!==l&&(c.width=`${a}px`,h.width=`${l}px`),u!==d&&(c.height=`${u}px`,h.height=`${d}px`),t=e.animate([c,h],{duration:r.duration,easing:r.easing})}else{let[s]=V(r(e,"remain",i,n));(t=new Animation(s)).play()}d.set(e,t),l.set(e,n),t.addEventListener("finish",k.bind(null,e))}function j(e){let t;S in e&&delete e[S];let i=O(e);l.set(e,i);let n=L(e);if(F(e)){if("function"!=typeof n)t=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*n.duration,easing:"ease-in"});else{let[r]=V(n(e,"add",i));(t=new Animation(r)).play()}d.set(e,t),t.addEventListener("finish",k.bind(null,e))}}function H(e,t){var i;e.remove(),l.delete(e),u.delete(e),d.delete(e),null==(i=c.get(e))||i.disconnect(),setTimeout(()=>{if(b in e&&delete e[b],Object.defineProperty(e,S,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(let i in t)e.style[i]=""},0)}function $(e){var t;let i;if(!u.has(e)||!l.has(e))return;let[n,r]=u.get(e);Object.defineProperty(e,b,{value:!0,configurable:!0});let s=window.scrollX,o=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):null==(t=N(e))||t.appendChild(e),!F(e))return H(e);let[a,c,h,f]=q(e),p=L(e),m=l.get(e);(s!==g||o!==v)&&W(e,s,o,p);let y={position:"absolute",top:`${a}px`,left:`${c}px`,width:`${h}px`,height:`${f}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(U(p)){let[t,n]=V(p(e,"remove",m));(null==n?void 0:n.styleReset)!==!1&&(y=(null==n?void 0:n.styleReset)||y,Object.assign(e.style,y)),(i=new Animation(t)).play()}else Object.assign(e.style,y),i=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:p.duration,easing:"ease-out"});d.set(e,i),i.addEventListener("finish",H.bind(null,e,y))}function W(e,t,i,r){let s=g-t,o=v-i,a=document.documentElement.style.scrollBehavior;if("smooth"===getComputedStyle(n).scrollBehavior&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+s,window.scrollY+o),!e.parentElement)return;let l=e.parentElement,u=l.clientHeight,d=l.clientWidth,c=performance.now();function h(){requestAnimationFrame(()=>{if(!U(r)){let e=u-l.clientHeight,t=d-l.clientWidth;c+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-t,top:window.scrollY-e}),u=l.clientHeight,d=l.clientWidth,h()):document.documentElement.style.scrollBehavior=a}})}h()}function q(e){let t=l.get(e),[i,,n]=D(e,t,O(e)),r=e.parentElement;for(;r&&("static"===getComputedStyle(r).position||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);let s=getComputedStyle(r),o=l.get(r)||O(r);return[Math.round(t.top-o.top)-I(s.borderTopWidth),Math.round(t.left-o.left)-I(s.borderLeftWidth),i,n]}function G(e,t={}){return r&&s&&(!window.matchMedia("(prefers-reduced-motion: reduce)").matches||U(t)||t.disrespectUserMotionPreference)&&(m.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),B(e,k,E,e=>null==s?void 0:s.observe(e)),U(t)?f.set(e,t):f.set(e,{duration:250,easing:"ease-in-out",...t}),r.observe(e,{childList:!0}),a.add(e)),Object.freeze({parent:e,enable:()=>{m.add(e)},disable:()=>{m.delete(e)},isEnabled:()=>m.has(e)})}function K(e){let[t,i]=(0,o.useState)(),n=(0,o.useMemo)(()=>e,[]);return[(0,o.useCallback)(e=>{e instanceof HTMLElement?i(G(e,n)):i(void 0)},[n]),(0,o.useCallback)(e=>{t&&(e?t.enable():t.disable())},[t])]}"undefined"!=typeof window&&"ResizeObserver"in window&&(n=document.documentElement,r=new MutationObserver(w),s=new ResizeObserver(C),window.addEventListener("scroll",()=>{v=window.scrollY,g=window.scrollX}),s.observe(n))},91357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n,r,s,o,a,l,u){this.attendeeId=e,this.sdpOffer=t,this.audioHost=i,this.audioMuted=n,this.audioCheckin=r,this.receiveStreamIds=s,this.localVideoEnabled=o,this.videoStreamDescriptions=a,this.connectionTypeHasVideo=l,this.compressedSdpOffer=u,this.videoSubscriptionConfiguration=[]}}t.default=i},91358:(e,t,i)=>{"use strict";i.d(t,{C:()=>m,Ay:()=>v,D_:()=>d,Gu:()=>g});var n=i(92473),r=i(96180),s=i(71716),o=i(67331);function a(e){return function(){return e}}var l=i(73303),u=[0,1];function d(e){return e}function c(e,t){return(t-=e*=1)?function(i){return(i-e)/t}:a(isNaN(t)?NaN:.5)}function h(e,t){var i;return e>t&&(i=e,e=t,t=i),function(i){return Math.max(e,Math.min(t,i))}}function f(e,t,i){var n=e[0],r=e[1],s=t[0],o=t[1];return r<n?(n=c(r,n),s=i(o,s)):(n=c(n,r),s=i(s,o)),function(e){return s(n(e))}}function p(e,t,i){var r=Math.min(e.length,t.length)-1,s=Array(r),o=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)s[a]=c(e[a],e[a+1]),o[a]=i(t[a],t[a+1]);return function(t){var i=(0,n.Ay)(e,t,1,r)-1;return o[i](s[i](t))}}function m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g(){var e,t,i,n,a,c,m=u,g=u,v=r.A,y=d;function b(){var e=Math.min(m.length,g.length);return y!==d&&(y=h(m[0],m[e-1])),n=e>2?p:f,a=c=null,S}function S(t){return null==t||isNaN(t*=1)?i:(a||(a=n(m.map(e),g,v)))(e(y(t)))}return S.invert=function(i){return y(t((c||(c=n(g,m.map(e),s.A)))(i)))},S.domain=function(e){return arguments.length?(m=Array.from(e,l.A),b()):m.slice()},S.range=function(e){return arguments.length?(g=Array.from(e),b()):g.slice()},S.rangeRound=function(e){return g=Array.from(e),v=o.A,b()},S.clamp=function(e){return arguments.length?(y=!!e||d,b()):y!==d},S.interpolate=function(e){return arguments.length?(v=e,b()):v},S.unknown=function(e){return arguments.length?(i=e,S):i},function(i,n){return e=i,t=n,b()}}function v(){return g()(d,d)}},91703:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m-1-10v4h2v-4h3l-4-4-4 4z"}),"ArrowCircleUp")},91719:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoQualityAdaptationPreference=void 0,function(e){e[e.Balanced=0]="Balanced",e[e.MaintainFramerate=1]="MaintainFramerate",e[e.MaintainResolution=2]="MaintainResolution"}(i=t.VideoQualityAdaptationPreference||(t.VideoQualityAdaptationPreference={})),t.default=i},91910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}}t.default=i},92253:(e,t,i)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r={value:!0},s=i(12115),o=n(s),a=i(13548),l=new a,u=l.getBrowser(),d=l.getCPU(),c=l.getDevice(),h=l.getEngine(),f=l.getOS(),p=l.getUA(),m=function(e){return l.setUA(e)},g=function(e){if(!e)return void console.error("No userAgent string was provided");var t=new a(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}},v=Object.freeze({ClientUAInstance:l,browser:u,cpu:d,device:c,engine:h,os:f,ua:p,setUa:m,parseUserAgent:g});function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach(function(t){k(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,i){return t&&C(e.prototype,t),i&&C(e,i),e}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function E(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function P(e,t){if(null==e)return{};var i,n,r=_(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}function O(e,t){return D(e)||L(e,t)||N(e,t)||B()}function D(e){if(Array.isArray(e))return e}function L(e,t){var i,n,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(i=r.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw n}}return s}}function N(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return F(e,t)}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function B(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var V={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},U={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},z={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},j={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},H=function(e){switch(e){case V.Mobile:return{isMobile:!0};case V.Tablet:return{isTablet:!0};case V.SmartTv:return{isSmartTV:!0};case V.Console:return{isConsole:!0};case V.Wearable:return{isWearable:!0};case V.Browser:return{isBrowser:!0};case V.Embedded:return{isEmbedded:!0};default:return j}},$=function(e){return m(e)},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},q=function(){return!!("undefined"!=typeof window&&(window.navigator||navigator))&&(window.navigator||navigator)},G=function(e){var t=q();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},K=function(e,t,i,n,r){return{isBrowser:e,browserMajorVersion:W(t.major),browserFullVersion:W(t.version),browserName:W(t.name),engineName:W(i.name),engineVersion:W(i.version),osName:W(n.name),osVersion:W(n.version),userAgent:W(r)}},X=function(e,t,i,n){return b({},e,{vendor:W(t.vendor),model:W(t.model),os:W(i.name),osVersion:W(i.version),ua:W(n)})},Y=function(e,t,i,n){return{isSmartTV:e,engineName:W(t.name),engineVersion:W(t.version),osName:W(i.name),osVersion:W(i.version),userAgent:W(n)}},J=function(e,t,i,n){return{isConsole:e,engineName:W(t.name),engineVersion:W(t.version),osName:W(i.name),osVersion:W(i.version),userAgent:W(n)}},Q=function(e,t,i,n){return{isWearable:e,engineName:W(t.name),engineVersion:W(t.version),osName:W(i.name),osVersion:W(i.version),userAgent:W(n)}},Z=function(e,t,i,n,r){return{isEmbedded:e,vendor:W(t.vendor),model:W(t.model),engineName:W(i.name),engineVersion:W(i.version),osName:W(n.name),osVersion:W(n.version),userAgent:W(r)}};function ee(e){var t=e?g(e):v,i=t.device,n=t.browser,r=t.engine,s=t.os,o=t.ua,a=H(i.type),l=a.isBrowser,u=a.isMobile,d=a.isTablet,c=a.isSmartTV,h=a.isConsole,f=a.isWearable,p=a.isEmbedded;return l?K(l,n,r,s,o):c?Y(c,r,s,o):h?J(h,r,s,o):u||d?X(a,i,s,o):f?Q(f,r,s,o):p?Z(p,i,r,s,o):void 0}var et=function(e){return e.type===V.Mobile},ei=function(e){return e.type===V.Tablet},en=function(e){var t=e.type;return t===V.Mobile||t===V.Tablet},er=function(e){return e.type===V.SmartTv},es=function(e){return e.type===V.Browser},eo=function(e){return e.type===V.Wearable},ea=function(e){return e.type===V.Console},el=function(e){return e.type===V.Embedded},eu=function(e){return W(e.vendor)},ed=function(e){return W(e.model)},ec=function(e){return W(e.type,"browser")},eh=function(e){return e.name===z.Android},ef=function(e){return e.name===z.Windows},ep=function(e){return e.name===z.MAC_OS},em=function(e){return e.name===z.WindowsPhone},eg=function(e){return e.name===z.IOS},ev=function(e){return W(e.version)},ey=function(e){return W(e.name)},eb=function(e){return e.name===U.Chrome},eS=function(e){return e.name===U.Firefox},ew=function(e){return e.name===U.Chromium},eC=function(e){return e.name===U.Edge},ex=function(e){return e.name===U.Yandex},ek=function(e){var t=e.name;return t===U.Safari||t===U.MobileSafari},eA=function(e){return e.name===U.MobileSafari},eE=function(e){return e.name===U.Opera},eM=function(e){var t=e.name;return t===U.InternetExplorer||t===U.Ie},eT=function(e){return e.name===U.MIUI},e_=function(e){return e.name===U.SamsungBrowser},eP=function(e){return W(e.version)},eI=function(e){return W(e.major)},eR=function(e){return W(e.name)},eO=function(e){return W(e.name)},eD=function(e){return W(e.version)},eL=function(){var e=q(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)},eN=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},eF=function(){var e=q();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},eB=function(){return G("iPad")},eV=function(){return G("iPhone")},eU=function(){return G("iPod")},ez=function(e){return W(e)};function ej(e){var t=e||v,i=t.device,n=t.browser,r=t.os,s=t.engine,o=t.ua;return{isSmartTV:er(i),isConsole:ea(i),isWearable:eo(i),isEmbedded:el(i),isMobileSafari:eA(n)||eB(),isChromium:ew(n),isMobile:en(i)||eB(),isMobileOnly:et(i),isTablet:ei(i)||eB(),isBrowser:es(i),isDesktop:es(i),isAndroid:eh(r),isWinPhone:em(r),isIOS:eg(r)||eB(),isChrome:eb(n),isFirefox:eS(n),isSafari:ek(n),isOpera:eE(n),isIE:eM(n),osVersion:ev(r),osName:ey(r),fullBrowserVersion:eP(n),browserVersion:eI(n),browserName:eR(n),mobileVendor:eu(i),mobileModel:ed(i),engineName:eO(s),engineVersion:eD(s),getUA:ez(o),isEdge:eC(n)||eN(o),isYandex:ex(n),deviceType:ec(i),isIOS13:eF(),isIPad13:eB(),isIPhone13:eV(),isIPod13:eU(),isElectron:eL(),isEdgeChromium:eN(o),isLegacyEdge:eC(n)&&!eN(o),isWindows:ef(r),isMacOs:ep(r),isMIUI:eT(n),isSamsungBrowser:e_(n)}}var eH=er(c),e$=ea(c),eW=eo(c),eq=el(c),eG=eA(u)||eB(),eK=ew(u),eX=en(c)||eB(),eY=et(c),eJ=ei(c)||eB(),eQ=es(c),eZ=es(c),e0=eh(f),e1=em(f),e2=eg(f)||eB(),e5=eb(u),e3=eS(u),e4=ek(u),e6=eE(u),e8=eM(u),e9=ev(f),e7=ey(f),te=eP(u),tt=eI(u),ti=eR(u),tn=eu(c),tr=ed(c),ts=eO(h),to=eD(h),ta=ez(p),tl=eC(u)||eN(p),tu=ex(u),td=ec(c),tc=eF(),th=eB(),tf=eV(),tp=eU(),tm=eL(),tg=eN(p),tv=eC(u)&&!eN(p),ty=ef(f),tb=ep(f),tS=eT(u),tw=e_(u),tC=function(e){if(!e||"string"!=typeof e)return void console.error("No valid user agent string was provided");var t=g(e);return ej({device:t.device,browser:t.browser,os:t.os,engine:t.engine,ua:t.ua})},tx=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return eQ?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tk=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return e8?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tA=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return e2?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tE=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return eX?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tM=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return eJ?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tT=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return e1?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},t_=function(e){var t=e.renderWithFragment,i=e.children,n=(e.viewClassName,e.style,P(e,["renderWithFragment","children","viewClassName","style"]));return eY?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tP=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return eH?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tI=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return e$?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tR=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return eW?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},tO=function(e){var t=e.renderWithFragment,i=e.children,n=(e.viewClassName,e.style,e.condition),r=P(e,["renderWithFragment","children","viewClassName","style","condition"]);return n?t?o.createElement(s.Fragment,null,i):o.createElement("div",r,i):null};function tD(e){return function(t){function i(e){var t;return w(this,i),(t=R(this,M(i).call(this,e))).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(I(t)),t.onOrientationChange=t.onOrientationChange.bind(I(t)),t.onPageLoad=t.onPageLoad.bind(I(t)),t.state={isLandscape:!1,isPortrait:!1},t}return E(i,t),x(i,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=90*(window.innerWidth>window.innerHeight);this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){("undefined"==typeof window?"undefined":S(window))!==void 0&&eX&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return o.createElement(e,A({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),i}(o.Component)}function tL(){var e=O(s.useState(function(){var e=90*(window.innerWidth>window.innerHeight);return{isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"}}),2),t=e[0],i=e[1],n=s.useCallback(function(){var e=90*(window.innerWidth>window.innerHeight),n={isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"};t.orientation!==n.orientation&&i(n)},[t.orientation]);return s.useEffect(function(){return("undefined"==typeof window?"undefined":S(window))!==void 0&&eX&&(n(),window.addEventListener("load",n,!1),window.addEventListener("resize",n,!1)),function(){window.removeEventListener("resize",n,!1),window.removeEventListener("load",n,!1)}},[n]),t}function tN(e){return g(e||window.navigator.userAgent)}function tF(e){var t=tN(e||window.navigator.userAgent);return[ej(t),t]}r=function(e){var t=e.renderWithFragment,i=e.children,n=P(e,["renderWithFragment","children"]);return e0?t?o.createElement(s.Fragment,null,i):o.createElement("div",n,i):null},r=U,r=tx,r=tI,r=tO,r=tk,r=tA,r=t_,r=tE,r=z,r=tP,r=tM,r=tR,r=tT,t.C0=ti,r=tt,r=ee,r=td,r=ts,r=to,r=te,r=tC,r=ta,r=e0,r=eQ,t.H8=e5,r=eK,r=e$,r=eZ,t.UP=tl,r=tg,r=tm,r=eq,t.gm=e3,r=e8,r=e2,r=tc,r=th,r=tf,r=tp,r=tv,r=tS,r=tb,r=eX,t.XF=eY,r=eG,r=e6,t.nr=e4,r=tw,r=eH,r=eJ,r=eW,r=e1,r=ty,r=tu,r=tr,r=tn,r=e7,r=e9,r=g,r=$,r=tN,r=tF,r=tL,r=tD},92473:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>l});var n=i(13231),r=i(66876),s=i(402);let o=(0,r.A)(n.A),a=o.right;o.left,(0,r.A)(s.A).center;let l=a},92689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},92747:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},93026:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFxSegmentationRateManager=void 0;let n=i(13404);class r{constructor(e,t){this.logger=e,this.targetSegmentationCyclePercentage=t/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=n.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation==0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=n.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(e){e>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info(`Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)):this.framesPerSegmentation>1&&e<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info(`Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per ${this.framesPerSegmentation} frames`)),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}}t.VideoFxSegmentationRateManager=r},93063:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(68590)),o=i(96119),a=r(i(76234));class l extends a.default{constructor(e){super(e.logger),this.context=e,this.taskName="ReceiveVideoInputTask"}checkAndApplyVideoConstraint(e,t,i,r,s){return n(this,void 0,void 0,function*(){let n=e?this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution;if(!e&&i<=n.videoWidth&&r<=n.videoHeight&&s<=n.videoFrameRate)return;let o={resizeMode:{ideal:"none"},width:{max:n.videoWidth},height:{max:n.videoHeight},frameRate:{ideal:s,max:n.videoFrameRate}};try{yield t.applyConstraints(o)}catch(t){this.context.logger.info(`Could not apply constraint for video track (content = ${e})`)}})}run(){return n(this,void 0,void 0,function*(){let e,t=this.context.videoDuplexMode===o.SdkStreamServiceType.RX||this.context.videoDuplexMode===o.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=t?o.SdkStreamServiceType.DUPLEX:o.SdkStreamServiceType.TX:this.context.videoDuplexMode=t?o.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}let i=this.context.videoTileController.getLocalVideoTile();try{e=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch(e){this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){let e=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(e.values()))}if(this.context.activeVideoInput=e,e){let t=e.getVideoTracks();if(!t||0===t.length)return;let n=this.context.meetingSessionConfiguration.credentials.attendeeId,r=new s.default(n).hasModality(s.default.MODALITY_CONTENT),o=t[0].getSettings();this.checkAndApplyVideoConstraint(r,t[0],o.width,o.height,o.frameRate);let a=this.context.audioVideoController.configuration.credentials.externalUserId;for(let r of(i.bindVideoStream(n,!0,e,o.width,o.height,null,a),t))this.logger.info(`Using video device label=${r.label} id=${r.id}`),this.context.videoDeviceInformation.current_camera_name=r.label,this.context.videoDeviceInformation.current_camera_id=r.id}})}}t.default=l},93096:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});let n=async()=>{let e=new Date,{headers:t,ok:i,statusText:n}=await fetch(window.location,{cache:"no-store",method:"HEAD"});if(!i)throw Error(`Bad date sample from server: ${n}`);return{requestDate:e,responseDate:new Date,serverDate:new Date(t.get("Date"))}},r=async({fetchSample:e}={fetchSample:n})=>{let t={uncertainty:Number.MAX_VALUE};for(let i=0;i<10;i++)try{let{requestDate:i,responseDate:n,serverDate:r}=await e(),s=(n-i)/2+500;if(s<t.uncertainty){let e=new Date(r.getTime()+500);t={date:e,offset:e-n,uncertainty:s}}}catch(e){console.warn(e)}return t}},93413:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let l=a(i(1417)),u=a(i(44748)),d=a(i(91910)),c=s(i(19408)),h=a(i(23521)),f=a(i(3615)),p=i(96119),m=a(i(76234));class g extends m.default{constructor(e){super(e.logger),this.context=e,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return o(this,void 0,void 0,function*(){let e=yield new Promise((e,t)=>{let i=this.context;i.turnCredentials=null;class n{constructor(e){this.signalingClient=e}cancel(){this.signalingClient.removeObserver(this),t(Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(t){if(t.type===h.default.WebSocketClosed){let e=`The signaling connection was closed with code ${t.closeCode} and reason: ${t.closeReason}`;i.logger.warn(e);let n=u.default.SignalingBadRequest;4410===t.closeCode?(e="The meeting already ended.",i.logger.warn(e),n=u.default.MeetingEnded):t.closeCode>=4500&&t.closeCode<4600&&(n=u.default.SignalingInternalServerError),i.audioVideoController.handleMeetingSessionStatus(new l.default(n),Error(e));return}if(t.type===h.default.ReceivedSignalFrame){if(t.message.type===p.SdkSignalFrame.Type.JOIN_ACK){let e=t.message.joinack;if(!e)return void i.audioVideoController.handleMeetingSessionStatus(new l.default(u.default.SignalingRequestFailed),Error("Join ACK message did not include expected frame"));if(e.videoSubscriptionLimit&&(i.videoSubscriptionLimit=e.videoSubscriptionLimit),i.serverSupportsCompression=e.wantsCompressedSdp,void 0!==e.defaultServerSideNetworkAdaption&&e.defaultServerSideNetworkAdaption!==c.default.Default&&void 0!==i.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption){let t=e.defaultServerSideNetworkAdaption;i.logger.info(`Overriding server side network adaption value to ${t}`),i.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(c.convertServerSideNetworkAdaptionEnumFromSignaled(t))}return void(e&&e.turnCredentials?(i.turnCredentials=new d.default,i.turnCredentials.username=e.turnCredentials.username,i.turnCredentials.password=e.turnCredentials.password,i.turnCredentials.ttl=e.turnCredentials.ttl,i.turnCredentials.uris=e.turnCredentials.uris.map(e=>i.meetingSessionConfiguration.urls.urlRewriter(e)).filter(e=>!!e)):i.logger.error("missing TURN credentials in JoinAckFrame"))}t.message.type===p.SdkSignalFrame.Type.INDEX&&(this.signalingClient.removeObserver(this),e(t.message.index))}}}let r=new n(this.context.signalingClient);this.context.signalingClient.registerObserver(r),this.taskCanceler=r,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;let s=new f.default(this.context.meetingSessionConfiguration.applicationMetadata);void 0!==this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption&&void 0!==this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions&&(s.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),s.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),void 0!==this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex&&(s.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),s.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(s)});this.context.logger.info(`received first index ${JSON.stringify(e)}`),this.context.indexFrame=e})}}t.default=g},93863:(e,t,i)=>{"use strict";i.r(t),i.d(t,{fromHex:()=>s,toHex:()=>o});let n={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),n[e]=t,r[t]=e}function s(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2){let n=e.slice(i,i+2).toLowerCase();if(n in r)t[i/2]=r[n];else throw Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function o(e){let t="";for(let i=0;i<e.byteLength;i++)t+=n[e[i]];return t}},94097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}},94355:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(90643).__exportStar(i(30381),t)},94686:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-4-4v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V9c0-1.11-.9-2-2-2H9v2h4v2h-2v2h2v2H9v2h4c1.1 0 2-.89 2-2"}),"Looks3Outlined")},94988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},95555:(e,t,i)=>{"use strict";var n=i(15376).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=i(90403),s=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},95831:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(35355),r=i(95155);let s=(0,n.A)((0,r.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}),"ZoomOutMap")},95943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.default=i},95975:e=>{"use strict";let t=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[i]=e}return t})());e.exports=(e,i,n,r)=>{let s=t,o=r+n;e^=-1;for(let t=r;t<o;t++)e=e>>>8^s[(e^i[t])&255];return -1^e}},96041:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(4694);class r extends n.TJ{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}},96180:(e,t,i)=>{"use strict";function n(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function r(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function s(){}i.d(t,{A:()=>ea});var o=.7,a=1.4285714285714286,l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=RegExp(`^rgb\\(${l},${l},${l}\\)$`),f=RegExp(`^rgb\\(${d},${d},${d}\\)$`),p=RegExp(`^rgba\\(${l},${l},${l},${u}\\)$`),m=RegExp(`^rgba\\(${d},${d},${d},${u}\\)$`),g=RegExp(`^hsl\\(${u},${d},${d}\\)$`),v=RegExp(`^hsla\\(${u},${d},${d},${u}\\)$`),y={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function b(){return this.rgb().formatHex()}function S(){return this.rgb().formatRgb()}function w(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?C(t):3===i?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new E(t[1],t[2],t[3],1):(t=f.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?x(t[1],t[2],t[3],t[4]):(t=m.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?C(y[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function C(e){return new E(e>>16&255,e>>8&255,255&e,1)}function x(e,t,i,n){return n<=0&&(e=t=i=NaN),new E(e,t,i,n)}function k(e){return(e instanceof s||(e=w(e)),e)?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function A(e,t,i,n){return 1==arguments.length?k(e):new E(e,t,i,null==n?1:n)}function E(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}function M(){return`#${R(this.r)}${R(this.g)}${R(this.b)}`}function T(){return`#${R(this.r)}${R(this.g)}${R(this.b)}${R((isNaN(this.opacity)?1:this.opacity)*255)}`}function _(){let e=P(this.opacity);return`${1===e?"rgb(":"rgba("}${I(this.r)}, ${I(this.g)}, ${I(this.b)}${1===e?")":`, ${e})`}`}function P(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function I(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function R(e){return((e=I(e))<16?"0":"")+e.toString(16)}function O(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new N(e,t,i,n)}function D(e){if(e instanceof N)return new N(e.h,e.s,e.l,e.opacity);if(e instanceof s||(e=w(e)),!e)return new N;if(e instanceof N)return e;var t=(e=e.rgb()).r/255,i=e.g/255,n=e.b/255,r=Math.min(t,i,n),o=Math.max(t,i,n),a=NaN,l=o-r,u=(o+r)/2;return l?(a=t===o?(i-n)/l+(i<n)*6:i===o?(n-t)/l+2:(t-i)/l+4,l/=u<.5?o+r:2-o-r,a*=60):l=u>0&&u<1?0:a,new N(a,l,u,e.opacity)}function L(e,t,i,n){return 1==arguments.length?D(e):new N(e,t,i,null==n?1:n)}function N(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}function F(e){return(e=(e||0)%360)<0?e+360:e}function B(e){return Math.max(0,Math.min(1,e||0))}function V(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}function U(e,t,i,n,r){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*i+(1+3*e+3*s-3*o)*n+o*r)/6}function z(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),r=e[n],s=e[n+1],o=n>0?e[n-1]:2*r-s,a=n<t-1?e[n+2]:2*s-r;return U((i-n/t)*t,o,r,s,a)}}function j(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),r=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],a=e[(n+2)%t];return U((i-n/t)*t,r,s,o,a)}}n(s,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function e(){return this.rgb().formatHex8()},formatHsl:function e(){return D(this).formatHsl()},formatRgb:S,toString:S}),n(E,A,r(s,{brighter(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new E(I(this.r),I(this.g),I(this.b),P(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatHex8:T,formatRgb:_,toString:_})),n(N,L,r(s,{brighter(e){return e=null==e?a:Math.pow(a,e),new N(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new N(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,r=2*i-n;return new E(V(e>=240?e-240:e+120,r,n),V(e,r,n),V(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new N(F(this.h),B(this.s),B(this.l),P(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=P(this.opacity);return`${1===e?"hsl(":"hsla("}${F(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===e?")":`, ${e})`}`}}));let H=e=>()=>e;function $(e,t){return function(i){return e+i*t}}function W(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function q(e){return 1==(e*=1)?G:function(t,i){return i-t?W(t,i,e):H(isNaN(t)?i:t)}}function G(e,t){var i=t-e;return i?$(e,i):H(isNaN(e)?t:e)}let K=function e(t){var i=q(t);function n(e,t){var n=i((e=A(e)).r,(t=A(t)).r),r=i(e.g,t.g),s=i(e.b,t.b),o=G(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=s(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function X(e){return function(t){var i,n,r=t.length,s=Array(r),o=Array(r),a=Array(r);for(i=0;i<r;++i)n=A(t[i]),s[i]=n.r||0,o[i]=n.g||0,a[i]=n.b||0;return s=e(s),o=e(o),a=e(a),n.opacity=1,function(e){return n.r=s(e),n.g=o(e),n.b=a(e),n+""}}}function Y(e,t){var i,n=t?t.length:0,r=e?Math.min(n,e.length):0,s=Array(r),o=Array(n);for(i=0;i<r;++i)s[i]=ea(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(e){for(i=0;i<r;++i)o[i]=s[i](e);return o}}X(z),X(j);var J=i(20277),Q=i(71716);function Z(e,t){var i,n={},r={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)i in e?n[i]=ea(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var ee=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,et=RegExp(ee.source,"g");function ei(e){return function(){return e}}function en(e){return function(t){return e(t)+""}}function er(e,t){var i,n,r,s=ee.lastIndex=et.lastIndex=0,o=-1,a=[],l=[];for(e+="",t+="";(i=ee.exec(e))&&(n=et.exec(t));)(r=n.index)>s&&(r=t.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:(0,Q.A)(i,n)})),s=et.lastIndex;return s<t.length&&(r=t.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?en(l[0].x):ei(t):(t=l.length,function(e){for(var i,n=0;n<t;++n)a[(i=l[n]).i]=i.x(e);return a.join("")})}function es(e,t){t||(t=[]);var i,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function eo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ea(e,t){var i,n=typeof t;return null==t||"boolean"===n?H(t):("number"===n?Q.A:"string"===n?(i=w(t))?(t=i,K):er:t instanceof w?K:t instanceof Date?J.A:eo(t)?es:Array.isArray(t)?Y:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Z:Q.A)(e,t)}},96419:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAudioTransformDevice=void 0,t.isAudioTransformDevice=function(e){return!!e&&"object"==typeof e&&"mute"in e&&"stop"in e&&"intrinsicDevice"in e}},97100:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(75585)),s=n(i(77541));class o extends s.default{constructor(){super(r.default.DEBUG)}}t.default=o},97453:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},97470:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=i(96119),s=n(i(81750)),o=n(i(52045));class a extends s.default{constructor(){super(...arguments),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map}localStreamDescriptions(){let e=[];return this._localStreamInfos.forEach(t=>{e.push(t.clone())}),e}integrateUplinkPolicyDecision(e){let t=!0,i=0;for(let n=0;n<e.length;n++){let r=e[n].maxBitrate/1e3,s=e[n].maxFramerate;if(!t||n===this._localStreamInfos.length){t=!1;let a=new o.default;a.maxBitrateKbps=r,a.maxFrameRate=s,a.disabledByUplinkPolicy=0===r,a.rid=e[n].rid,0!==r&&(a.timeEnabled=Date.now()),this._localStreamInfos.push(a),i++;continue}0===this._localStreamInfos[i].maxBitrateKbps&&r>0&&(this._localStreamInfos[i].timeEnabled=Date.now()),this._localStreamInfos[i].maxBitrateKbps=r,this._localStreamInfos[i].maxFrameRate=s,this._localStreamInfos[i].disabledByUplinkPolicy=0===r,i++}t&&this._localStreamInfos.splice(i)}integrateBitratesFrame(e){super.integrateBitratesFrame(e);let t=new Set,i=new Set(this.streamIdToBitrateKbpsMap.keys());for(let i of e.bitrates)t.add(i.sourceStreamId),this.streamIdToBitrateKbpsMap.set(i.sourceStreamId,this.convertBpsToKbps(i.avgBitrateBps));for(let e of i)t.has(e)||(this.streamIdToBitrateKbpsMap.get(e)===a.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(e,a.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(e,a.NOT_SENDING_STREAM_BITRATE));this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let e="";for(let t of this._localStreamInfos)e+=`streamId=${t.streamId} maxBitrate=${t.maxBitrateKbps} disabledByUplink=${t.disabledByUplinkPolicy}
`;this.logger.debug(()=>e)}integrateIndexFrame(e){super.integrateIndexFrame(e);let t=new Set,i=new Set(this.streamIdToBitrateKbpsMap.keys());for(let e of this.currentIndex.sources)e.mediaType===r.SdkStreamMediaType.VIDEO&&(t.add(e.streamId),this.streamIdToBitrateKbpsMap.has(e.streamId)||this.streamIdToBitrateKbpsMap.set(e.streamId,a.UNSEEN_STREAM_BITRATE));for(let e of i)t.has(e)||this.streamIdToBitrateKbpsMap.delete(e)}integrateSubscribeAckFrame(e){if(super.integrateSubscribeAckFrame(e),!e.allocations||void 0===e.allocations)return;let t=0;for(let i of(this._sendRidToVideoStreamIdMap.clear(),e.allocations)){if(this._localStreamInfos.length<t+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[t].groupId=i.groupId,this._localStreamInfos[t].streamId=i.streamId,this.streamIdToBitrateKbpsMap.has(i.streamId)||this.streamIdToBitrateKbpsMap.set(i.streamId,a.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[t].rid,i.streamId),t++}}sendVideoStreamIdFromRid(e){let t=0;return this._sendRidToVideoStreamIdMap.has(e)&&(t=this._sendRidToVideoStreamIdMap.get(e)),t}}t.default=a,a.UNSEEN_STREAM_BITRATE=-2,a.RECENTLY_INACTIVE_STREAM_BITRATE=-1,a.NOT_SENDING_STREAM_BITRATE=0,a.BitratesMsgFrequencyMs=4e3},97645:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(16900)),s=n(i(53510));class o extends r.default{constructor(e,t){super(e,t,s.default.VideoEncodingCpuHealth),this.consecutiveHighEncodeCpuCnt=0,this.consecutiveHighEncodeCpuThreshold=e.consecutiveHighEncodeCpuThreshold,this.highEncodeCpuMsThreshold=e.highEncodeCpuMsThreshold,this.highEncodeCpuMsPerFrameThreshold=e.highEncodeCpuMsPerFrameThreshold}health(){let e=this.currentData.videoEncodingTimeInMs>=this.highEncodeCpuMsThreshold&&this.currentData.videoEncodingTimePerFrameInMs>=this.highEncodeCpuMsPerFrameThreshold;if(!this.currentData.isVideoEncoderHardware&&(e||this.currentData.cpuLimitationDuration>0)){if(this.consecutiveHighEncodeCpuCnt++,this.consecutiveHighEncodeCpuCnt>this.consecutiveHighEncodeCpuThreshold)return this.consecutiveHighEncodeCpuCnt=0,this.minimumHealth()}else this.consecutiveHighEncodeCpuCnt=0;return this.maximumHealth()}}t.default=o},97714:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(44748)),o=r(i(5551)),a=r(i(76234));class l extends a.default{constructor(e,t=l.CHROME_VPN_TIMEOUT_MS){super(e.logger),this.context=e,this.chromeVpnTimeoutMs=t,this.taskName="FinishGatheringICECandidatesTask"}removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let e;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(e=Error(`canceling ${this.name()} due to the meeting status code: ${s.default.ICEGatheringTimeoutWorkaround}`)),this.cancelPromise&&(e=e||Error(`canceling ${this.name()}`),this.cancelPromise(e),delete this.cancelPromise)}run(){return n(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new o.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines())return void this.context.logger.info(`ice gathering already complete; bypass gathering, current local description ${this.context.peer.localDescription.sdp}`)}else this.context.logger.info(`iOS device does not require checking for connection attributes in SDP, current local description ${this.context.peer.localDescription.sdp}`);if((this.context.browserBehavior.hasFirefoxWebRTC()||"complete"===this.context.peer.iceGatheringState)&&new o.default(this.context.peer.localDescription.sdp).hasCandidates())return void this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");try{yield new Promise((e,t)=>{this.cancelPromise=e=>{this.removeEventListener(),t(e)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if("complete"===this.context.peer.iceGatheringState){this.removeEventListener(),e(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=i=>{if(this.context.logger.info(`ice candidate: ${i.candidate?i.candidate.candidate:"(null)"} state: ${this.context.peer.iceGatheringState}`),i.candidate&&(o.default.isRTPCandidate(i.candidate.candidate)&&this.context.iceCandidates.push(i.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),e(),delete this.cancelPromise;return}"complete"===this.context.peer.iceGatheringState&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),new o.default(this.context.peer.localDescription.sdp).hasCandidates()&&0!==this.context.iceCandidates.length?e():t(Error("no ice candidates were gathered")),delete this.cancelPromise)},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(e){throw e}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}}t.default=l,l.CHROME_VPN_TIMEOUT_MS=5e3},97785:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(24134),r=i(98322),s=i(13063),o=i(27231),a=i(60671),l=i(58989),u=i(34819),d=i(80927),c=i(1855),h=i(59111),f=i(6256);function p(){return f.C.apply((0,h.B)(n.$Z,n.lk,r.Mb,s.R6,o.Hl,a.dA,l.pz,u.vD,d.R,c.aL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},97978:(e,t,i)=>{"use strict";e.exports=r;var n=i(25414);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=r.zero=new r(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/0x100000000>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>0xffffffff&&(i=0,++n>0xffffffff&&(n=0))),new r(i,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e))if(!n.Long)return r.fromNumber(parseInt(e,10));else e=n.Long.fromString(e);return e.low||e.high?new r(e.low>>>0,e.high>>>0):s},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+0x100000000*i)}return this.lo+0x100000000*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===o?s:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},98032:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},98295:(e,t,i)=>{"use strict";var n,r,s,o,a,l,u;i.d(t,{dB:()=>o,Ue:()=>s,Vf:()=>d}),function(e){e.HEADER="header",e.QUERY="query"}(n||(n={})),function(e){e.HEADER="header",e.QUERY="query"}(r||(r={})),function(e){e.HTTP="http",e.HTTPS="https"}(s||(s={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(o||(o={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(a||(a={}));let d="__smithy_context";!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(l||(l={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(u||(u={}))},98296:e=>{"use strict";e.exports=function e(e,t,i){var n=i||8192,r=n>>>1,s=null,o=n;return function(i){if(i<1||i>r)return e(i);o+i>n&&(s=e(n),o=0);var a=t.call(s,o,o+=i);return 7&o&&(o=(7|o)+1),a}}},98322:(e,t,i)=>{"use strict";i.d(t,{Mb:()=>s,he:()=>r});var n=i(70790);let r=(0,n.f)(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());r.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.f)(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)}):null,r.range;let s=(0,n.f)(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());s.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.f)(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null,s.range},98592:(e,t,i)=>{"use strict";i.d(t,{A:()=>y,g:()=>v});var n=i(63067),r=i(30510),s=i(99832),o=i(24647),a=i(91358),l=i(6256);function u(e){return Math.log(e)}function d(e){return Math.exp(e)}function c(e){return-Math.log(-e)}function h(e){return-Math.exp(-e)}function f(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return 10===e?f:e===Math.E?Math.exp:t=>Math.pow(e,t)}function m(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g(e){return(t,i)=>-e(-t,i)}function v(e){let t,i,a=e(u,d),l=a.domain,f=10;function v(){return t=m(f),i=p(f),l()[0]<0?(t=g(t),i=g(i),e(c,h)):e(u,d),a}return a.base=function(e){return arguments.length?(f=+e,v()):f},a.domain=function(e){return arguments.length?(l(e),v()):l()},a.ticks=e=>{let r,s,o=l(),a=o[0],u=o[o.length-1],d=u<a;d&&([a,u]=[u,a]);let c=t(a),h=t(u),p=null==e?10:+e,m=[];if(!(f%1)&&h-c<p){if(c=Math.floor(c),h=Math.ceil(h),a>0){for(;c<=h;++c)for(r=1;r<f;++r)if(!((s=c<0?r/i(-c):r*i(c))<a)){if(s>u)break;m.push(s)}}else for(;c<=h;++c)for(r=f-1;r>=1;--r)if(!((s=c>0?r/i(-c):r*i(c))<a)){if(s>u)break;m.push(s)}2*m.length<p&&(m=(0,n.Ay)(a,u,p))}else m=(0,n.Ay)(c,h,Math.min(h-c,p)).map(i);return d?m.reverse():m},a.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===f?"s":","),"function"!=typeof n&&(f%1||null!=(n=(0,r.A)(n)).precision||(n.trim=!0),n=(0,s.GP)(n)),e===1/0)return n;let o=Math.max(1,f*e/a.ticks().length);return e=>{let r=e/i(Math.round(t(e)));return r*f<f-.5&&(r*=f),r<=o?n(e):""}},a.nice=()=>l((0,o.A)(l(),{floor:e=>i(Math.floor(t(e))),ceil:e=>i(Math.ceil(t(e)))})),a}function y(){let e=v((0,a.Gu)()).domain([1,10]);return e.copy=()=>(0,a.C)(e,y()).base(e.base()),l.C.apply(e,arguments),e}},99038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredPromise=void 0;class i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}getPromise(){return this.promise}resolvePromise(e){this.resolve(e)}resolveAndReplacePromise(e){this.resolve(e),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}rejectPromise(e){this.reject(e)}rejectAndReplacePromise(e){this.reject(e),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}t.DeferredPromise=i},99071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.isContentShare=!1,this.numberOfPublishedVideoSources=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}static isTimestampRecent(e,t){return Date.now()<e+t}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now(),this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.videoEncodingTimePerFrameInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.isContentShare=!1,this.numberOfPublishedVideoSources=0}isConnectionStartRecent(e){return i.isTimestampRecent(this.connectionStartTimestampMs,e)}isLastPacketLossRecent(e){return i.isTimestampRecent(this.lastPacketLossInboundTimestampMs,e)}isGoodSignalRecent(e){return i.isTimestampRecent(this.lastGoodSignalTimestampMs,e)}isWeakSignalRecent(e){return i.isTimestampRecent(this.lastWeakSignalTimestampMs,e)}isNoSignalRecent(e){return i.isTimestampRecent(this.lastNoSignalTimestampMs,e)}clone(){let e=new i;return e.connectionStartTimestampMs=this.connectionStartTimestampMs,e.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,e.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,e.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,e.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,e.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,e.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,e.consecutiveMissedPongs=this.consecutiveMissedPongs,e.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),e.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),e.audioSpeakerDelayMs=this.audioSpeakerDelayMs,e.isVideoEncoderHardware=this.isVideoEncoderHardware,e.videoEncodingTimeInMs=this.videoEncodingTimeInMs,e.videoEncodingTimePerFrameInMs=this.videoEncodingTimePerFrameInMs,e.cpuLimitationDuration=this.cpuLimitationDuration,e.videoInputFps=this.videoInputFps,e.videoEncodeFps=this.videoEncodeFps,e.isContentShare=this.isContentShare,e.numberOfPublishedVideoSources=this.numberOfPublishedVideoSources,e}setConsecutiveMissedPongs(e){this.consecutiveMissedPongs=e}setConsecutiveStatsWithNoPackets(e){this.consecutiveStatsWithNoPackets=e}setConsecutiveStatsWithNoAudioPacketsSent(e){this.consecutiveStatsWithNoAudioPacketsSent=e}setLastPacketLossInboundTimestampMs(e){this.lastPacketLossInboundTimestampMs=e}setLastNoSignalTimestampMs(e){this.lastNoSignalTimestampMs=e}setLastWeakSignalTimestampMs(e){this.lastWeakSignalTimestampMs=e}setLastGoodSignalTimestampMs(e){this.lastGoodSignalTimestampMs=e}setAudioSpeakerDelayMs(e){this.audioSpeakerDelayMs=e}setIsVideoEncoderHardware(e){this.isVideoEncoderHardware=e}setVideoEncodingTimeInMs(e){this.videoEncodingTimeInMs=e}setVideoEncodingTimePerFrameInMs(e){this.videoEncodingTimePerFrameInMs=e}setCpuLimitationDuration(e){this.cpuLimitationDuration=e}setVideoInputFps(e){this.videoInputFps=e}setVideoEncodeFps(e){this.videoEncodeFps=e}setIsContentShare(e){this.isContentShare=e}setNumberOfPublishedVideoSources(e){this.numberOfPublishedVideoSources=e}}t.default=i},99618:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(i(4571)),o=r(i(87630)),a=r(i(79227)),l=r(i(54219)),u=r(i(44435));class d{constructor(e,t,i){this.logger=e,this.browserBehavior=t,this.meetingSessionContext=i,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=[],this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5e3,this.audioRedPacketLossLongEvalPeriodMs=15e3,this.audioRedHoldDownTimeMs=3e5,this.redRecoveryTimeMs=6e4}setEncodingParameters(e){return n(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;let t=this._localCameraTransceiver.sender;if(!e||0===e.size)return;let i=Array.from(e.values()),n=t.getParameters();if(n.encodings&&0!==n.encodings.length)for(let e of n.encodings)for(let t of i){let i;if(!e.rid&&!t.rid||e.rid===t.rid)for(i in t)"rid"!==i&&"codecPayloadType"!==i&&t.hasOwnProperty(i)&&(e[i]=t[i])}else n.encodings=i;yield t.setParameters(n)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(e){return n(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||"sendrecv"!==this._localCameraTransceiver.direction)return;let t=this._localCameraTransceiver.sender;if(!t||e<=0)return;let i=t.getParameters();for(let t of(i.encodings||(i.encodings=[{}]),i.encodings))t.maxBitrate=1e3*e;yield t.setParameters(i)})}setPeer(e){this.peer=e}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&void 0!==this.peer.getTransceivers}hasVideoInput(){return!!this._localCameraTransceiver&&"sendrecv"===this._localCameraTransceiver.direction}trackIsVideoInput(e){return!!this._localCameraTransceiver&&(e===this._localCameraTransceiver.sender.track||e===this._localCameraTransceiver.receiver.track)}setupLocalTransceivers(){var e,t;this.useTransceivers()&&(this.defaultMediaStream||"undefined"==typeof MediaStream||(this.defaultMediaStream=new MediaStream),!this._localAudioTransceiver&&(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),(null==(t=null==(e=this.meetingSessionContext)?void 0:e.audioProfile)?void 0:t.hasRedundancyEnabled())&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(e){return n(this,void 0,void 0,function*(){return this._localAudioTransceiver&&"sendrecv"===this._localAudioTransceiver.direction?(yield this._localAudioTransceiver.sender.replaceTrack(e),!0):(this.logger.info("audio transceiver direction is not set up or not activated"),!1)})}setAudioInput(e){return n(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,e)})}setVideoInput(e){return n(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,e)})}updateVideoTransceivers(e,t){if(!this.useTransceivers())return t.array();let i=this.peer.getTransceivers();return this.videoSubscriptions=[0],t=t.clone(),this.updateTransceivers(i,e,t),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(e,t,i){let n=i.array();for(let i of(0===e.length||e[0].stop?0!==e.length&&this.updateTransceiverWithStop(e,t,n):(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(e,t,n)),n)){let e=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(i,e),this.groupIdToTransceiver.set(t.groupIdForStreamId(i),e),this.videoSubscriptions.push(i),this.logger.info(`adding transceiver mid: ${e.mid} subscription: ${i} direction: recvonly`)}}updateTransceiverWithStop(e,t,i){let n=1;for(let r of(this.videoSubscriptions=[0],e)){if(r===this._localCameraTransceiver||!this.transceiverIsVideo(r)||!r.mid)continue;let e=!1,s=t.streamIdForTrack("v_"+r.mid);if("inactive"!==r.direction&&void 0!==s){for(let[o,a]of i.entries())if(t.StreamIdsInSameGroup(s,a)){r.direction="recvonly",this.videoSubscriptions[n]=a,e=!0,this.streamIdToTransceiver.delete(s),this.streamIdToTransceiver.set(a,r),i.splice(o,1);break}}if(!e)for(let[e,i]of(this.videoSubscriptions[n]=0,this.logger.info(`Stopping MID: ${r.mid}, direction: ${r.direction}, current direction: ${r.currentDirection}`),r.stop(),this.streamIdToTransceiver.entries()))r.mid===i.mid&&(this.streamIdToTransceiver.delete(e),this.groupIdToTransceiver.delete(t.groupIdForStreamId(e)));n+=1}}updateTransceiverWithoutStop(e,t,i){let n=1;for(let r of e)if(r!==this._localCameraTransceiver&&this.transceiverIsVideo(r)){if(this.videoSubscriptions[n]=0,"inactive"!==r.direction){let e=t.streamIdForTrack("v_"+r.mid);if(void 0!==e){for(let[s,o]of i.entries())if(t.StreamIdsInSameGroup(e,o)){r.direction="recvonly",this.videoSubscriptions[n]=o,this.streamIdToTransceiver.delete(e),this.streamIdToTransceiver.set(o,r),i.splice(s,1);break}}}n+=1}for(let r of(n=1,e))if(r!==this._localCameraTransceiver&&this.transceiverIsVideo(r)){if("inactive"===r.direction&&i.length>0){r.direction="recvonly";let e=i.shift();this.videoSubscriptions[n]=e,this.streamIdToTransceiver.set(e,r),this.groupIdToTransceiver.set(t.groupIdForStreamId(e),r)}else if(0===this.videoSubscriptions[n])for(let[e,i]of(r.direction="inactive",this.streamIdToTransceiver.entries()))r===i&&(this.streamIdToTransceiver.delete(e),this.groupIdToTransceiver.delete(t.groupIdForStreamId(e)));n+=1}}getMidForStreamId(e){var t;return null==(t=this.streamIdToTransceiver.get(e))?void 0:t.mid}setStreamIdForMid(e,t){for(let[i,n]of this.streamIdToTransceiver.entries())if(n.mid===e){this.streamIdToTransceiver.delete(i),this.streamIdToTransceiver.set(t,n);return}}getMidForGroupId(e){var t,i;return null!=(i=null==(t=this.groupIdToTransceiver.get(e))?void 0:t.mid)?i:void 0}transceiverIsVideo(e){return e.receiver&&e.receiver.track&&"video"===e.receiver.track.kind||e.sender&&e.sender.track&&"video"===e.sender.track.kind}debugDumpTransceivers(){let e="",t=0;for(let i of this.peer.getTransceivers())this.transceiverIsVideo(i)&&(e+=`transceiver index=${t} mid=${i.mid} subscription=${this.videoSubscriptions[t]} direction=${i.direction}
`,t+=1);return e}setTransceiverInput(e,t){return n(this,void 0,void 0,function*(){e&&(t?e.direction="sendrecv":e.direction="inactive",yield e.sender.replaceTrack(t))})}forEachRedMetricsObserver(e){for(let t of this.redMetricsObservers)u.default.nextTick(()=>{this.redMetricsObservers.has(t)&&t.recoveryMetricsDidReceive(e)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new s.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var e,t;let i=!!window.RTCRtpScriptTransform,n=!!RTCRtpSender.prototype.createEncodedStreams;if(i)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(n)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([l.default],{type:"application/javascript"})),this.logger.info(`[AudioRed] Redundant audio worker URL ${this.audioRedWorkerURL}`),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(e){throw this.logger.error(`[AudioRed] Unable to create audio red worker due to ${e}`),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),e}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=e=>{if("REDWorkerLog"===e.data.type)this.logger.info(e.data.log);else if("RedundantAudioEncoderStats"===e.data.type){let t=new o.default;t.currentTimestampMs=Date.now(),t.ssrc=e.data.ssrc,t.totalAudioPacketsLost=e.data.totalAudioPacketsLost,t.totalAudioPacketsExpected=e.data.totalAudioPacketsExpected,t.totalAudioPacketsRecoveredRed=e.data.totalAudioPacketsRecoveredRed,t.totalAudioPacketsRecoveredFec=e.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(t)}},i)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(n){let e=this._localAudioTransceiver.sender.createEncodedStreams(),t=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:e,receive:t},[e.readable,e.writable,t.readable,t.writable])}null==(e=this.meetingSessionContext)||e.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver(null==(t=this.meetingSessionContext)?void 0:t.statsCollector)}addTransceiver(e,t){var i;let n=this.peer.addTransceiver(e,t);if(!(null==(i=this.peer.getConfiguration())?void 0:i.encodedInsertableStreams)||!this.audioRedWorker)return n;let r=!!window.RTCRtpScriptTransform,s=!!RTCRtpSender.prototype.createEncodedStreams;if(r)n.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),n.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(s){let e=n.sender.createEncodedStreams(),t=n.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"PassthroughTransform",send:e,receive:t},[e.readable,e.writable,t.readable,t.writable])}return n}destroyAudioRedWorkerAndStates(){var e,t;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker.terminate(),this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,null==(e=this.meetingSessionContext)||e.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver(null==(t=this.meetingSessionContext)?void 0:t.statsCollector))}setAudioPayloadTypes(e){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:e.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:e.get("opus")}))}metricsDidReceive(e){let{currentTimestampMs:t}=e,i=e.getRTCStatsReport(),n=0,r=0,s=0;i.forEach(e=>{"audio"===e.kind&&("outbound-rtp"===e.type?r=e.packetsSent:"remote-inbound-rtp"===e.type&&(n=e.timestamp,s=e.packetsLost))}),(0===this.audioMetricsHistory.length||n>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&r>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:n,totalPacketsSent:r,totalPacketsLost:s}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();let o=Math.max(this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs)),[l,u]=a.default.getNumRedundantEncodingsForPacketLoss(o);if(u){this.lastHighPacketLossEventTimestampMs=t,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=t);return}if(!this.audioRedEnabled){let e=t-this.lastAudioRedTurnOffTimestampMs,i=t-this.lastHighPacketLossEventTimestampMs;if(e>=this.audioRedPacketLossLongEvalPeriodMs&&i<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(t)}this.shouldUpdateAudioRedWorkerEncodings(t,l)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:l})}maybeResetHoldDownTimer(e){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=e)}lossPercent(e){if(this.audioMetricsHistory.length<2)return 0;let t=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,i=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,n=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let r=this.audioMetricsHistory.length-2;r>=0;r--)if(t-this.audioMetricsHistory[r].timestampMs>=e)return Math.max(0,Math.min((n-this.audioMetricsHistory[r].totalPacketsLost)/(i-this.audioMetricsHistory[r].totalPacketsSent)*100,100));return 0}shouldUpdateAudioRedWorkerEncodings(e,t){return this.currentNumRedundantEncodings===t?(this.maybeResetHoldDownTimer(e),!1):(!(t<this.currentNumRedundantEncodings)||!(e-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs))&&(this.currentNumRedundantEncodings=t,this.maybeResetHoldDownTimer(e),!0)}addRedundantAudioRecoveryMetricsObserver(e){this.redMetricsObservers.add(e)}removeRedundantAudioRecoveryMetricsObserver(e){this.redMetricsObservers.delete(e)}}t.default=d},99789:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=n(i(61994)),s=n(i(8043));class o{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return s.default.semverString}static get sdkVersionSemVer(){var e,t,i,n;let r=s.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:null==(e=null==r?void 0:r.groups)?void 0:e.major,minor:null==(t=null==r?void 0:r.groups)?void 0:t.minor,patch:null==(i=null==r?void 0:r.groups)?void 0:i.patch,preRelease:null==(n=null==r?void 0:r.groups)?void 0:n.preRelease}}static get buildSHA(){return s.default.hash.substring(1)}static get sdkUserAgentLowResolution(){let e=new r.default;return`${e.name()}-${e.majorVersion()}`}static urlWithVersion(e){let t=new URL(e);return t.searchParams.append(o.X_AMZN_VERSION,o.sdkVersion),t.searchParams.append(o.X_AMZN_USER_AGENT,o.sdkUserAgentLowResolution),t.toString()}}t.default=o,o.X_AMZN_VERSION="X-Amzn-Version",o.X_AMZN_USER_AGENT="X-Amzn-User-Agent"},99801:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CheckAudioConnectivityFeedback=void 0,function(e){e[e.Succeeded=0]="Succeeded",e[e.AudioInputRequestFailed=1]="AudioInputRequestFailed",e[e.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.AudioNotReceived=4]="AudioNotReceived"}(i=t.CheckAudioConnectivityFeedback||(t.CheckAudioConnectivityFeedback={})),t.default=i},99832:(e,t,i)=>{"use strict";i.d(t,{GP:()=>s,s:()=>o});var n,r,s,o,a=i(63090);function l(e,t){return function(i,n){for(var r=i.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(i.substring(r-=a,r+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function u(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var d=i(30510);function c(e){r:for(var t,i=e.length,n=1,r=-1;n<i;++n)switch(e[n]){case".":r=t=n;break;case"0":0===r&&(r=n),t=n;break;default:if(!+e[n])break r;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}var h=i(22877);function f(e,t){var i=(0,h.f)(e,t);if(!i)return e+"";var r=i[0],s=i[1],o=s-(n=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=r.length;return o===a?r:o>a?r+Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+Array(1-o).join("0")+(0,h.f)(e,Math.max(0,t+o-1))[0]}function p(e,t){var i=(0,h.f)(e,t);if(!i)return e+"";var n=i[0],r=i[1];return r<0?"0."+Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+Array(r-n.length+2).join("0")}let m={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:h.A,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p(100*e,t),r:p,s:f,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function g(e){return e}var v=Array.prototype.map,y=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function b(e){var t=void 0===e.grouping||void 0===e.thousands?g:l(v.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?g:u(v.call(e.numerals,String)),h=void 0===e.percent?"%":e.percent+"",f=void 0===e.minus?"":e.minus+"",p=void 0===e.nan?"NaN":e.nan+"";function b(e){var a=(e=(0,d.A)(e)).fill,l=e.align,u=e.sign,g=e.symbol,v=e.zero,b=e.width,S=e.comma,w=e.precision,C=e.trim,x=e.type;"n"===x?(S=!0,x="g"):m[x]||(void 0===w&&(w=12),C=!0,x="g"),(v||"0"===a&&"="===l)&&(v=!0,a="0",l="=");var k="$"===g?i:"#"===g&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",A="$"===g?r:/[%p]/.test(x)?h:"",E=m[x],M=/[defgprs%]/.test(x);function T(e){var i,r,d,h=k,m=A;if("c"===x)m=E(e)+m,e="";else{var g=(e*=1)<0||1/e<0;if(e=isNaN(e)?p:E(Math.abs(e),w),C&&(e=c(e)),g&&0==+e&&"+"!==u&&(g=!1),h=(g?"("===u?u:f:"-"===u||"("===u?"":u)+h,m=("s"===x?y[8+n/3]:"")+m+(g&&"("===u?")":""),M){for(i=-1,r=e.length;++i<r;)if(48>(d=e.charCodeAt(i))||d>57){m=(46===d?s+e.slice(i+1):e.slice(i))+m,e=e.slice(0,i);break}}}S&&!v&&(e=t(e,1/0));var T=h.length+e.length+m.length,_=T<b?Array(b-T+1).join(a):"";switch(S&&v&&(e=t(_+e,_.length?b-m.length:1/0),_=""),l){case"<":e=h+e+m+_;break;case"=":e=h+_+e+m;break;case"^":e=_.slice(0,T=_.length>>1)+h+e+m+_.slice(T);break;default:e=_+h+e+m}return o(e)}return w=void 0===w?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),T.toString=function(){return e+""},T}function S(e,t){var i=b(((e=(0,d.A)(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((0,a.A)(t)/3))),r=Math.pow(10,-n),s=y[8+n/3];return function(e){return i(r*e)+s}}return{format:b,formatPrefix:S}}(function e(e){return s=(r=b(e)).format,o=r.formatPrefix})({thousands:",",grouping:[3],currency:["$",""]})}}]);