(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{59870:function(e,t,n){Promise.resolve().then(n.bind(n,40283))},40283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tr}});var i,r,o,a,s,l,c=n(57437),d=n(53622),u=n(63858),x=n(94547),p=n(50561),g=n(78364),f=n(11144),h=n(4766),m=n(93191),v=n(4087),j=n(23336),b=n(89504),w=n(6519),y=n(61190),S=n(44100),Z=n(31193),C=n(80511);function k(e){return(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",background:"white",borderRadius:2,p:1,...e.sx},children:[(e.title||e.tools)&&(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",mb:1},children:[e.title&&(0,c.jsx)(C.Z,{variant:"h6",children:e.title}),e.tools]}),(0,c.jsx)(Z.Z,{sx:{flexGrow:1,overflowY:"hidden"},children:(0,c.jsx)(Z.Z,{sx:{width:"100%",height:"100%",overflowY:e.scrolling?"auto":"hidden"},children:e.children})})]})}var I=n(2265),E=n(56019),R=n(74130);let D=e=>"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"),":00"),T=e=>{let t=Math.floor(e/36e5),n=Math.floor((e-=36e5*t)/6e4),i=Math.floor((e-=6e4*n)/1e3);return e-=1e3*i,"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))};function U(){let{session:e}=(0,I.useContext)(f.z),[t,n]=(0,I.useState)({}),[i,r]=(0,I.useState)(""),o=(0,I.useRef)();(0,I.useEffect)(()=>{n({startTime:(0,R.P)(e.sessionStartedAt),duration_mins:e.sessionDurationMins})},[e]),(0,I.useEffect)(()=>(t.startTime?(o.current&&clearInterval(o.current),o.current=setInterval(a,1e3),a()):r(t.duration_mins?D(t.duration_mins):"Unknown"),()=>{o.current&&clearInterval(o.current)}),[t]);let a=(0,I.useCallback)(()=>{if(t.startTime){let e=new Date().getTime()-t.startTime.getTime();t.duration_mins&&(e=Math.max(6e4*t.duration_mins-e,0)),r(T(e))}else r(t.duration_mins?D(t.duration_mins):"Unknown")},[t]);return(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,c.jsx)("img",{src:"/icons/clock.svg",style:{height:"1.25rem",width:"auto"}}),(0,c.jsx)(C.Z,{variant:"body1",children:i})]})}var _=n(60658),F=n(65301);(i=a||(a={}))[i.Ready=0]="Ready",i[i.InitError=1]="InitError",i[i.Recording=2]="Recording",i[i.Saving=3]="Saving",i[i.UploadSuccess=4]="UploadSuccess",i[i.UploadError=5]="UploadError";var P=n(5085),A=n(1973),O=n(15785),N=n(83040),V=n(96537),z=n(18502),K=n(24072),M=n(76396);function W(e){let t=(0,I.useId)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(K.ZP,{variant:"popover",popupId:t,children:t=>{var n,i,r;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Z,{startIcon:!1!==e.startIcon?e.startIcon:void 0,endIcon:null!==(n=e.endIcon)&&void 0!==n?n:(0,c.jsx)(N.Z,{color:"action"}),variant:"text",color:"buttonStandard","aria-label":e.ariaLabel,sx:e.sx,...(0,M.LI)(t),children:e.text}),(0,c.jsx)(z.ZP,{...(0,M.ZW)(t),anchorOrigin:null!==(i=e.anchorOrigin)&&void 0!==i?i:{vertical:"bottom",horizontal:"center"},transformOrigin:null!==(r=e.transformOrigin)&&void 0!==r?r:{vertical:"top",horizontal:"center"},children:(0,c.jsx)(Z.Z,{sx:{p:2},children:e.children})})]})}})})}function G(e,t){let n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t;try{document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}catch(e){console.error("Error downloading blob",e)}finally{document.body.removeChild(i)}return n}var q=n(71432),L=n(63375),$=n(22960),B=n(49),Q=n(44908),Y=n(74583);let H=new RegExp(/^.*anker powerconf.*$/i),J=(e,t)=>{var n;return"".concat(null!==(n=t.recordingId)&&void 0!==n?n:"slide-"+"".concat((null!=e?e:0)+1).padStart(3,"0"))};function X(){let{api:e,start:t}=(0,I.useContext)(A.E),{session:n}=(0,I.useContext)(f.z),i=(0,I.useContext)(P.rZ),{slideData:r}=(0,h.Ao)(),[o,a]=(0,I.useState)(!1),[s,l]=(0,I.useState)(()=>n.audience===x.EQ.LiveWorkshop),[d,u]=(0,I.useState)(!1);(0,I.useEffect)(()=>{a(n.facilitationState===x._y.Open&&n.remoteConfiguration===x.VS.InPerson&&r.activity===O.S.deliberation),u(n.facilitationState===x._y.Open&&n.remoteConfiguration===x.VS.InPerson&&r.activity===O.S.deliberation&&void 0!==r.recordingId)},[r.activity,r.recordingId,n.facilitationState,n.remoteConfiguration]);let[p,g]=(0,I.useState)(J(r.index,r)),[m,j]=(0,I.useState)(!1),[b,w]=(0,I.useState)(!1),[y,S]=(0,I.useState)(!1),[k,E]=(0,I.useState)(!1),[R,D]=(0,I.useState)(""),[T,U]=(0,I.useState)(!1),{record:z,stop:K,isRecording:M,recordingTime:X,audioBlob:ee,filenamePart:et,filenameSuffix:en,clearRecording:ei}=function(){let[e,t]=(0,I.useState)(0),[n,i]=(0,I.useState)(void 0),[r,o]=(0,I.useState)(),{startRecording:a,stopRecording:s,togglePauseResume:l,recordingBlob:c,isRecording:d,isPaused:u,recordingTime:x,mediaRecorder:p}=(0,F.I)({noiseSuppression:!0,autoGainControl:!0},e=>{t(1)},{mimeType:"audio/webm"}),g=e=>"audio-recording-".concat(e);return(0,I.useEffect)(()=>{t(d?2:0)},[d]),(0,I.useEffect)(()=>{void 0!==c&&i(c)},[c]),{record:e=>{o(g(e)),a()},stop:()=>{s()},state:e,audioBlob:n,recordingTime:x,isRecording:d,filenamePart:r,filenameSuffix:"webm",clearRecording:()=>{i(void 0),o(void 0)}}}();(0,I.useEffect)(()=>{M&&(console.debug("Stopping recording due to slide change."),u(!1),K())},[r.index]),(0,I.useEffect)(()=>{g(J(r.index,r))},[r.index,r]),(0,I.useEffect)(()=>{s&&d&&!M&&(console.debug("Starting automatic recording."),z(p))},[s,M,d,p]),(0,I.useEffect)(()=>{j(M),M&&S(!1)},[M]),(0,I.useEffect)(()=>{M||void 0===ee||void 0===et||er()},[ee]),(0,I.useEffect)(()=>{eo()},[]);let er=()=>{if(void 0===ee||void 0===et){console.debug("Audio blob or filename part empty. Skipping upload.");return}if(0===ee.size){console.debug("Audio recording is empty. Skipping upload.");return}console.debug("Initiating upload for recording: ".concat(et," (").concat(en,")")),S(!1),w(!0),ea(ee,et,en).then(()=>{console.debug("Upload complete"),S(!1),ei()}).catch(e=>{console.error("Upload failed",e),S(!0)}).finally(()=>{w(!1)})},eo=async()=>{var e;let t=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0].getSettings().deviceId;(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.enumerateDevices)?(E(!0),navigator.mediaDevices.enumerateDevices().then(e=>{e.forEach(e=>{"audioinput"===e.kind&&e.deviceId===t&&(D(e.label),U(-1!==e.label.search(H)))})})):E(!1)},ea=async(r,o,a)=>{console.debug("Retrieving recording upload info...");let s=await t(e.getMediaUploadUrl(n.id,i.sessionToken,i.user.access_token,"deliberation",o,a));(0,q.r)(s)&&(console.debug("Uploading recording...",s),await t((0,_.P)(r,"application/octet-stream",s.uploadUrl,!0,"uploading recording")),console.debug("Upload recording complete."))},es=()=>{if(void 0===ee||0===ee.size){console.debug("Audio blob empty. Skipping download.");return}let e="recording-".concat(null!=et?et:"unknown",".").concat(en);console.debug("Downloading audio recording..."),G(ee,e)},el=(0,$.Z)(),ec=m||b||y;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(W,{startIcon:ec&&(0,c.jsx)(L.Z,{htmlColor:m?el.palette.recordingEnabled.main:b?el.palette.recordingUploading.main:y?el.palette.recordingFailed.main:el.palette.recordingDisabled.main}),endIcon:(0,c.jsx)(N.Z,{color:"action"}),sx:{opacity:o?1:.3},text:"Recording: ".concat(m?"Active":b?"Uploading...":y?"Upload error":"Inactive"),ariaLabel:"Recording information",children:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[!M&&(0,c.jsx)(V.Z,{variant:o?"contained":"outlined",color:o?"primary":"buttonStandard",onClick:()=>z(p),children:"Start Recording"}),M&&(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>{K(),u(!1)},children:"Stop Recording"}),r.recordingId&&(0,c.jsxs)(C.Z,{variant:"body2",children:["Recording id: ",p,(0,c.jsx)("br",{})]}),M&&(0,c.jsxs)(C.Z,{variant:"body2",sx:{fontSize:"0.5rem"},children:["Recording: ",X]}),(0,c.jsx)(B.Z,{sx:{marginTop:"0.5rem"},children:(0,c.jsx)(Q.Z,{control:(0,c.jsx)(Y.Z,{checked:s,onChange:()=>{l(e=>!e)},sx:{margin:"0 0.5rem 0 0.75rem"}}),label:"Automatic recording",sx:{userSelect:"none"}})}),y&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,c.jsx)(L.Z,{htmlColor:el.palette.recordingFailed.main}),(0,c.jsx)(C.Z,{variant:"body1",children:"Recording upload failed"})]}),(0,c.jsx)(C.Z,{variant:"body2",children:"The recording could not be uploaded."}),ee&&et&&en&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>er(),children:(0,c.jsx)(v.Z,{i18nKey:"button.retryUpload"})}),(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>es(),children:"Download audio"})]})]}),k&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Z,{color:"buttonStandard",disabled:M,onClick:()=>eo(),sx:{marginTop:"0.5rem"},variant:"outlined",children:(0,c.jsx)(v.Z,{i18nKey:"audioRecorder.checkMic"})}),""!==R&&(0,c.jsxs)(Z.Z,{sx:{maxWidth:"18rem"},children:[(0,c.jsxs)(C.Z,{sx:{backgroundColor:T?el.palette.taskSuccess.main:el.palette.taskFailed.main,p:1},variant:"body2",children:[T?"✅ ":"⚠️ ",R]}),!T&&(0,c.jsx)(C.Z,{sx:{p:1},variant:"body2",children:(0,c.jsx)(v.Z,{i18nKey:"audioRecorder.preferredMicProblem"})})]})]})]})})})}var ee=n(70883),et=n(44228),en=n(9646),ei=n(10105),er=n(79393);function eo(e){var t;let n=e.message instanceof Error?e.message.message:e.message;return(0,c.jsx)(er.Z,{open:e.show,autoHideDuration:null!==(t=e.autoHideDuration)&&void 0!==t?t:3e3,onClose:()=>e.setShow(!1),message:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[e.icon,n]})})}function ea(e){let[t,n]=(0,I.useState)(!1),i=()=>{var t;null===(t=navigator)||void 0===t||t.clipboard.writeText((0,ei.v)(e.session)),n(!0)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(en.Z,{sx:{alignSelf:"flex-end"},variant:"outlined",onClick:()=>{i()},btnText:"Copy participant link",btnKey:"copy-participant-link"}),(0,c.jsx)(eo,{show:t,setShow:n,message:"Copied participant link to clipboard.",icon:(0,c.jsx)(et.Z,{})})]})}var es=n(40395),el=n(60335),ec=n(21395),ed=n(42748),eu=n(11656),ex=n(47905),ep=n(86917),eg=n(58433),ef=n(14874),eh=n(6722);function em(){let{session:e}=(0,I.useContext)(f.z),{subscriptions:t,thisUser:n}=(0,I.useContext)(ee.l),{api:i,start:r}=(0,I.useContext)(A.E),{user:o,deviceId:a,sessionToken:s}=(0,I.useContext)(P.rZ),[l,d]=(0,I.useState)([]),[u,p]=(0,I.useState)(!1),g=(0,ef.Z)(),h=async()=>{try{p(!0);let t={action:"mute",sessionId:e.id,ticks:Date.now(),originator:a,parameters:{pids:["*"]}};r(i.postFacilitatorAction(o.access_token,s,t,!1))}finally{p(!1)}},m=async(t,n)=>{try{p(!0);let t={action:"mute",sessionId:e.id,ticks:Date.now(),originator:a,parameters:{pids:[n.deviceId]}};r(i.postFacilitatorAction(o.access_token,s,t,!1))}catch(e){console.warn(e)}finally{p(!1)}},v=async(t,n)=>{try{p(!0);let t={action:"kick",sessionId:e.id,ticks:Date.now(),originator:a,parameters:{pid:n.deviceId}};r(i.postFacilitatorAction(o.access_token,s,t,!1))}catch(e){console.warn(e)}finally{p(!1)}},j=t=>{var n,i;let{subscription:r}=t,o=E(r),a=null!==(i=null===(n=e.deviceIdBanList)||void 0===n?void 0:n.includes(r.deviceId))&&void 0!==i&&i;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Z.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"row",gap:1,alignItems:"center",opacity:a?.5:1},children:[(0,c.jsx)(k,{connected:!a&&r.enabled}),(0,c.jsxs)(C.Z,{variant:"h6",component:"span",sx:{flexGrow:1},children:[o,a?" (banned)":void 0]})]})})},b=t=>{var n,i,r;let{subscription:o}=t,{roster:a}=(0,eh.dJs)(),s=a?null===(n=Object.entries(a).find(e=>{let[t,n]=e;return n.externalUserId===o.deviceId}))||void 0===n?void 0:n[1]:void 0,l=E(o),d=null!==(r=null===(i=e.deviceIdBanList)||void 0===i?void 0:i.includes(o.deviceId))&&void 0!==r&&r;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Z.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"row",gap:1,alignItems:"center",opacity:d?.5:1},children:[(0,c.jsx)(k,{connected:!d&&o.enabled}),(0,c.jsxs)(C.Z,{variant:"h6",component:"span",sx:{flexGrow:1},children:[l,d?" (banned)":void 0]}),s&&!d&&(0,c.jsx)(w,{attendee:s,subscription:o})]})})},w=e=>{let{attendee:t,subscription:i}=e;return(0,c.jsx)(c.Fragment,{children:i.subscriptionId!==(null==n?void 0:n.subscriptionId)&&(0,c.jsx)(y,{attendee:t,subscription:i})})},y=e=>{let{attendee:t,subscription:n}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(K.ZP,{variant:"popover",popupId:"attendee-controls-menu-items-".concat(n.subscriptionId),children:e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(el.Z,{"aria-label":"settings",...(0,M.vW)(e),children:(0,c.jsx)("img",{src:"/icons/triple-dots-vertical.svg"})}),(0,c.jsx)(ec.Z,{...(0,M.wK)(e),children:(0,c.jsx)(S,{attendee:t,subscription:n,requestClose:e.close})})]})})})},S=e=>{let{attendee:t,subscription:n,requestClose:i}=e,[r,o]=(0,I.useState)(!1),a=(0,eh.ZzJ)(t.chimeAttendeeId).muted;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(ed.Z,{children:[(0,c.jsx)(eu.Z,{children:(0,c.jsx)(ex.Z,{children:(0,c.jsx)("b",{children:n.participantName})})},"attendee-control-menu-header-".concat(n.subscriptionId)),(0,c.jsxs)(eu.Z,{disabled:u||a,onClick:a?void 0:()=>{i(),m(t,n)},children:[(0,c.jsx)(ep.Z,{children:a?(0,c.jsx)("img",{src:"/icons/controls/participant-muted.svg"}):(0,c.jsx)("img",{src:"/icons/controls/mute-participant.svg"})}),(0,c.jsx)(ex.Z,{inset:!1,children:a?"Participant muted":"Mute participant"})]},"attendee-control-menu-item-".concat(n.subscriptionId,"-mute")),(0,c.jsxs)(eu.Z,{disabled:u,onClick:()=>{o(!0)},children:[(0,c.jsx)(ep.Z,{children:(0,c.jsx)("img",{src:"/icons/controls/remove-participant.svg"})}),(0,c.jsx)(ex.Z,{inset:!1,children:"Remove participant"})]},"attendee-control-menu-item-".concat(n.subscriptionId,"-kick"))]}),(0,c.jsx)(es.Z,{prompt:"Remove the participant from the call?",options:[{key:"kick",text:"Remove participant",filled:!0},{key:"cancel",text:"Cancel",filled:!1}],onSelect:e=>{"kick"===e&&v(t,n)},open:r,setOpen:o,onClose:i})]})},k=e=>{let{connected:t}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(Z.Z,{sx:{p:1,borderRadius:4,height:42,background:t?g.palette.connected.main:g.palette.disconnected.main},children:(0,c.jsx)("img",{style:{height:26,margin:0,padding:0},src:t?"/icons/device-connected.svg":"/icons/device-disconnected.svg"})})})},E=e=>{let t=e.subscriptionId===(null==n?void 0:n.subscriptionId)?"(You) ":"",i=e.participantName&&e.participantName.length>0?e.participantName:"Unknown";return"".concat(t).concat(i)};return(0,I.useEffect)(()=>{d([...t].sort((e,t)=>e.role===t.role?0:e.role===x._b.Controller?-1:t.role===x._b.Controller?1:e.participantName.localeCompare(t.participantName)))},[t]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:4},children:[(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,justifyContent:"flex-end"},children:[e.remoteConfiguration===x.VS.RemoteWithVideoCall&&(0,c.jsx)(en.Z,{variant:"outlined",startIcon:(0,c.jsx)("img",{src:"/icons/controls/participant-muted.svg"}),btnKey:"mute-all",btnText:"Mute all",sx:{alignSelf:"flex-end"},busy:u,onClick:e=>{h()}}),(0,c.jsx)(ea,{session:e})]}),(0,c.jsx)(eg.ZP,{container:!0,spacing:2,children:l.map(t=>(0,c.jsxs)(eg.ZP,{item:!0,xs:6,children:[e.remoteConfiguration===x.VS.RemoteWithVideoCall&&(0,c.jsx)(b,{subscription:t}),e.remoteConfiguration!==x.VS.RemoteWithVideoCall&&(0,c.jsx)(j,{subscription:t})]},"participant-subscription-indicator-".concat(t.subscriptionId)))})]})})}function ev(){let{subscriptions:e,thisUser:t}=(0,I.useContext)(ee.l);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(W,{startIcon:(0,c.jsx)("img",{src:"/icons/session-participants.svg",style:{height:"1.45rem",width:"auto"}}),text:"".concat(e.filter(e=>e.deviceId!==(null==t?void 0:t.deviceId)).length," participants"),children:(0,c.jsx)(Z.Z,{sx:{width:"55vw"},children:(0,c.jsx)(em,{})})})})}var ej=n(8260),eb=n(47656),ew=n(35231),ey=n(50467),eS=n(2842),eZ=n(9542),eC=n(13971);function ek(e){let{colours:t,data:n}=e,i=e=>{let t={true:{l:!0,r:!1},false:{l:!1,r:!0}};return 0===e.true&&(t.false.l=!0),0===e.false&&(t.true.r=!0),t},[r,o]=(0,I.useState)(i(n));(0,I.useEffect)(()=>{o(i(n))},[n]);let a=e=>[e.l?16:0,e.r?16:0,e.r?16:0,e.l?16:0];return(0,c.jsx)(ew.h,{width:"100%",height:40,children:(0,c.jsxs)(ey.v,{layout:"vertical",margin:{left:0,right:0},height:40,data:[{name:"completion",complete:n.true,incomplete:n.false}],children:[(0,c.jsx)(eS.K,{hide:!0,type:"number",max:n.true+n.false}),(0,c.jsx)(eZ.B,{hide:!0,dataKey:"name",type:"category"}),(0,c.jsx)(eC.$,{dataKey:"complete",stackId:"completion",fill:t[0],radius:a(r.true)}),(0,c.jsx)(eC.$,{dataKey:"incomplete",stackId:"completion",fill:t[1],radius:a(r.false)})]})})}var eI=n(37570),eE=n(37552),eR=n(79617),eD=n(51847),eT=n(33578);(r=s||(s={}))[r.NotAnswered=0]="NotAnswered",r[r.Answered=1]="Answered";let eU=(e,t,n,i,r,o)=>{var a;let s=e_(null!==(a=n?null==e?void 0:e.filter(e=>e.questionId===n):e)&&void 0!==a?a:[]),l=s.length,c=t.filter(e=>e.enabled&&e.role===x._b.Client),d=c.filter(e=>!s.find(t=>t.participantId===e.deviceId));if(void 0!==o&&!0===o.noselfvoting&&void 0!==r&&0!==r.length){let e=r.filter(e=>e.id===i);if(1===e.length){let t=e[0].participantId;d=c.filter(e=>e.deviceId!==t).filter(e=>!s.find(t=>t.participantId===e.deviceId))}}let u=s.length+d.length;return{allAnswers:s,relevantParticipants:c,answeredCount:l,participantsWithoutAnswers:d,maxAnswers:u,complete:l===u}},e_=e=>e.sort((e,t)=>new Date(e.created).getTime()-new Date(t.created).getTime()),eF=(e,t)=>{var n;return[...e.allAnswers.map((e,n)=>({description:eP(e,t),answered:1})),...null!==(n=e.participantsWithoutAnswers.map(e=>({description:eA(e),answered:0})))&&void 0!==n?n:[]]},eP=(e,t)=>eA(t.find(t=>t.deviceId===e.participantId)),eA=e=>{var t,n;return null!==(n=null!==(t=null==e?void 0:e.participantName)&&void 0!==t?t:null==e?void 0:e.deviceName)&&void 0!==n?n:"Unknown"};function eO(e){let{sid:t}=(0,I.useContext)(eI.H),{answers:n}=(0,ej.ZP)(e.qid),i=(0,I.useContext)(ee.l),[r,o]=(0,I.useState)(i.subscriptions),[a,s]=(0,I.useState)(eU(n,r,e.qid,e.answerQid,e.allParticipantInput,e.answerRules)),[l,d]=(0,I.useState)([]);(0,I.useEffect)(()=>{o(i.subscriptions)},[i]),(0,I.useEffect)(()=>{s(eU(n,r,e.qid,e.answerQid,e.allParticipantInput,e.answerRules))},[n,r]),(0,I.useEffect)(()=>{d(eF(a,r))},[a,r]);let u=e=>(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:2,background:"white",border:"1px solid #EFEFEF",p:2},children:[(0,c.jsx)(C.Z,{variant:"body1",sx:{borderRight:"1px solid black",overflowX:"scroll",textWrap:"nowrap",flexGrow:1,mr:.5,pr:.5},children:e.description}),1===e.answered&&(0,c.jsx)("img",{src:"/icons/checkbox-filled.svg"}),1!==e.answered&&(0,c.jsx)("img",{src:"/icons/checkbox.svg"})]}),x=(0,ef.Z)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"stretch"},children:[e.qid&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,c.jsx)("img",{src:"/icons/busts.svg",style:{height:"1.5rem",width:"auto"}}),(0,c.jsxs)(C.Z,{variant:"body1",children:[e.label&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("b",{children:[e.label,":"]})," "]}),"".concat(a.answeredCount," of ").concat(a.maxAnswers," ")," ",1!==a.answeredCount?"have":"has"," voted"]})]}),(0,c.jsxs)(eR.Z,{elevation:0,disableGutters:!0,sx:{"&:before":{display:"none"}},children:[(0,c.jsxs)(eD.Z,{expandIcon:(0,c.jsx)(eE.Z,{}),sx:{p:0},children:[a.answeredCount+a.participantsWithoutAnswers.length>0&&(0,c.jsx)(ek,{colours:[x.palette.primary.main,"#ededff"],data:{true:a.answeredCount,false:a.participantsWithoutAnswers.length}}),a.answeredCount+a.participantsWithoutAnswers.length===0&&(0,c.jsx)(ek,{colours:[x.palette.primary.main,"#ededff"],data:{true:0,false:100}})]}),(0,c.jsx)(eT.Z,{sx:{p:0},children:(0,c.jsx)(eg.ZP,{container:!0,spacing:1,sx:{mb:2},children:l.map((t,n)=>(0,c.jsx)(eg.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,c.jsx)(u,{description:t.description,answered:t.answered})},"answer-indicator-grid-item-".concat(e.qid,"-").concat(n)))})})]})]}),!e.qid&&(0,c.jsx)(C.Z,{variant:"body1",children:"Not a polling slide"})]})})}let eN="".concat(eb.O,"[PARTICIPANT_INPUT]"),eV=eN.replace(/[\]\[]/g,"\\$&"),ez=new RegExp("^[a-z0-9-]+".concat(eV,"$")),eK=e=>e.replace(new RegExp("^([a-z0-9-]+)(".concat(eb.O,"[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})$")),"$1"),eM=e=>e.replace(new RegExp("^([a-z0-9-]+".concat(eb.O,")([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})$")),"$2"),eW=e=>e.replace(eN,""),eG=(e,t)=>e[t]||[];function eq(){let{allSlideAnswerRules:e}=(0,h.sQ)(),{slideData:t}=(0,h.Ao)(),{subscriptions:n}=(0,I.useContext)(ee.l),{allAnswers:i}=(0,ej.ZP)(),[r,o]=(0,I.useState)(!1),[a,s]=(0,I.useState)({}),[l,d]=(0,I.useState)(!1),[u,x]=(0,I.useState)(),[p,g]=(0,I.useState)(t.qids);(0,I.useEffect)(()=>{let e=[];t.qids.forEach(t=>{if(!0===ez.test(t)){let n=eW(t),r=e_(eG(i,n));if(void 0!==r&&0!==r.length)for(let t=0;t<r.length;t++)e.push("".concat(n).concat(eb.O).concat(r[t].id))}else e.push(t)}),g(e)},[i,t]),(0,I.useEffect)(()=>{o(p.length>0)},[p]),(0,I.useEffect)(()=>{s(Object.fromEntries(p.map(t=>[t,eU(i[t],n,t,eM(t),eG(i,eK(t)),e?e[eK(t)]:void 0)])))},[i,p,e,t,n]),(0,I.useEffect)(()=>{d(Object.values(a).every(e=>e.complete))},[a]);let f=(0,$.Z)();return(0,I.useEffect)(()=>{let e=l?f.palette.pollingComplete.main:f.palette.pollingInProgress.main;x(r?{icon:(0,c.jsx)(L.Z,{htmlColor:e}),text:l?"Polling complete":"Polling in progress"}:void 0)},[l,r]),(0,c.jsx)(c.Fragment,{children:r&&u&&(0,c.jsx)(W,{startIcon:u.icon,text:u.text,sx:{backgroundColor:f.palette.pollingInProgressBackground.main},children:(0,c.jsx)(Z.Z,{sx:{width:"55vw",display:"flex",flexDirection:"column",gap:1},children:p.map((t,n)=>{let r=p.length>1?0===n?"First question":n===p.length-1?"Last question":void 0:void 0;return(0,c.jsx)(eO,{qid:t,label:r,answerQid:eM(t),allParticipantInput:eG(i,eK(t)),answerRules:e?e[eK(t)]:void 0},"facilitator-polling-monitor-".concat(t,"-").concat(n))})})})})}function eL(){let{deviceId:e,sessionToken:t,user:n}=(0,I.useContext)(P.rZ),{session:i}=(0,I.useContext)(f.z),{api:r,start:o}=(0,I.useContext)(A.E),[a,s]=(0,I.useState)(!1),[l,d]=(0,I.useState)(!1),[u,p]=(0,I.useState)({key:"",text:"Please wait...",variant:"outlined"});(0,I.useEffect)(()=>{switch(i.facilitationState){case x._y.Ready:p({key:"open-session",text:"Open workshop",variant:"contained"});break;case x._y.Open:p({key:"close-session",text:"Close workshop",variant:"outlined"});break;case x._y.Closed:p({key:"open-waiting",text:"Open waiting room",variant:"contained"})}},[i]);let g=async a=>{try{s(!0);var l={action:a===x._y.Open?"open":a===x._y.Ready?"reset":"close",sessionId:i.id,originator:e,ticks:Date.now()};await o(r.postFacilitatorAction(n.access_token,t,l))}catch(e){console.error(e)}finally{s(!1)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(en.Z,{busy:a,variant:u.variant,btnKey:u.key,btnText:u.text,onClick:e=>{switch(e){case"open-waiting":g(x._y.Ready);break;case"open-session":g(x._y.Open);break;case"close-session":d(!0);break;default:console.warn("Unexpected facilitation switch from menu.")}}}),(0,c.jsx)(es.Z,{open:l,setOpen:d,prompt:"Are you sure you want to close the workshop?",onSelect:e=>{"close"===e&&g(x._y.Closed)},options:[{key:"close",text:"Close",filled:!0},{key:"cancel",text:"Cancel",filled:!1}]})]})}var e$=n(8963),eB=n(91428);let eQ=["time_raw","time_readable","attendee","transcript"];(o=l||(l={}))[o.InitError=0]="InitError",o[o.Ready=1]="Ready",o[o.Saving=2]="Saving",o[o.StartActionError=3]="StartActionError",o[o.StopActionError=4]="StopActionError",o[o.Transcribing=5]="Transcribing",o[o.UploadSuccess=6]="UploadSuccess",o[o.UploadError=7]="UploadError";var eY=n(90089);let eH=(e,t)=>{var n;return"".concat(null!==(n=t.recordingId)&&void 0!==n?n:"slide-"+"".concat((null!=e?e:0)+1).padStart(3,"0"))};function eJ(){var e,t;let{api:n,start:i}=(0,I.useContext)(A.E),{session:r}=(0,I.useContext)(f.z),o=(0,I.useContext)(P.rZ),{slideData:a}=(0,h.Ao)(),{t:s}=(0,eY.$G)(),[l,d]=(0,I.useState)(!1),[u,p]=(0,I.useState)(()=>r.audience===x.EQ.LiveWorkshop),[g,m]=(0,I.useState)(!1);(0,I.useEffect)(()=>{d(r.facilitationState===x._y.Open&&r.remoteConfiguration===x.VS.RemoteWithVideoCall&&a.activity===O.S.deliberation),m(r.facilitationState===x._y.Open&&r.remoteConfiguration===x.VS.RemoteWithVideoCall&&a.activity===O.S.deliberation&&void 0!==a.recordingId)},[a.activity,a.recordingId,r.facilitationState,r.remoteConfiguration]);let[j,b]=(0,I.useState)(eH(a.index,a)),[w,y]=(0,I.useState)(!1),[S,k]=(0,I.useState)(!1),[E,R]=(0,I.useState)(!1),{clearTranscription:D,filenamePart:T,isTranscribing:U,startTranscribing:F,stopTranscribing:z,transcribingTime:K,transcriptionBlobs:M}=function(){let{api:e,start:t}=(0,I.useContext)(A.E),{session:n}=(0,I.useContext)(f.z),{user:i,deviceId:r,sessionToken:o}=(0,I.useContext)(P.rZ),a=(0,eh.LoD)(),[s,l]=(0,I.useState)(),[c,d]=(0,I.useState)([]),[u,x]=(0,I.useState)([]),[p,g]=(0,I.useState)(1),[h,m]=(0,I.useState)(),[v,j]=(0,I.useState)(void 0),[b,w]=(0,I.useState)(!1),[y,S]=(0,I.useState)(),[Z,C]=(0,I.useState)(0),k=(0,I.useCallback)(()=>{S(setInterval(()=>{C(e=>e+1)},1e3))},[C,S]),E=(0,I.useCallback)(()=>{null!=y&&clearInterval(y),S(void 0)},[y,S]),R=async a=>{if(!(0,q.r)(i))throw"Not ready";let s={action:a,sessionId:n.id,originator:r,ticks:Date.now()},l=await t(e.postFacilitatorAction(i.access_token,o,s));return(0,q.r)(l)},D=e=>"transcription-".concat(e);(0,I.useEffect)(()=>{g(b?5:1)},[b]),(0,I.useEffect)(()=>{if(b&&void 0!==s&&!s.isPartial){let e=s.startTimeMs,t=new Date(s.startTimeMs),n=s.alternatives[0].items[0].attendee.externalUserId,i=s.alternatives[0].transcript,r=[e,String(t),n,i];d(e=>[...e,r])}},[b,s]),(0,I.useEffect)(()=>{if(a){var e;null===(e=a.transcriptionController)||void 0===e||e.subscribeToTranscriptEvent(T)}return()=>{if(a){var e;null===(e=a.transcriptionController)||void 0===e||e.unsubscribeFromTranscriptEvent(T)}}},[a]);let T=e=>{x(t=>[...t,e]),e instanceof e$.Transcript&&l(e.results[0])};return{clearTranscription:()=>{d([]),x([]),j(void 0),m(void 0)},filenamePart:h,isTranscribing:b,startTranscribing:async e=>{if(null!=y)return;m(D(e)),l(void 0),d([]),x([]);let t=!1;try{t=await R("start-transcription")}catch(e){g(3);return}t&&(w(!0),k())},stopTranscribing:async()=>{let e=!1;try{e=await R("stop-transcription")}catch(e){g(4);return}e&&(E(),C(0),w(!1),j({csv:{blob:new Blob([(0,eB.P)(c,{header:!0,columns:eQ})],{type:"text/csv"}),filenameSuffix:"csv"},json:{blob:new Blob([JSON.stringify(u)],{type:"application/json"}),filenameSuffix:"json"}}))},transcribingState:p,transcribingTime:Z,transcriptionBlobs:v}}();(0,I.useEffect)(()=>{U&&(console.debug("Stopping transcribing due to slide change."),m(!1),z())},[a.index]),(0,I.useEffect)(()=>{b(eH(a.index,a))},[a.index,a]),(0,I.useEffect)(()=>{u&&g&&!U&&(console.debug("Starting automatic transcribing."),F(j))},[u,U,g,j]),(0,I.useEffect)(()=>{y(U),U&&R(!1)},[U]),(0,I.useEffect)(()=>{U||void 0===M||void 0===T||H()},[M]);let H=()=>{var e,t;if(void 0===M||void 0===T){console.debug("Transcription blob or filename part empty. Skipping upload.");return}if((null===(e=M.csv)||void 0===e?void 0:e.blob.size)===0&&(null===(t=M.json)||void 0===t?void 0:t.blob.size)===0){console.debug("Transcription is empty. Skipping upload.");return}console.debug("Initiating upload for transcription: ".concat(T)),R(!1),k(!0),J(M,T).then(()=>{console.debug("Upload complete"),R(!1),D()}).catch(e=>{console.error("Upload failed",e),R(!0)}).finally(()=>{k(!1)})},J=async(e,t)=>{if(console.debug("Transcription upload: ".concat(t,": "),e),console.debug("Retrieving transcription upload info..."),void 0!==e.json){let a=await i(n.getMediaUploadUrl(r.id,o.sessionToken,o.user.access_token,"deliberation",t,e.json.filenameSuffix));(0,q.r)(a)&&(console.debug("Uploading transcription JSON...",a),await i((0,_.P)(e.json.blob,"application/json",a.uploadUrl,!0,"uploading transcription JSON")))}if(void 0!==e.csv){let a=await i(n.getMediaUploadUrl(r.id,o.sessionToken,o.user.access_token,"deliberation",t,e.csv.filenameSuffix));(0,q.r)(a)&&(console.debug("Uploading transcription CSV...",a),await i((0,_.P)(e.csv.blob,"text/csv",a.uploadUrl,!0,"uploading transcription CSV")))}console.debug("Upload transcription complete.")},X=()=>{var e;if(void 0!==M&&void 0!==M.csv&&(null===(e=M.csv)||void 0===e?void 0:e.blob.size)!==0){let e="transcription-".concat(null!=T?T:"unknown",".").concat(M.csv.filenameSuffix);console.debug("Downloading transcription..."),G(M.csv.blob,e)}console.debug("Transcription blob empty. Skipping download.")},ee=(0,$.Z)(),et=w||S||E;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(W,{startIcon:et&&(0,c.jsx)(L.Z,{htmlColor:w?ee.palette.recordingEnabled.main:S?ee.palette.recordingUploading.main:E?ee.palette.recordingFailed.main:ee.palette.recordingDisabled.main}),endIcon:(0,c.jsx)(N.Z,{color:"action"}),sx:{opacity:l?1:.3},text:"".concat(s("transcribing.transcribing"),": ").concat(w?"Active":S?"Uploading...":E?"Upload error":"Inactive"),ariaLabel:s("transcribing.transcribingInformation"),children:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[!U&&(0,c.jsx)(V.Z,{variant:l?"contained":"outlined",color:l?"primary":"buttonStandard",onClick:()=>F(j),children:(0,c.jsx)(v.Z,{i18nKey:"transcribing.startTranscribing"})}),U&&(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>{z(),m(!1)},children:(0,c.jsx)(v.Z,{i18nKey:"transcribing.stopTranscribing"})}),a.recordingId&&(0,c.jsxs)(C.Z,{variant:"body2",children:[(0,c.jsx)(v.Z,{i18nKey:"transcribing.transcriptionId"}),": ",j,(0,c.jsx)("br",{})]}),U&&(0,c.jsxs)(C.Z,{variant:"body2",sx:{fontSize:"0.5rem"},children:[(0,c.jsx)(v.Z,{i18nKey:"transcribing.transcribing"}),": ",K]}),(0,c.jsx)(B.Z,{sx:{marginTop:"0.5rem"},children:(0,c.jsx)(Q.Z,{control:(0,c.jsx)(Y.Z,{checked:u,onChange:()=>{p(e=>!e)},sx:{margin:"0 0.5rem 0 0.75rem"}}),label:(0,c.jsx)(v.Z,{i18nKey:"transcribing.automaticTranscribing"}),sx:{userSelect:"none"}})}),E&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,c.jsx)(L.Z,{htmlColor:ee.palette.recordingFailed.main}),(0,c.jsx)(C.Z,{variant:"body1",children:(0,c.jsx)(v.Z,{i18nKey:"transcribing.transcriptionUploadFailed"})})]}),(0,c.jsxs)(C.Z,{variant:"body2",children:[(0,c.jsx)(v.Z,{i18nKey:"transcribing.transcriptionCouldNotUpload"}),"."]}),M&&(null===(e=M.csv)||void 0===e?void 0:e.blob)&&T&&(null===(t=M.csv)||void 0===t?void 0:t.filenameSuffix)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>H(),children:(0,c.jsx)(v.Z,{i18nKey:"button.retryUpload"})}),(0,c.jsx)(V.Z,{variant:"outlined",color:"buttonStandard",onClick:()=>X(),children:(0,c.jsx)(v.Z,{i18nKey:"transcribing.downloadTranscription"})})]})]})]})})})}function eX(){let{session:e}=(0,I.useContext)(f.z);return(0,c.jsxs)(Z.Z,{sx:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:"white",p:1,borderRadius:2},children:[(0,c.jsx)(t=>{let{showBadge:n}=t;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(Z.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",children:[(0,c.jsx)("img",{src:"/icons/home.svg",style:{height:"2rem",width:"auto",verticalAlign:"middle",marginRight:12,paddingBottom:4}}),n&&(0,c.jsx)(E.Z,{color:"primary",badgeContent:x._y[e.facilitationState],anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,c.jsx)(C.Z,{variant:"h4",component:"h1",children:e.sessionName})}),!n&&(0,c.jsx)(C.Z,{variant:"h4",component:"h1",children:e.sessionName})]})})},{showBadge:!1}),(0,c.jsxs)(Z.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:4},children:[(0,c.jsx)(eq,{}),e.remoteConfiguration===x.VS.InPerson&&(0,c.jsx)(X,{}),e.remoteConfiguration===x.VS.RemoteWithVideoCall&&(0,c.jsx)(eJ,{}),(0,c.jsx)(ev,{}),(0,c.jsx)(U,{}),(0,c.jsx)(eL,{})]})]})}function e0(e){let{notes:t}=e;return(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})}var e1=n(7630),e4=n(69065),e5=n(80824),e2=n(66124);function e6(e){let{session:t}=(0,I.useContext)(f.z),[n,i]=(0,I.useState)(!1),[r,o]=(0,I.useState)(!1),[a,s]=(0,I.useState)(!1);return(0,I.useEffect)(()=>{o(t.facilitationState===x._y.Open)},[t.facilitationState]),(0,I.useEffect)(()=>{s(t.remoteConfiguration===x.VS.InPerson)},[t.remoteConfiguration]),(0,I.useEffect)(()=>{i(r&&a)},[r,a]),(0,c.jsxs)(e4.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:()=>i(!1),children:[(0,c.jsxs)(e5.Z,{children:["The workshop is now open",(0,c.jsx)(Z.Z,{style:{position:"absolute",top:0,right:0},children:(0,c.jsx)(el.Z,{"aria-label":"close",onClick:()=>i(!1),children:(0,c.jsx)(e1.Z,{})})})]}),(0,c.jsx)(e2.Z,{children:(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,c.jsxs)("ul",{children:[r&&(0,c.jsx)("li",{children:"Participants will now be able to enter the session."}),a&&(0,c.jsxs)("li",{children:["Relevant sections will be ",(0,c.jsx)("b",{children:"automatically recorded"}),", unless you disable this feature."]})]}),(0,c.jsx)(V.Z,{variant:"contained",sx:{alignSelf:"center",textTransform:"uppercase"},onClick:()=>i(!1),children:"Continue"})]})})]})}let e3=e=>e.remoteConfiguration===x.VS.RemoteWithVideoCall?"left":"right",e8=e=>e.remoteConfiguration===x.VS.RemoteWithVideoCall,e9=e=>e.remoteConfiguration!==x.VS.RemoteWithVideoCall;function e7(){let{presentation:e,previews:t}=(0,I.useContext)(m.N),{slideData:n}=(0,h.Ao)(),{session:i}=(0,I.useContext)(f.z),[r,o]=(0,I.useState)(e9(i)),[a,s]=(0,I.useState)(e8(i)),[l,d]=(0,I.useState)(e3(i));return(0,I.useEffect)(()=>{o(e9(i)),s(e8(i)),d(e3(i))},[i]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(Z.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:1,p:1,overflow:"hidden"},children:[(0,c.jsx)(Z.Z,{children:(0,c.jsx)(eX,{})}),(0,c.jsxs)(Z.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"row",gap:1,overflowY:"hidden"},children:[(0,c.jsxs)(Z.Z,{sx:{display:"flex",flexDirection:"column",width:"50vw",gap:1,flexShrink:0},children:[(0,c.jsx)(k,{sx:{flexGrow:1,overflow:"hidden",minHeight:"50vh"},children:e}),r&&(0,c.jsx)(k,{children:t}),"left"===l&&(0,c.jsx)(Z.Z,{sx:{flexGrow:1,display:"block",overflowY:"hidden"},children:(0,c.jsx)(k,{scrolling:!0,sx:{height:"100%"},children:(0,c.jsx)(e0,{notes:n.notes})})})]}),(0,c.jsxs)(Z.Z,{sx:{flexGrow:1,width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:1},children:[a&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(y.Z,{sx:{flexGrow:1},joinView:(0,c.jsx)(()=>(0,c.jsx)(S.Z,{preTitle:(0,c.jsx)(v.Z,{i18nKey:"onboarding.thanks"}),title:(0,c.jsx)(v.Z,{i18nKey:"onboarding.almostThere"}),bar:"Connecting your video call..."}),{}),children:(0,c.jsxs)(Z.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:1},children:[(0,c.jsx)(b.ZP,{role:x._b.Controller,children:(0,c.jsx)(w.Z,{sx:{flexGrow:1},isPreview:!1})}),(0,c.jsx)(Z.Z,{className:"call-controls-container",sx:{backgroundColor:"callControlPanelBackground.main",borderRadius:"0.5rem"},children:(0,c.jsx)(j.ZP,{direction:"row",showAudioConfigMenu:!0,showCameraConfigMenu:!0,busy:!1,isPreview:!1})})]})})}),"right"===l&&(0,c.jsx)(Z.Z,{sx:{flexGrow:1,display:"block",overflowY:"hidden"},children:(0,c.jsx)(k,{scrolling:!0,sx:{height:"100%"},children:(0,c.jsx)(e0,{notes:n.notes})})})]})]})]}),(0,c.jsx)(e6,{})]})}var te=n(96608),tt=n(25907);function tn(e){return(0,c.jsx)(c.Fragment,{children:u.UA?(0,c.jsx)(te.Z,{}):(0,c.jsx)(tt.Z,{sid:e.sid,joinCode:e.joinCode,refresh:e.refresh,role:x._b.Controller,children:(0,c.jsxs)(p.Z,{role:x._b.Controller,children:[(0,c.jsx)(g.Z,{}),(0,c.jsx)(e7,{})]})})})}var ti=n(16463);function tr(){let e=(0,ti.useSearchParams)(),t=e.get("sid"),n=e.get("code"),i="true"===e.get("refresh");return null===t||null===n?(0,c.jsx)("p",{children:"Missing session id or join code"}):(0,c.jsx)(d.Z,{searchParams:e,children:(0,c.jsx)(tn,{sid:t,joinCode:n,refresh:i})})}},74130:function(e,t,n){"use strict";function i(e){if(e)return new Date(e)}n.d(t,{P:function(){return i}})},10105:function(e,t,n){"use strict";n.d(t,{k:function(){return r},v:function(){return i}});let i=e=>"".concat(window.location.href.split("/")[0],"//").concat(window.location.href.split("/")[2],"/participant/session?sid=").concat(e.id,"&code=").concat(e.joinCode),r=e=>"".concat(window.location.href.split("/")[0],"//").concat(window.location.href.split("/")[2],"/facilitator/session?sid=").concat(e.id,"&code=").concat(e.joinCode)}},function(e){e.O(0,[908,444,866,221,732,964,403,310,338,662,439,673,526,691,875,971,23,744],function(){return e(e.s=59870)}),_N_E=e.O()}]);